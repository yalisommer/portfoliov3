var jS=Object.defineProperty;var US=(s,t,e)=>t in s?jS(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var H0=(s,t,e)=>US(s,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();var sd={exports:{}},Al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function BS(){if(q0)return Al;q0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:s,type:i,key:c,ref:a!==void 0?a:null,props:o}}return Al.Fragment=t,Al.jsx=e,Al.jsxs=e,Al}var Z0;function GS(){return Z0||(Z0=1,sd.exports=BS()),sd.exports}var M=GS(),rd={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function PS(){if(V0)return St;V0=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),y=Symbol.iterator;function p(O){return O===null||typeof O!="object"?null:(O=y&&O[y]||O["@@iterator"],typeof O=="function"?O:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,R={};function S(O,X,j){this.props=O,this.context=X,this.refs=R,this.updater=j||x}S.prototype.isReactComponent={},S.prototype.setState=function(O,X){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,X,"setState")},S.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function T(){}T.prototype=S.prototype;function C(O,X,j){this.props=O,this.context=X,this.refs=R,this.updater=j||x}var w=C.prototype=new T;w.constructor=C,E(w,S.prototype),w.isPureReactComponent=!0;var L=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},G=Object.prototype.hasOwnProperty;function H(O,X,j,tt,at,dt){return j=dt.ref,{$$typeof:s,type:O,key:X,ref:j!==void 0?j:null,props:dt}}function Z(O,X){return H(O.type,X,void 0,void 0,void 0,O.props)}function K(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function et(O){var X={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(j){return X[j]})}var ut=/\/+/g;function nt(O,X){return typeof O=="object"&&O!==null&&O.key!=null?et(""+O.key):X.toString(36)}function st(){}function ot(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(st,st):(O.status="pending",O.then(function(X){O.status==="pending"&&(O.status="fulfilled",O.value=X)},function(X){O.status==="pending"&&(O.status="rejected",O.reason=X)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function ft(O,X,j,tt,at){var dt=typeof O;(dt==="undefined"||dt==="boolean")&&(O=null);var ct=!1;if(O===null)ct=!0;else switch(dt){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(O.$$typeof){case s:case t:ct=!0;break;case m:return ct=O._init,ft(ct(O._payload),X,j,tt,at)}}if(ct)return at=at(O),ct=tt===""?"."+nt(O,0):tt,L(at)?(j="",ct!=null&&(j=ct.replace(ut,"$&/")+"/"),ft(at,X,j,"",function(ce){return ce})):at!=null&&(K(at)&&(at=Z(at,j+(at.key==null||O&&O.key===at.key?"":(""+at.key).replace(ut,"$&/")+"/")+ct)),X.push(at)),1;ct=0;var Ut=tt===""?".":tt+":";if(L(O))for(var Ot=0;Ot<O.length;Ot++)tt=O[Ot],dt=Ut+nt(tt,Ot),ct+=ft(tt,X,j,dt,at);else if(Ot=p(O),typeof Ot=="function")for(O=Ot.call(O),Ot=0;!(tt=O.next()).done;)tt=tt.value,dt=Ut+nt(tt,Ot++),ct+=ft(tt,X,j,dt,at);else if(dt==="object"){if(typeof O.then=="function")return ft(ot(O),X,j,tt,at);throw X=String(O),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return ct}function z(O,X,j){if(O==null)return O;var tt=[],at=0;return ft(O,tt,"","",function(dt){return X.call(j,dt,at++)}),tt}function Q(O){if(O._status===-1){var X=O._result;X=X(),X.then(function(j){(O._status===0||O._status===-1)&&(O._status=1,O._result=j)},function(j){(O._status===0||O._status===-1)&&(O._status=2,O._result=j)}),O._status===-1&&(O._status=0,O._result=X)}if(O._status===1)return O._result.default;throw O._result}var $=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function rt(){}return St.Children={map:z,forEach:function(O,X,j){z(O,function(){X.apply(this,arguments)},j)},count:function(O){var X=0;return z(O,function(){X++}),X},toArray:function(O){return z(O,function(X){return X})||[]},only:function(O){if(!K(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},St.Component=S,St.Fragment=e,St.Profiler=a,St.PureComponent=C,St.StrictMode=i,St.Suspense=f,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,St.__COMPILER_RUNTIME={__proto__:null,c:function(O){return A.H.useMemoCache(O)}},St.cache=function(O){return function(){return O.apply(null,arguments)}},St.cloneElement=function(O,X,j){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var tt=E({},O.props),at=O.key,dt=void 0;if(X!=null)for(ct in X.ref!==void 0&&(dt=void 0),X.key!==void 0&&(at=""+X.key),X)!G.call(X,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&X.ref===void 0||(tt[ct]=X[ct]);var ct=arguments.length-2;if(ct===1)tt.children=j;else if(1<ct){for(var Ut=Array(ct),Ot=0;Ot<ct;Ot++)Ut[Ot]=arguments[Ot+2];tt.children=Ut}return H(O.type,at,void 0,void 0,dt,tt)},St.createContext=function(O){return O={$$typeof:c,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:o,_context:O},O},St.createElement=function(O,X,j){var tt,at={},dt=null;if(X!=null)for(tt in X.key!==void 0&&(dt=""+X.key),X)G.call(X,tt)&&tt!=="key"&&tt!=="__self"&&tt!=="__source"&&(at[tt]=X[tt]);var ct=arguments.length-2;if(ct===1)at.children=j;else if(1<ct){for(var Ut=Array(ct),Ot=0;Ot<ct;Ot++)Ut[Ot]=arguments[Ot+2];at.children=Ut}if(O&&O.defaultProps)for(tt in ct=O.defaultProps,ct)at[tt]===void 0&&(at[tt]=ct[tt]);return H(O,dt,void 0,void 0,null,at)},St.createRef=function(){return{current:null}},St.forwardRef=function(O){return{$$typeof:h,render:O}},St.isValidElement=K,St.lazy=function(O){return{$$typeof:m,_payload:{_status:-1,_result:O},_init:Q}},St.memo=function(O,X){return{$$typeof:g,type:O,compare:X===void 0?null:X}},St.startTransition=function(O){var X=A.T,j={};A.T=j;try{var tt=O(),at=A.S;at!==null&&at(j,tt),typeof tt=="object"&&tt!==null&&typeof tt.then=="function"&&tt.then(rt,$)}catch(dt){$(dt)}finally{A.T=X}},St.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},St.use=function(O){return A.H.use(O)},St.useActionState=function(O,X,j){return A.H.useActionState(O,X,j)},St.useCallback=function(O,X){return A.H.useCallback(O,X)},St.useContext=function(O){return A.H.useContext(O)},St.useDebugValue=function(){},St.useDeferredValue=function(O,X){return A.H.useDeferredValue(O,X)},St.useEffect=function(O,X,j){var tt=A.H;if(typeof j=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return tt.useEffect(O,X)},St.useId=function(){return A.H.useId()},St.useImperativeHandle=function(O,X,j){return A.H.useImperativeHandle(O,X,j)},St.useInsertionEffect=function(O,X){return A.H.useInsertionEffect(O,X)},St.useLayoutEffect=function(O,X){return A.H.useLayoutEffect(O,X)},St.useMemo=function(O,X){return A.H.useMemo(O,X)},St.useOptimistic=function(O,X){return A.H.useOptimistic(O,X)},St.useReducer=function(O,X,j){return A.H.useReducer(O,X,j)},St.useRef=function(O){return A.H.useRef(O)},St.useState=function(O){return A.H.useState(O)},St.useSyncExternalStore=function(O,X,j){return A.H.useSyncExternalStore(O,X,j)},St.useTransition=function(){return A.H.useTransition()},St.version="19.1.0",St}var K0;function dg(){return K0||(K0=1,rd.exports=PS()),rd.exports}var P=dg(),ad={exports:{}},Ml={},ld={exports:{}},od={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W0;function YS(){return W0||(W0=1,function(s){function t(z,Q){var $=z.length;z.push(Q);t:for(;0<$;){var rt=$-1>>>1,O=z[rt];if(0<a(O,Q))z[rt]=Q,z[$]=O,$=rt;else break t}}function e(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var Q=z[0],$=z.pop();if($!==Q){z[0]=$;t:for(var rt=0,O=z.length,X=O>>>1;rt<X;){var j=2*(rt+1)-1,tt=z[j],at=j+1,dt=z[at];if(0>a(tt,$))at<O&&0>a(dt,tt)?(z[rt]=dt,z[at]=$,rt=at):(z[rt]=tt,z[j]=$,rt=j);else if(at<O&&0>a(dt,$))z[rt]=dt,z[at]=$,rt=at;else break t}}return Q}function a(z,Q){var $=z.sortIndex-Q.sortIndex;return $!==0?$:z.id-Q.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;s.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();s.unstable_now=function(){return c.now()-h}}var f=[],g=[],m=1,y=null,p=3,x=!1,E=!1,R=!1,S=!1,T=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function L(z){for(var Q=e(g);Q!==null;){if(Q.callback===null)i(g);else if(Q.startTime<=z)i(g),Q.sortIndex=Q.expirationTime,t(f,Q);else break;Q=e(g)}}function A(z){if(R=!1,L(z),!E)if(e(f)!==null)E=!0,G||(G=!0,nt());else{var Q=e(g);Q!==null&&ft(A,Q.startTime-z)}}var G=!1,H=-1,Z=5,K=-1;function et(){return S?!0:!(s.unstable_now()-K<Z)}function ut(){if(S=!1,G){var z=s.unstable_now();K=z;var Q=!0;try{t:{E=!1,R&&(R=!1,C(H),H=-1),x=!0;var $=p;try{e:{for(L(z),y=e(f);y!==null&&!(y.expirationTime>z&&et());){var rt=y.callback;if(typeof rt=="function"){y.callback=null,p=y.priorityLevel;var O=rt(y.expirationTime<=z);if(z=s.unstable_now(),typeof O=="function"){y.callback=O,L(z),Q=!0;break e}y===e(f)&&i(f),L(z)}else i(f);y=e(f)}if(y!==null)Q=!0;else{var X=e(g);X!==null&&ft(A,X.startTime-z),Q=!1}}break t}finally{y=null,p=$,x=!1}Q=void 0}}finally{Q?nt():G=!1}}}var nt;if(typeof w=="function")nt=function(){w(ut)};else if(typeof MessageChannel<"u"){var st=new MessageChannel,ot=st.port2;st.port1.onmessage=ut,nt=function(){ot.postMessage(null)}}else nt=function(){T(ut,0)};function ft(z,Q){H=T(function(){z(s.unstable_now())},Q)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(z){z.callback=null},s.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<z?Math.floor(1e3/z):5},s.unstable_getCurrentPriorityLevel=function(){return p},s.unstable_next=function(z){switch(p){case 1:case 2:case 3:var Q=3;break;default:Q=p}var $=p;p=Q;try{return z()}finally{p=$}},s.unstable_requestPaint=function(){S=!0},s.unstable_runWithPriority=function(z,Q){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var $=p;p=z;try{return Q()}finally{p=$}},s.unstable_scheduleCallback=function(z,Q,$){var rt=s.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?rt+$:rt):$=rt,z){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=$+O,z={id:m++,callback:Q,priorityLevel:z,startTime:$,expirationTime:O,sortIndex:-1},$>rt?(z.sortIndex=$,t(g,z),e(f)===null&&z===e(g)&&(R?(C(H),H=-1):R=!0,ft(A,$-rt))):(z.sortIndex=O,t(f,z),E||x||(E=!0,G||(G=!0,nt()))),z},s.unstable_shouldYield=et,s.unstable_wrapCallback=function(z){var Q=p;return function(){var $=p;p=Q;try{return z.apply(this,arguments)}finally{p=$}}}}(od)),od}var Q0;function XS(){return Q0||(Q0=1,ld.exports=YS()),ld.exports}var ud={exports:{}},Ie={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0;function HS(){if(J0)return Ie;J0=1;var s=dg();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,g,m){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:f,containerInfo:g,implementation:m}}var c=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Ie.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Ie.createPortal=function(f,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,m)},Ie.flushSync=function(f){var g=c.T,m=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=g,i.p=m,i.d.f()}},Ie.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},Ie.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},Ie.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var m=g.as,y=h(m,g.crossOrigin),p=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:y,integrity:p,fetchPriority:x}):m==="script"&&i.d.X(f,{crossOrigin:y,integrity:p,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Ie.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},Ie.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,y=h(m,g.crossOrigin);i.d.L(f,m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Ie.preloadModule=function(f,g){if(typeof f=="string")if(g){var m=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},Ie.requestFormReset=function(f){i.d.r(f)},Ie.unstable_batchedUpdates=function(f,g){return f(g)},Ie.useFormState=function(f,g,m){return c.H.useFormState(f,g,m)},Ie.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ie.version="19.1.0",Ie}var $0;function qS(){if($0)return ud.exports;$0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),ud.exports=HS(),ud.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tp;function ZS(){if(tp)return Ml;tp=1;var s=XS(),t=dg(),e=qS();function i(n){var r="https://react.dev/errors/"+n;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function o(n){var r=n,l=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(l=r.return),n=r.return;while(n)}return r.tag===3?l:null}function c(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function h(n){if(o(n)!==n)throw Error(i(188))}function f(n){var r=n.alternate;if(!r){if(r=o(n),r===null)throw Error(i(188));return r!==n?null:n}for(var l=n,u=r;;){var d=l.return;if(d===null)break;var _=d.alternate;if(_===null){if(u=d.return,u!==null){l=u;continue}break}if(d.child===_.child){for(_=d.child;_;){if(_===l)return h(d),n;if(_===u)return h(d),r;_=_.sibling}throw Error(i(188))}if(l.return!==u.return)l=d,u=_;else{for(var v=!1,b=d.child;b;){if(b===l){v=!0,l=d,u=_;break}if(b===u){v=!0,u=d,l=_;break}b=b.sibling}if(!v){for(b=_.child;b;){if(b===l){v=!0,l=_,u=d;break}if(b===u){v=!0,u=_,l=d;break}b=b.sibling}if(!v)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?n:r}function g(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n;for(n=n.child;n!==null;){if(r=g(n),r!==null)return r;n=n.sibling}return null}var m=Object.assign,y=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.consumer"),w=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),H=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),K=Symbol.for("react.activity"),et=Symbol.for("react.memo_cache_sentinel"),ut=Symbol.iterator;function nt(n){return n===null||typeof n!="object"?null:(n=ut&&n[ut]||n["@@iterator"],typeof n=="function"?n:null)}var st=Symbol.for("react.client.reference");function ot(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===st?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case E:return"Fragment";case S:return"Profiler";case R:return"StrictMode";case A:return"Suspense";case G:return"SuspenseList";case K:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case x:return"Portal";case w:return(n.displayName||"Context")+".Provider";case C:return(n._context.displayName||"Context")+".Consumer";case L:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case H:return r=n.displayName||null,r!==null?r:ot(n.type)||"Memo";case Z:r=n._payload,n=n._init;try{return ot(n(r))}catch{}}return null}var ft=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},rt=[],O=-1;function X(n){return{current:n}}function j(n){0>O||(n.current=rt[O],rt[O]=null,O--)}function tt(n,r){O++,rt[O]=n.current,n.current=r}var at=X(null),dt=X(null),ct=X(null),Ut=X(null);function Ot(n,r){switch(tt(ct,r),tt(dt,n),tt(at,null),r.nodeType){case 9:case 11:n=(n=r.documentElement)&&(n=n.namespaceURI)?E0(n):0;break;default:if(n=r.tagName,r=r.namespaceURI)r=E0(r),n=v0(r,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}j(at),tt(at,n)}function ce(){j(at),j(dt),j(ct)}function Te(n){n.memoizedState!==null&&tt(Ut,n);var r=at.current,l=v0(r,n.type);r!==l&&(tt(dt,n),tt(at,l))}function ai(n){dt.current===n&&(j(at),j(dt)),Ut.current===n&&(j(Ut),bl._currentValue=$)}var Ms=Object.prototype.hasOwnProperty,li=s.unstable_scheduleCallback,Mn=s.unstable_cancelCallback,Pe=s.unstable_shouldYield,gn=s.unstable_requestPaint,Ce=s.unstable_now,Ui=s.unstable_getCurrentPriorityLevel,Bi=s.unstable_ImmediatePriority,Xn=s.unstable_UserBlockingPriority,On=s.unstable_NormalPriority,Gi=s.unstable_LowPriority,ae=s.unstable_IdlePriority,Oa=s.log,Da=s.unstable_setDisableYieldValue,Hn=null,ye=null;function qn(n){if(typeof Oa=="function"&&Da(n),ye&&typeof ye.setStrictMode=="function")try{ye.setStrictMode(Hn,n)}catch{}}var De=Math.clz32?Math.clz32:Zc,Eo=Math.log,La=Math.LN2;function Zc(n){return n>>>=0,n===0?32:31-(Eo(n)/La|0)|0}var dr=256,Os=4194304;function Zn(n){var r=n&42;if(r!==0)return r;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Pi(n,r,l){var u=n.pendingLanes;if(u===0)return 0;var d=0,_=n.suspendedLanes,v=n.pingedLanes;n=n.warmLanes;var b=u&134217727;return b!==0?(u=b&~_,u!==0?d=Zn(u):(v&=b,v!==0?d=Zn(v):l||(l=b&~n,l!==0&&(d=Zn(l))))):(b=u&~_,b!==0?d=Zn(b):v!==0?d=Zn(v):l||(l=u&~n,l!==0&&(d=Zn(l)))),d===0?0:r!==0&&r!==d&&(r&_)===0&&(_=d&-d,l=r&-r,_>=l||_===32&&(l&4194048)!==0)?r:d}function Yi(n,r){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&r)===0}function Vc(n,r){switch(n){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gr(){var n=dr;return dr<<=1,(dr&4194048)===0&&(dr=256),n}function Xi(){var n=Os;return Os<<=1,(Os&62914560)===0&&(Os=4194304),n}function oi(n){for(var r=[],l=0;31>l;l++)r.push(n);return r}function Dn(n,r){n.pendingLanes|=r,r!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function vo(n,r,l,u,d,_){var v=n.pendingLanes;n.pendingLanes=l,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=l,n.entangledLanes&=l,n.errorRecoveryDisabledLanes&=l,n.shellSuspendCounter=0;var b=n.entanglements,D=n.expirationTimes,F=n.hiddenUpdates;for(l=v&~l;0<l;){var q=31-De(l),J=1<<q;b[q]=0,D[q]=-1;var U=F[q];if(U!==null)for(F[q]=null,q=0;q<U.length;q++){var B=U[q];B!==null&&(B.lane&=-536870913)}l&=~J}u!==0&&Na(n,u,0),_!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=_&~(v&~r))}function Na(n,r,l){n.pendingLanes|=r,n.suspendedLanes&=~r;var u=31-De(r);n.entangledLanes|=r,n.entanglements[u]=n.entanglements[u]|1073741824|l&4194090}function je(n,r){var l=n.entangledLanes|=r;for(n=n.entanglements;l;){var u=31-De(l),d=1<<u;d&r|n[u]&r&&(n[u]|=r),l&=~d}}function Ln(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Le(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function nn(){var n=Q.p;return n!==0?n:(n=window.event,n===void 0?32:U0(n.type))}function Ye(n,r){var l=Q.p;try{return Q.p=n,r()}finally{Q.p=l}}var pe=Math.random().toString(36).slice(2),Kt="__reactFiber$"+pe,wt="__reactProps$"+pe,ne="__reactContainer$"+pe,sn="__reactEvents$"+pe,Kc="__reactListeners$"+pe,Mv="__reactHandles$"+pe,lm="__reactResources$"+pe,Ia="__reactMarker$"+pe;function Wc(n){delete n[Kt],delete n[wt],delete n[sn],delete n[Kc],delete n[Mv]}function mr(n){var r=n[Kt];if(r)return r;for(var l=n.parentNode;l;){if(r=l[ne]||l[Kt]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(n=R0(n);n!==null;){if(l=n[Kt])return l;n=R0(n)}return r}n=l,l=n.parentNode}return null}function _r(n){if(n=n[Kt]||n[ne]){var r=n.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return n}return null}function za(n){var r=n.tag;if(r===5||r===26||r===27||r===6)return n.stateNode;throw Error(i(33))}function yr(n){var r=n[lm];return r||(r=n[lm]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ee(n){n[Ia]=!0}var om=new Set,um={};function Ds(n,r){pr(n,r),pr(n+"Capture",r)}function pr(n,r){for(um[n]=r,n=0;n<r.length;n++)om.add(r[n])}var Ov=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),cm={},hm={};function Dv(n){return Ms.call(hm,n)?!0:Ms.call(cm,n)?!1:Ov.test(n)?hm[n]=!0:(cm[n]=!0,!1)}function xo(n,r,l){if(Dv(r))if(l===null)n.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":n.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(r);return}}n.setAttribute(r,""+l)}}function So(n,r,l){if(l===null)n.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(r);return}n.setAttribute(r,""+l)}}function ui(n,r,l,u){if(u===null)n.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(l);return}n.setAttributeNS(r,l,""+u)}}var Qc,fm;function Er(n){if(Qc===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);Qc=r&&r[1]||"",fm=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qc+n+fm}var Jc=!1;function $c(n,r){if(!n||Jc)return"";Jc=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(B){var U=B}Reflect.construct(n,[],J)}else{try{J.call()}catch(B){U=B}n.call(J.prototype)}}else{try{throw Error()}catch(B){U=B}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(B){if(B&&U&&typeof B.stack=="string")return[B.stack,U.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=u.DetermineComponentFrameRoot(),v=_[0],b=_[1];if(v&&b){var D=v.split(`
`),F=b.split(`
`);for(d=u=0;u<D.length&&!D[u].includes("DetermineComponentFrameRoot");)u++;for(;d<F.length&&!F[d].includes("DetermineComponentFrameRoot");)d++;if(u===D.length||d===F.length)for(u=D.length-1,d=F.length-1;1<=u&&0<=d&&D[u]!==F[d];)d--;for(;1<=u&&0<=d;u--,d--)if(D[u]!==F[d]){if(u!==1||d!==1)do if(u--,d--,0>d||D[u]!==F[d]){var q=`
`+D[u].replace(" at new "," at ");return n.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",n.displayName)),q}while(1<=u&&0<=d);break}}}finally{Jc=!1,Error.prepareStackTrace=l}return(l=n?n.displayName||n.name:"")?Er(l):""}function Lv(n){switch(n.tag){case 26:case 27:case 5:return Er(n.type);case 16:return Er("Lazy");case 13:return Er("Suspense");case 19:return Er("SuspenseList");case 0:case 15:return $c(n.type,!1);case 11:return $c(n.type.render,!1);case 1:return $c(n.type,!0);case 31:return Er("Activity");default:return""}}function dm(n){try{var r="";do r+=Lv(n),n=n.return;while(n);return r}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function mn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function gm(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Nv(n){var r=gm(n)?"checked":"value",l=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),u=""+n[r];if(!n.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var d=l.get,_=l.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return d.call(this)},set:function(v){u=""+v,_.call(this,v)}}),Object.defineProperty(n,r,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(v){u=""+v},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function bo(n){n._valueTracker||(n._valueTracker=Nv(n))}function mm(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var l=r.getValue(),u="";return n&&(u=gm(n)?n.checked?"true":"false":n.value),n=u,n!==l?(r.setValue(n),!0):!1}function Ro(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Iv=/[\n"\\]/g;function _n(n){return n.replace(Iv,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function th(n,r,l,u,d,_,v,b){n.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.type=v:n.removeAttribute("type"),r!=null?v==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+mn(r)):n.value!==""+mn(r)&&(n.value=""+mn(r)):v!=="submit"&&v!=="reset"||n.removeAttribute("value"),r!=null?eh(n,v,mn(r)):l!=null?eh(n,v,mn(l)):u!=null&&n.removeAttribute("value"),d==null&&_!=null&&(n.defaultChecked=!!_),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?n.name=""+mn(b):n.removeAttribute("name")}function _m(n,r,l,u,d,_,v,b){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.type=_),r!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||r!=null))return;l=l!=null?""+mn(l):"",r=r!=null?""+mn(r):l,b||r===n.value||(n.value=r),n.defaultValue=r}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=b?n.checked:!!u,n.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(n.name=v)}function eh(n,r,l){r==="number"&&Ro(n.ownerDocument)===n||n.defaultValue===""+l||(n.defaultValue=""+l)}function vr(n,r,l,u){if(n=n.options,r){r={};for(var d=0;d<l.length;d++)r["$"+l[d]]=!0;for(l=0;l<n.length;l++)d=r.hasOwnProperty("$"+n[l].value),n[l].selected!==d&&(n[l].selected=d),d&&u&&(n[l].defaultSelected=!0)}else{for(l=""+mn(l),r=null,d=0;d<n.length;d++){if(n[d].value===l){n[d].selected=!0,u&&(n[d].defaultSelected=!0);return}r!==null||n[d].disabled||(r=n[d])}r!==null&&(r.selected=!0)}}function ym(n,r,l){if(r!=null&&(r=""+mn(r),r!==n.value&&(n.value=r),l==null)){n.defaultValue!==r&&(n.defaultValue=r);return}n.defaultValue=l!=null?""+mn(l):""}function pm(n,r,l,u){if(r==null){if(u!=null){if(l!=null)throw Error(i(92));if(ft(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),r=l}l=mn(r),n.defaultValue=l,u=n.textContent,u===l&&u!==""&&u!==null&&(n.value=u)}function xr(n,r){if(r){var l=n.firstChild;if(l&&l===n.lastChild&&l.nodeType===3){l.nodeValue=r;return}}n.textContent=r}var zv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Em(n,r,l){var u=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?n.setProperty(r,""):r==="float"?n.cssFloat="":n[r]="":u?n.setProperty(r,l):typeof l!="number"||l===0||zv.has(r)?r==="float"?n.cssFloat=l:n[r]=(""+l).trim():n[r]=l+"px"}function vm(n,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(n=n.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var d in r)u=r[d],r.hasOwnProperty(d)&&l[d]!==u&&Em(n,d,u)}else for(var _ in r)r.hasOwnProperty(_)&&Em(n,_,r[_])}function nh(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function To(n){return Fv.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var ih=null;function sh(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Sr=null,br=null;function xm(n){var r=_r(n);if(r&&(n=r.stateNode)){var l=n[wt]||null;t:switch(n=r.stateNode,r.type){case"input":if(th(n,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=n;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+_n(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var u=l[r];if(u!==n&&u.form===n.form){var d=u[wt]||null;if(!d)throw Error(i(90));th(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(r=0;r<l.length;r++)u=l[r],u.form===n.form&&mm(u)}break t;case"textarea":ym(n,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&vr(n,!!l.multiple,r,!1)}}}var rh=!1;function Sm(n,r,l){if(rh)return n(r,l);rh=!0;try{var u=n(r);return u}finally{if(rh=!1,(Sr!==null||br!==null)&&(cu(),Sr&&(r=Sr,n=br,br=Sr=null,xm(r),n)))for(r=0;r<n.length;r++)xm(n[r])}}function ka(n,r){var l=n.stateNode;if(l===null)return null;var u=l[wt]||null;if(u===null)return null;l=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break t;default:n=!1}if(n)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ah=!1;if(ci)try{var Fa={};Object.defineProperty(Fa,"passive",{get:function(){ah=!0}}),window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{ah=!1}var Hi=null,lh=null,Co=null;function bm(){if(Co)return Co;var n,r=lh,l=r.length,u,d="value"in Hi?Hi.value:Hi.textContent,_=d.length;for(n=0;n<l&&r[n]===d[n];n++);var v=l-n;for(u=1;u<=v&&r[l-u]===d[_-u];u++);return Co=d.slice(n,1<u?1-u:void 0)}function wo(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Ao(){return!0}function Rm(){return!1}function Xe(n){function r(l,u,d,_,v){this._reactName=l,this._targetInst=d,this.type=u,this.nativeEvent=_,this.target=v,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(l=n[b],this[b]=l?l(_):_[b]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?Ao:Rm,this.isPropagationStopped=Rm,this}return m(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),r}var Ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mo=Xe(Ls),ja=m({},Ls,{view:0,detail:0}),jv=Xe(ja),oh,uh,Ua,Oo=m({},ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hh,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ua&&(Ua&&n.type==="mousemove"?(oh=n.screenX-Ua.screenX,uh=n.screenY-Ua.screenY):uh=oh=0,Ua=n),oh)},movementY:function(n){return"movementY"in n?n.movementY:uh}}),Tm=Xe(Oo),Uv=m({},Oo,{dataTransfer:0}),Bv=Xe(Uv),Gv=m({},ja,{relatedTarget:0}),ch=Xe(Gv),Pv=m({},Ls,{animationName:0,elapsedTime:0,pseudoElement:0}),Yv=Xe(Pv),Xv=m({},Ls,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Hv=Xe(Xv),qv=m({},Ls,{data:0}),Cm=Xe(qv),Zv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Kv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wv(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=Kv[n])?!!r[n]:!1}function hh(){return Wv}var Qv=m({},ja,{key:function(n){if(n.key){var r=Zv[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=wo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Vv[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hh,charCode:function(n){return n.type==="keypress"?wo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?wo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),Jv=Xe(Qv),$v=m({},Oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wm=Xe($v),tx=m({},ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hh}),ex=Xe(tx),nx=m({},Ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),ix=Xe(nx),sx=m({},Oo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),rx=Xe(sx),ax=m({},Ls,{newState:0,oldState:0}),lx=Xe(ax),ox=[9,13,27,32],fh=ci&&"CompositionEvent"in window,Ba=null;ci&&"documentMode"in document&&(Ba=document.documentMode);var ux=ci&&"TextEvent"in window&&!Ba,Am=ci&&(!fh||Ba&&8<Ba&&11>=Ba),Mm=" ",Om=!1;function Dm(n,r){switch(n){case"keyup":return ox.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lm(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Rr=!1;function cx(n,r){switch(n){case"compositionend":return Lm(r);case"keypress":return r.which!==32?null:(Om=!0,Mm);case"textInput":return n=r.data,n===Mm&&Om?null:n;default:return null}}function hx(n,r){if(Rr)return n==="compositionend"||!fh&&Dm(n,r)?(n=bm(),Co=lh=Hi=null,Rr=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Am&&r.locale!=="ko"?null:r.data;default:return null}}var fx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nm(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!fx[n.type]:r==="textarea"}function Im(n,r,l,u){Sr?br?br.push(u):br=[u]:Sr=u,r=_u(r,"onChange"),0<r.length&&(l=new Mo("onChange","change",null,l,u),n.push({event:l,listeners:r}))}var Ga=null,Pa=null;function dx(n){g0(n,0)}function Do(n){var r=za(n);if(mm(r))return n}function zm(n,r){if(n==="change")return r}var km=!1;if(ci){var dh;if(ci){var gh="oninput"in document;if(!gh){var Fm=document.createElement("div");Fm.setAttribute("oninput","return;"),gh=typeof Fm.oninput=="function"}dh=gh}else dh=!1;km=dh&&(!document.documentMode||9<document.documentMode)}function jm(){Ga&&(Ga.detachEvent("onpropertychange",Um),Pa=Ga=null)}function Um(n){if(n.propertyName==="value"&&Do(Pa)){var r=[];Im(r,Pa,n,sh(n)),Sm(dx,r)}}function gx(n,r,l){n==="focusin"?(jm(),Ga=r,Pa=l,Ga.attachEvent("onpropertychange",Um)):n==="focusout"&&jm()}function mx(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Do(Pa)}function _x(n,r){if(n==="click")return Do(r)}function yx(n,r){if(n==="input"||n==="change")return Do(r)}function px(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var rn=typeof Object.is=="function"?Object.is:px;function Ya(n,r){if(rn(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var l=Object.keys(n),u=Object.keys(r);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var d=l[u];if(!Ms.call(r,d)||!rn(n[d],r[d]))return!1}return!0}function Bm(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Gm(n,r){var l=Bm(n);n=0;for(var u;l;){if(l.nodeType===3){if(u=n+l.textContent.length,n<=r&&u>=r)return{node:l,offset:r-n};n=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=Bm(l)}}function Pm(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?Pm(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function Ym(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var r=Ro(n.document);r instanceof n.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)n=r.contentWindow;else break;r=Ro(n.document)}return r}function mh(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}var Ex=ci&&"documentMode"in document&&11>=document.documentMode,Tr=null,_h=null,Xa=null,yh=!1;function Xm(n,r,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;yh||Tr==null||Tr!==Ro(u)||(u=Tr,"selectionStart"in u&&mh(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Xa&&Ya(Xa,u)||(Xa=u,u=_u(_h,"onSelect"),0<u.length&&(r=new Mo("onSelect","select",null,r,l),n.push({event:r,listeners:u}),r.target=Tr)))}function Ns(n,r){var l={};return l[n.toLowerCase()]=r.toLowerCase(),l["Webkit"+n]="webkit"+r,l["Moz"+n]="moz"+r,l}var Cr={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},ph={},Hm={};ci&&(Hm=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function Is(n){if(ph[n])return ph[n];if(!Cr[n])return n;var r=Cr[n],l;for(l in r)if(r.hasOwnProperty(l)&&l in Hm)return ph[n]=r[l];return n}var qm=Is("animationend"),Zm=Is("animationiteration"),Vm=Is("animationstart"),vx=Is("transitionrun"),xx=Is("transitionstart"),Sx=Is("transitioncancel"),Km=Is("transitionend"),Wm=new Map,Eh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Eh.push("scrollEnd");function Nn(n,r){Wm.set(n,r),Ds(r,[n])}var Qm=new WeakMap;function yn(n,r){if(typeof n=="object"&&n!==null){var l=Qm.get(n);return l!==void 0?l:(r={value:n,source:r,stack:dm(r)},Qm.set(n,r),r)}return{value:n,source:r,stack:dm(r)}}var pn=[],wr=0,vh=0;function Lo(){for(var n=wr,r=vh=wr=0;r<n;){var l=pn[r];pn[r++]=null;var u=pn[r];pn[r++]=null;var d=pn[r];pn[r++]=null;var _=pn[r];if(pn[r++]=null,u!==null&&d!==null){var v=u.pending;v===null?d.next=d:(d.next=v.next,v.next=d),u.pending=d}_!==0&&Jm(l,d,_)}}function No(n,r,l,u){pn[wr++]=n,pn[wr++]=r,pn[wr++]=l,pn[wr++]=u,vh|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function xh(n,r,l,u){return No(n,r,l,u),Io(n)}function Ar(n,r){return No(n,null,null,r),Io(n)}function Jm(n,r,l){n.lanes|=l;var u=n.alternate;u!==null&&(u.lanes|=l);for(var d=!1,_=n.return;_!==null;)_.childLanes|=l,u=_.alternate,u!==null&&(u.childLanes|=l),_.tag===22&&(n=_.stateNode,n===null||n._visibility&1||(d=!0)),n=_,_=_.return;return n.tag===3?(_=n.stateNode,d&&r!==null&&(d=31-De(l),n=_.hiddenUpdates,u=n[d],u===null?n[d]=[r]:u.push(r),r.lane=l|536870912),_):null}function Io(n){if(50<ml)throw ml=0,Af=null,Error(i(185));for(var r=n.return;r!==null;)n=r,r=n.return;return n.tag===3?n.stateNode:null}var Mr={};function bx(n,r,l,u){this.tag=n,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(n,r,l,u){return new bx(n,r,l,u)}function Sh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function hi(n,r){var l=n.alternate;return l===null?(l=an(n.tag,r,n.key,n.mode),l.elementType=n.elementType,l.type=n.type,l.stateNode=n.stateNode,l.alternate=n,n.alternate=l):(l.pendingProps=r,l.type=n.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=n.flags&65011712,l.childLanes=n.childLanes,l.lanes=n.lanes,l.child=n.child,l.memoizedProps=n.memoizedProps,l.memoizedState=n.memoizedState,l.updateQueue=n.updateQueue,r=n.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=n.sibling,l.index=n.index,l.ref=n.ref,l.refCleanup=n.refCleanup,l}function $m(n,r){n.flags&=65011714;var l=n.alternate;return l===null?(n.childLanes=0,n.lanes=r,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=l.childLanes,n.lanes=l.lanes,n.child=l.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=l.memoizedProps,n.memoizedState=l.memoizedState,n.updateQueue=l.updateQueue,n.type=l.type,r=l.dependencies,n.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),n}function zo(n,r,l,u,d,_){var v=0;if(u=n,typeof n=="function")Sh(n)&&(v=1);else if(typeof n=="string")v=TS(n,l,at.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case K:return n=an(31,l,r,d),n.elementType=K,n.lanes=_,n;case E:return zs(l.children,d,_,r);case R:v=8,d|=24;break;case S:return n=an(12,l,r,d|2),n.elementType=S,n.lanes=_,n;case A:return n=an(13,l,r,d),n.elementType=A,n.lanes=_,n;case G:return n=an(19,l,r,d),n.elementType=G,n.lanes=_,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case T:case w:v=10;break t;case C:v=9;break t;case L:v=11;break t;case H:v=14;break t;case Z:v=16,u=null;break t}v=29,l=Error(i(130,n===null?"null":typeof n,"")),u=null}return r=an(v,l,r,d),r.elementType=n,r.type=u,r.lanes=_,r}function zs(n,r,l,u){return n=an(7,n,u,r),n.lanes=l,n}function bh(n,r,l){return n=an(6,n,null,r),n.lanes=l,n}function Rh(n,r,l){return r=an(4,n.children!==null?n.children:[],n.key,r),r.lanes=l,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}var Or=[],Dr=0,ko=null,Fo=0,En=[],vn=0,ks=null,fi=1,di="";function Fs(n,r){Or[Dr++]=Fo,Or[Dr++]=ko,ko=n,Fo=r}function t_(n,r,l){En[vn++]=fi,En[vn++]=di,En[vn++]=ks,ks=n;var u=fi;n=di;var d=32-De(u)-1;u&=~(1<<d),l+=1;var _=32-De(r)+d;if(30<_){var v=d-d%5;_=(u&(1<<v)-1).toString(32),u>>=v,d-=v,fi=1<<32-De(r)+d|l<<d|u,di=_+n}else fi=1<<_|l<<d|u,di=n}function Th(n){n.return!==null&&(Fs(n,1),t_(n,1,0))}function Ch(n){for(;n===ko;)ko=Or[--Dr],Or[Dr]=null,Fo=Or[--Dr],Or[Dr]=null;for(;n===ks;)ks=En[--vn],En[vn]=null,di=En[--vn],En[vn]=null,fi=En[--vn],En[vn]=null}var Ue=null,ie=null,kt=!1,js=null,Vn=!1,wh=Error(i(519));function Us(n){var r=Error(i(418,""));throw Za(yn(r,n)),wh}function e_(n){var r=n.stateNode,l=n.type,u=n.memoizedProps;switch(r[Kt]=n,r[wt]=u,l){case"dialog":Mt("cancel",r),Mt("close",r);break;case"iframe":case"object":case"embed":Mt("load",r);break;case"video":case"audio":for(l=0;l<yl.length;l++)Mt(yl[l],r);break;case"source":Mt("error",r);break;case"img":case"image":case"link":Mt("error",r),Mt("load",r);break;case"details":Mt("toggle",r);break;case"input":Mt("invalid",r),_m(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),bo(r);break;case"select":Mt("invalid",r);break;case"textarea":Mt("invalid",r),pm(r,u.value,u.defaultValue,u.children),bo(r)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||u.suppressHydrationWarning===!0||p0(r.textContent,l)?(u.popover!=null&&(Mt("beforetoggle",r),Mt("toggle",r)),u.onScroll!=null&&Mt("scroll",r),u.onScrollEnd!=null&&Mt("scrollend",r),u.onClick!=null&&(r.onclick=yu),r=!0):r=!1,r||Us(n)}function n_(n){for(Ue=n.return;Ue;)switch(Ue.tag){case 5:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Ue=Ue.return}}function Ha(n){if(n!==Ue)return!1;if(!kt)return n_(n),kt=!0,!1;var r=n.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=n.type,l=!(l!=="form"&&l!=="button")||Xf(n.type,n.memoizedProps)),l=!l),l&&ie&&Us(n),n_(n),r===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));t:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8)if(l=n.data,l==="/$"){if(r===0){ie=zn(n.nextSibling);break t}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++;n=n.nextSibling}ie=null}}else r===27?(r=ie,ls(n.type)?(n=Vf,Vf=null,ie=n):ie=r):ie=Ue?zn(n.stateNode.nextSibling):null;return!0}function qa(){ie=Ue=null,kt=!1}function i_(){var n=js;return n!==null&&(Ze===null?Ze=n:Ze.push.apply(Ze,n),js=null),n}function Za(n){js===null?js=[n]:js.push(n)}var Ah=X(null),Bs=null,gi=null;function qi(n,r,l){tt(Ah,r._currentValue),r._currentValue=l}function mi(n){n._currentValue=Ah.current,j(Ah)}function Mh(n,r,l){for(;n!==null;){var u=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),n===l)break;n=n.return}}function Oh(n,r,l,u){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var _=d.dependencies;if(_!==null){var v=d.child;_=_.firstContext;t:for(;_!==null;){var b=_;_=d;for(var D=0;D<r.length;D++)if(b.context===r[D]){_.lanes|=l,b=_.alternate,b!==null&&(b.lanes|=l),Mh(_.return,l,n),u||(v=null);break t}_=b.next}}else if(d.tag===18){if(v=d.return,v===null)throw Error(i(341));v.lanes|=l,_=v.alternate,_!==null&&(_.lanes|=l),Mh(v,l,n),v=null}else v=d.child;if(v!==null)v.return=d;else for(v=d;v!==null;){if(v===n){v=null;break}if(d=v.sibling,d!==null){d.return=v.return,v=d;break}v=v.return}d=v}}function Va(n,r,l,u){n=null;for(var d=r,_=!1;d!==null;){if(!_){if((d.flags&524288)!==0)_=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var v=d.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var b=d.type;rn(d.pendingProps.value,v.value)||(n!==null?n.push(b):n=[b])}}else if(d===Ut.current){if(v=d.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(bl):n=[bl])}d=d.return}n!==null&&Oh(r,n,l,u),r.flags|=262144}function jo(n){for(n=n.firstContext;n!==null;){if(!rn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Gs(n){Bs=n,gi=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Ne(n){return s_(Bs,n)}function Uo(n,r){return Bs===null&&Gs(n),s_(n,r)}function s_(n,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},gi===null){if(n===null)throw Error(i(308));gi=r,n.dependencies={lanes:0,firstContext:r},n.flags|=524288}else gi=gi.next=r;return l}var Rx=typeof AbortController<"u"?AbortController:function(){var n=[],r=this.signal={aborted:!1,addEventListener:function(l,u){n.push(u)}};this.abort=function(){r.aborted=!0,n.forEach(function(l){return l()})}},Tx=s.unstable_scheduleCallback,Cx=s.unstable_NormalPriority,de={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Dh(){return{controller:new Rx,data:new Map,refCount:0}}function Ka(n){n.refCount--,n.refCount===0&&Tx(Cx,function(){n.controller.abort()})}var Wa=null,Lh=0,Lr=0,Nr=null;function wx(n,r){if(Wa===null){var l=Wa=[];Lh=0,Lr=zf(),Nr={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Lh++,r.then(r_,r_),r}function r_(){if(--Lh===0&&Wa!==null){Nr!==null&&(Nr.status="fulfilled");var n=Wa;Wa=null,Lr=0,Nr=null;for(var r=0;r<n.length;r++)(0,n[r])()}}function Ax(n,r){var l=[],u={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return n.then(function(){u.status="fulfilled",u.value=r;for(var d=0;d<l.length;d++)(0,l[d])(r)},function(d){for(u.status="rejected",u.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),u}var a_=z.S;z.S=function(n,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&wx(n,r),a_!==null&&a_(n,r)};var Ps=X(null);function Nh(){var n=Ps.current;return n!==null?n:Wt.pooledCache}function Bo(n,r){r===null?tt(Ps,Ps.current):tt(Ps,r.pool)}function l_(){var n=Nh();return n===null?null:{parent:de._currentValue,pool:n}}var Qa=Error(i(460)),o_=Error(i(474)),Go=Error(i(542)),Ih={then:function(){}};function u_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Po(){}function c_(n,r,l){switch(l=n[l],l===void 0?n.push(r):l!==r&&(r.then(Po,Po),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,f_(n),n;default:if(typeof r.status=="string")r.then(Po,Po);else{if(n=Wt,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=r,n.status="pending",n.then(function(u){if(r.status==="pending"){var d=r;d.status="fulfilled",d.value=u}},function(u){if(r.status==="pending"){var d=r;d.status="rejected",d.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw n=r.reason,f_(n),n}throw Ja=r,Qa}}var Ja=null;function h_(){if(Ja===null)throw Error(i(459));var n=Ja;return Ja=null,n}function f_(n){if(n===Qa||n===Go)throw Error(i(483))}var Zi=!1;function zh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kh(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Vi(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Ki(n,r,l){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(Gt&2)!==0){var d=u.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),u.pending=r,r=Io(n),Jm(n,null,l),r}return No(n,u,r,l),Io(n)}function $a(n,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var u=r.lanes;u&=n.pendingLanes,l|=u,r.lanes=l,je(n,l)}}function Fh(n,r){var l=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var d=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var v={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?d=_=v:_=_.next=v,l=l.next}while(l!==null);_===null?d=_=r:_=_.next=r}else d=_=r;l={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:_,shared:u.shared,callbacks:u.callbacks},n.updateQueue=l;return}n=l.lastBaseUpdate,n===null?l.firstBaseUpdate=r:n.next=r,l.lastBaseUpdate=r}var jh=!1;function tl(){if(jh){var n=Nr;if(n!==null)throw n}}function el(n,r,l,u){jh=!1;var d=n.updateQueue;Zi=!1;var _=d.firstBaseUpdate,v=d.lastBaseUpdate,b=d.shared.pending;if(b!==null){d.shared.pending=null;var D=b,F=D.next;D.next=null,v===null?_=F:v.next=F,v=D;var q=n.alternate;q!==null&&(q=q.updateQueue,b=q.lastBaseUpdate,b!==v&&(b===null?q.firstBaseUpdate=F:b.next=F,q.lastBaseUpdate=D))}if(_!==null){var J=d.baseState;v=0,q=F=D=null,b=_;do{var U=b.lane&-536870913,B=U!==b.lane;if(B?(Lt&U)===U:(u&U)===U){U!==0&&U===Lr&&(jh=!0),q!==null&&(q=q.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var pt=n,_t=b;U=r;var Zt=l;switch(_t.tag){case 1:if(pt=_t.payload,typeof pt=="function"){J=pt.call(Zt,J,U);break t}J=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=_t.payload,U=typeof pt=="function"?pt.call(Zt,J,U):pt,U==null)break t;J=m({},J,U);break t;case 2:Zi=!0}}U=b.callback,U!==null&&(n.flags|=64,B&&(n.flags|=8192),B=d.callbacks,B===null?d.callbacks=[U]:B.push(U))}else B={lane:U,tag:b.tag,payload:b.payload,callback:b.callback,next:null},q===null?(F=q=B,D=J):q=q.next=B,v|=U;if(b=b.next,b===null){if(b=d.shared.pending,b===null)break;B=b,b=B.next,B.next=null,d.lastBaseUpdate=B,d.shared.pending=null}}while(!0);q===null&&(D=J),d.baseState=D,d.firstBaseUpdate=F,d.lastBaseUpdate=q,_===null&&(d.shared.lanes=0),is|=v,n.lanes=v,n.memoizedState=J}}function d_(n,r){if(typeof n!="function")throw Error(i(191,n));n.call(r)}function g_(n,r){var l=n.callbacks;if(l!==null)for(n.callbacks=null,n=0;n<l.length;n++)d_(l[n],r)}var Ir=X(null),Yo=X(0);function m_(n,r){n=Si,tt(Yo,n),tt(Ir,r),Si=n|r.baseLanes}function Uh(){tt(Yo,Si),tt(Ir,Ir.current)}function Bh(){Si=Yo.current,j(Ir),j(Yo)}var Wi=0,Tt=null,Ht=null,he=null,Xo=!1,zr=!1,Ys=!1,Ho=0,nl=0,kr=null,Mx=0;function le(){throw Error(i(321))}function Gh(n,r){if(r===null)return!1;for(var l=0;l<r.length&&l<n.length;l++)if(!rn(n[l],r[l]))return!1;return!0}function Ph(n,r,l,u,d,_){return Wi=_,Tt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,z.H=n===null||n.memoizedState===null?J_:$_,Ys=!1,_=l(u,d),Ys=!1,zr&&(_=y_(r,l,u,d)),__(n),_}function __(n){z.H=Qo;var r=Ht!==null&&Ht.next!==null;if(Wi=0,he=Ht=Tt=null,Xo=!1,nl=0,kr=null,r)throw Error(i(300));n===null||ve||(n=n.dependencies,n!==null&&jo(n)&&(ve=!0))}function y_(n,r,l,u){Tt=n;var d=0;do{if(zr&&(kr=null),nl=0,zr=!1,25<=d)throw Error(i(301));if(d+=1,he=Ht=null,n.updateQueue!=null){var _=n.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}z.H=kx,_=r(l,u)}while(zr);return _}function Ox(){var n=z.H,r=n.useState()[0];return r=typeof r.then=="function"?il(r):r,n=n.useState()[0],(Ht!==null?Ht.memoizedState:null)!==n&&(Tt.flags|=1024),r}function Yh(){var n=Ho!==0;return Ho=0,n}function Xh(n,r,l){r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~l}function Hh(n){if(Xo){for(n=n.memoizedState;n!==null;){var r=n.queue;r!==null&&(r.pending=null),n=n.next}Xo=!1}Wi=0,he=Ht=Tt=null,zr=!1,nl=Ho=0,kr=null}function He(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?Tt.memoizedState=he=n:he=he.next=n,he}function fe(){if(Ht===null){var n=Tt.alternate;n=n!==null?n.memoizedState:null}else n=Ht.next;var r=he===null?Tt.memoizedState:he.next;if(r!==null)he=r,Ht=n;else{if(n===null)throw Tt.alternate===null?Error(i(467)):Error(i(310));Ht=n,n={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},he===null?Tt.memoizedState=he=n:he=he.next=n}return he}function qh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(n){var r=nl;return nl+=1,kr===null&&(kr=[]),n=c_(kr,n,r),r=Tt,(he===null?r.memoizedState:he.next)===null&&(r=r.alternate,z.H=r===null||r.memoizedState===null?J_:$_),n}function qo(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return il(n);if(n.$$typeof===w)return Ne(n)}throw Error(i(438,String(n)))}function Zh(n){var r=null,l=Tt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var u=Tt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(d){return d.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=qh(),Tt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(n),u=0;u<n;u++)l[u]=et;return r.index++,l}function _i(n,r){return typeof r=="function"?r(n):r}function Zo(n){var r=fe();return Vh(r,Ht,n)}function Vh(n,r,l){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var d=n.baseQueue,_=u.pending;if(_!==null){if(d!==null){var v=d.next;d.next=_.next,_.next=v}r.baseQueue=d=_,u.pending=null}if(_=n.baseState,d===null)n.memoizedState=_;else{r=d.next;var b=v=null,D=null,F=r,q=!1;do{var J=F.lane&-536870913;if(J!==F.lane?(Lt&J)===J:(Wi&J)===J){var U=F.revertLane;if(U===0)D!==null&&(D=D.next={lane:0,revertLane:0,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),J===Lr&&(q=!0);else if((Wi&U)===U){F=F.next,U===Lr&&(q=!0);continue}else J={lane:0,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(b=D=J,v=_):D=D.next=J,Tt.lanes|=U,is|=U;J=F.action,Ys&&l(_,J),_=F.hasEagerState?F.eagerState:l(_,J)}else U={lane:J,revertLane:F.revertLane,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},D===null?(b=D=U,v=_):D=D.next=U,Tt.lanes|=J,is|=J;F=F.next}while(F!==null&&F!==r);if(D===null?v=_:D.next=b,!rn(_,n.memoizedState)&&(ve=!0,q&&(l=Nr,l!==null)))throw l;n.memoizedState=_,n.baseState=v,n.baseQueue=D,u.lastRenderedState=_}return d===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Kh(n){var r=fe(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=n;var u=l.dispatch,d=l.pending,_=r.memoizedState;if(d!==null){l.pending=null;var v=d=d.next;do _=n(_,v.action),v=v.next;while(v!==d);rn(_,r.memoizedState)||(ve=!0),r.memoizedState=_,r.baseQueue===null&&(r.baseState=_),l.lastRenderedState=_}return[_,u]}function p_(n,r,l){var u=Tt,d=fe(),_=kt;if(_){if(l===void 0)throw Error(i(407));l=l()}else l=r();var v=!rn((Ht||d).memoizedState,l);v&&(d.memoizedState=l,ve=!0),d=d.queue;var b=x_.bind(null,u,d,n);if(sl(2048,8,b,[n]),d.getSnapshot!==r||v||he!==null&&he.memoizedState.tag&1){if(u.flags|=2048,Fr(9,Vo(),v_.bind(null,u,d,l,r),null),Wt===null)throw Error(i(349));_||(Wi&124)!==0||E_(u,r,l)}return l}function E_(n,r,l){n.flags|=16384,n={getSnapshot:r,value:l},r=Tt.updateQueue,r===null?(r=qh(),Tt.updateQueue=r,r.stores=[n]):(l=r.stores,l===null?r.stores=[n]:l.push(n))}function v_(n,r,l,u){r.value=l,r.getSnapshot=u,S_(r)&&b_(n)}function x_(n,r,l){return l(function(){S_(r)&&b_(n)})}function S_(n){var r=n.getSnapshot;n=n.value;try{var l=r();return!rn(n,l)}catch{return!0}}function b_(n){var r=Ar(n,2);r!==null&&hn(r,n,2)}function Wh(n){var r=He();if(typeof n=="function"){var l=n;if(n=l(),Ys){qn(!0);try{l()}finally{qn(!1)}}}return r.memoizedState=r.baseState=n,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:n},r}function R_(n,r,l,u){return n.baseState=l,Vh(n,Ht,typeof u=="function"?u:_i)}function Dx(n,r,l,u,d){if(Wo(n))throw Error(i(485));if(n=r.action,n!==null){var _={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){_.listeners.push(v)}};z.T!==null?l(!0):_.isTransition=!1,u(_),l=r.pending,l===null?(_.next=r.pending=_,T_(r,_)):(_.next=l.next,r.pending=l.next=_)}}function T_(n,r){var l=r.action,u=r.payload,d=n.state;if(r.isTransition){var _=z.T,v={};z.T=v;try{var b=l(d,u),D=z.S;D!==null&&D(v,b),C_(n,r,b)}catch(F){Qh(n,r,F)}finally{z.T=_}}else try{_=l(d,u),C_(n,r,_)}catch(F){Qh(n,r,F)}}function C_(n,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){w_(n,r,u)},function(u){return Qh(n,r,u)}):w_(n,r,l)}function w_(n,r,l){r.status="fulfilled",r.value=l,A_(r),n.state=l,r=n.pending,r!==null&&(l=r.next,l===r?n.pending=null:(l=l.next,r.next=l,T_(n,l)))}function Qh(n,r,l){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=l,A_(r),r=r.next;while(r!==u)}n.action=null}function A_(n){n=n.listeners;for(var r=0;r<n.length;r++)(0,n[r])()}function M_(n,r){return r}function O_(n,r){if(kt){var l=Wt.formState;if(l!==null){t:{var u=Tt;if(kt){if(ie){e:{for(var d=ie,_=Vn;d.nodeType!==8;){if(!_){d=null;break e}if(d=zn(d.nextSibling),d===null){d=null;break e}}_=d.data,d=_==="F!"||_==="F"?d:null}if(d){ie=zn(d.nextSibling),u=d.data==="F!";break t}}Us(u)}u=!1}u&&(r=l[0])}}return l=He(),l.memoizedState=l.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:M_,lastRenderedState:r},l.queue=u,l=K_.bind(null,Tt,u),u.dispatch=l,u=Wh(!1),_=nf.bind(null,Tt,!1,u.queue),u=He(),d={state:r,dispatch:null,action:n,pending:null},u.queue=d,l=Dx.bind(null,Tt,d,_,l),d.dispatch=l,u.memoizedState=n,[r,l,!1]}function D_(n){var r=fe();return L_(r,Ht,n)}function L_(n,r,l){if(r=Vh(n,r,M_)[0],n=Zo(_i)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=il(r)}catch(v){throw v===Qa?Go:v}else u=r;r=fe();var d=r.queue,_=d.dispatch;return l!==r.memoizedState&&(Tt.flags|=2048,Fr(9,Vo(),Lx.bind(null,d,l),null)),[u,_,n]}function Lx(n,r){n.action=r}function N_(n){var r=fe(),l=Ht;if(l!==null)return L_(r,l,n);fe(),r=r.memoizedState,l=fe();var u=l.queue.dispatch;return l.memoizedState=n,[r,u,!1]}function Fr(n,r,l,u){return n={tag:n,create:l,deps:u,inst:r,next:null},r=Tt.updateQueue,r===null&&(r=qh(),Tt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=n.next=n:(u=l.next,l.next=n,n.next=u,r.lastEffect=n),n}function Vo(){return{destroy:void 0,resource:void 0}}function I_(){return fe().memoizedState}function Ko(n,r,l,u){var d=He();u=u===void 0?null:u,Tt.flags|=n,d.memoizedState=Fr(1|r,Vo(),l,u)}function sl(n,r,l,u){var d=fe();u=u===void 0?null:u;var _=d.memoizedState.inst;Ht!==null&&u!==null&&Gh(u,Ht.memoizedState.deps)?d.memoizedState=Fr(r,_,l,u):(Tt.flags|=n,d.memoizedState=Fr(1|r,_,l,u))}function z_(n,r){Ko(8390656,8,n,r)}function k_(n,r){sl(2048,8,n,r)}function F_(n,r){return sl(4,2,n,r)}function j_(n,r){return sl(4,4,n,r)}function U_(n,r){if(typeof r=="function"){n=n();var l=r(n);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function B_(n,r,l){l=l!=null?l.concat([n]):null,sl(4,4,U_.bind(null,r,n),l)}function Jh(){}function G_(n,r){var l=fe();r=r===void 0?null:r;var u=l.memoizedState;return r!==null&&Gh(r,u[1])?u[0]:(l.memoizedState=[n,r],n)}function P_(n,r){var l=fe();r=r===void 0?null:r;var u=l.memoizedState;if(r!==null&&Gh(r,u[1]))return u[0];if(u=n(),Ys){qn(!0);try{n()}finally{qn(!1)}}return l.memoizedState=[u,r],u}function $h(n,r,l){return l===void 0||(Wi&1073741824)!==0?n.memoizedState=r:(n.memoizedState=l,n=Hy(),Tt.lanes|=n,is|=n,l)}function Y_(n,r,l,u){return rn(l,r)?l:Ir.current!==null?(n=$h(n,l,u),rn(n,r)||(ve=!0),n):(Wi&42)===0?(ve=!0,n.memoizedState=l):(n=Hy(),Tt.lanes|=n,is|=n,r)}function X_(n,r,l,u,d){var _=Q.p;Q.p=_!==0&&8>_?_:8;var v=z.T,b={};z.T=b,nf(n,!1,r,l);try{var D=d(),F=z.S;if(F!==null&&F(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var q=Ax(D,u);rl(n,r,q,cn(n))}else rl(n,r,u,cn(n))}catch(J){rl(n,r,{then:function(){},status:"rejected",reason:J},cn())}finally{Q.p=_,z.T=v}}function Nx(){}function tf(n,r,l,u){if(n.tag!==5)throw Error(i(476));var d=H_(n).queue;X_(n,d,r,$,l===null?Nx:function(){return q_(n),l(u)})}function H_(n){var r=n.memoizedState;if(r!==null)return r;r={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:$},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:l},next:null},n.memoizedState=r,n=n.alternate,n!==null&&(n.memoizedState=r),r}function q_(n){var r=H_(n).next.queue;rl(n,r,{},cn())}function ef(){return Ne(bl)}function Z_(){return fe().memoizedState}function V_(){return fe().memoizedState}function Ix(n){for(var r=n.return;r!==null;){switch(r.tag){case 24:case 3:var l=cn();n=Vi(l);var u=Ki(r,n,l);u!==null&&(hn(u,r,l),$a(u,r,l)),r={cache:Dh()},n.payload=r;return}r=r.return}}function zx(n,r,l){var u=cn();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},Wo(n)?W_(r,l):(l=xh(n,r,l,u),l!==null&&(hn(l,n,u),Q_(l,r,u)))}function K_(n,r,l){var u=cn();rl(n,r,l,u)}function rl(n,r,l,u){var d={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(Wo(n))W_(r,d);else{var _=n.alternate;if(n.lanes===0&&(_===null||_.lanes===0)&&(_=r.lastRenderedReducer,_!==null))try{var v=r.lastRenderedState,b=_(v,l);if(d.hasEagerState=!0,d.eagerState=b,rn(b,v))return No(n,r,d,0),Wt===null&&Lo(),!1}catch{}finally{}if(l=xh(n,r,d,u),l!==null)return hn(l,n,u),Q_(l,r,u),!0}return!1}function nf(n,r,l,u){if(u={lane:2,revertLane:zf(),action:u,hasEagerState:!1,eagerState:null,next:null},Wo(n)){if(r)throw Error(i(479))}else r=xh(n,l,u,2),r!==null&&hn(r,n,2)}function Wo(n){var r=n.alternate;return n===Tt||r!==null&&r===Tt}function W_(n,r){zr=Xo=!0;var l=n.pending;l===null?r.next=r:(r.next=l.next,l.next=r),n.pending=r}function Q_(n,r,l){if((l&4194048)!==0){var u=r.lanes;u&=n.pendingLanes,l|=u,r.lanes=l,je(n,l)}}var Qo={readContext:Ne,use:qo,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le},J_={readContext:Ne,use:qo,useCallback:function(n,r){return He().memoizedState=[n,r===void 0?null:r],n},useContext:Ne,useEffect:z_,useImperativeHandle:function(n,r,l){l=l!=null?l.concat([n]):null,Ko(4194308,4,U_.bind(null,r,n),l)},useLayoutEffect:function(n,r){return Ko(4194308,4,n,r)},useInsertionEffect:function(n,r){Ko(4,2,n,r)},useMemo:function(n,r){var l=He();r=r===void 0?null:r;var u=n();if(Ys){qn(!0);try{n()}finally{qn(!1)}}return l.memoizedState=[u,r],u},useReducer:function(n,r,l){var u=He();if(l!==void 0){var d=l(r);if(Ys){qn(!0);try{l(r)}finally{qn(!1)}}}else d=r;return u.memoizedState=u.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},u.queue=n,n=n.dispatch=zx.bind(null,Tt,n),[u.memoizedState,n]},useRef:function(n){var r=He();return n={current:n},r.memoizedState=n},useState:function(n){n=Wh(n);var r=n.queue,l=K_.bind(null,Tt,r);return r.dispatch=l,[n.memoizedState,l]},useDebugValue:Jh,useDeferredValue:function(n,r){var l=He();return $h(l,n,r)},useTransition:function(){var n=Wh(!1);return n=X_.bind(null,Tt,n.queue,!0,!1),He().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,r,l){var u=Tt,d=He();if(kt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),Wt===null)throw Error(i(349));(Lt&124)!==0||E_(u,r,l)}d.memoizedState=l;var _={value:l,getSnapshot:r};return d.queue=_,z_(x_.bind(null,u,_,n),[n]),u.flags|=2048,Fr(9,Vo(),v_.bind(null,u,_,l,r),null),l},useId:function(){var n=He(),r=Wt.identifierPrefix;if(kt){var l=di,u=fi;l=(u&~(1<<32-De(u)-1)).toString(32)+l,r=""+r+"R"+l,l=Ho++,0<l&&(r+="H"+l.toString(32)),r+=""}else l=Mx++,r=""+r+"r"+l.toString(32)+"";return n.memoizedState=r},useHostTransitionStatus:ef,useFormState:O_,useActionState:O_,useOptimistic:function(n){var r=He();r.memoizedState=r.baseState=n;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=nf.bind(null,Tt,!0,l),l.dispatch=r,[n,r]},useMemoCache:Zh,useCacheRefresh:function(){return He().memoizedState=Ix.bind(null,Tt)}},$_={readContext:Ne,use:qo,useCallback:G_,useContext:Ne,useEffect:k_,useImperativeHandle:B_,useInsertionEffect:F_,useLayoutEffect:j_,useMemo:P_,useReducer:Zo,useRef:I_,useState:function(){return Zo(_i)},useDebugValue:Jh,useDeferredValue:function(n,r){var l=fe();return Y_(l,Ht.memoizedState,n,r)},useTransition:function(){var n=Zo(_i)[0],r=fe().memoizedState;return[typeof n=="boolean"?n:il(n),r]},useSyncExternalStore:p_,useId:Z_,useHostTransitionStatus:ef,useFormState:D_,useActionState:D_,useOptimistic:function(n,r){var l=fe();return R_(l,Ht,n,r)},useMemoCache:Zh,useCacheRefresh:V_},kx={readContext:Ne,use:qo,useCallback:G_,useContext:Ne,useEffect:k_,useImperativeHandle:B_,useInsertionEffect:F_,useLayoutEffect:j_,useMemo:P_,useReducer:Kh,useRef:I_,useState:function(){return Kh(_i)},useDebugValue:Jh,useDeferredValue:function(n,r){var l=fe();return Ht===null?$h(l,n,r):Y_(l,Ht.memoizedState,n,r)},useTransition:function(){var n=Kh(_i)[0],r=fe().memoizedState;return[typeof n=="boolean"?n:il(n),r]},useSyncExternalStore:p_,useId:Z_,useHostTransitionStatus:ef,useFormState:N_,useActionState:N_,useOptimistic:function(n,r){var l=fe();return Ht!==null?R_(l,Ht,n,r):(l.baseState=n,[n,l.queue.dispatch])},useMemoCache:Zh,useCacheRefresh:V_},jr=null,al=0;function Jo(n){var r=al;return al+=1,jr===null&&(jr=[]),c_(jr,n,r)}function ll(n,r){r=r.props.ref,n.ref=r!==void 0?r:null}function $o(n,r){throw r.$$typeof===y?Error(i(525)):(n=Object.prototype.toString.call(r),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n)))}function ty(n){var r=n._init;return r(n._payload)}function ey(n){function r(I,N){if(n){var k=I.deletions;k===null?(I.deletions=[N],I.flags|=16):k.push(N)}}function l(I,N){if(!n)return null;for(;N!==null;)r(I,N),N=N.sibling;return null}function u(I){for(var N=new Map;I!==null;)I.key!==null?N.set(I.key,I):N.set(I.index,I),I=I.sibling;return N}function d(I,N){return I=hi(I,N),I.index=0,I.sibling=null,I}function _(I,N,k){return I.index=k,n?(k=I.alternate,k!==null?(k=k.index,k<N?(I.flags|=67108866,N):k):(I.flags|=67108866,N)):(I.flags|=1048576,N)}function v(I){return n&&I.alternate===null&&(I.flags|=67108866),I}function b(I,N,k,W){return N===null||N.tag!==6?(N=bh(k,I.mode,W),N.return=I,N):(N=d(N,k),N.return=I,N)}function D(I,N,k,W){var lt=k.type;return lt===E?q(I,N,k.props.children,W,k.key):N!==null&&(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===Z&&ty(lt)===N.type)?(N=d(N,k.props),ll(N,k),N.return=I,N):(N=zo(k.type,k.key,k.props,null,I.mode,W),ll(N,k),N.return=I,N)}function F(I,N,k,W){return N===null||N.tag!==4||N.stateNode.containerInfo!==k.containerInfo||N.stateNode.implementation!==k.implementation?(N=Rh(k,I.mode,W),N.return=I,N):(N=d(N,k.children||[]),N.return=I,N)}function q(I,N,k,W,lt){return N===null||N.tag!==7?(N=zs(k,I.mode,W,lt),N.return=I,N):(N=d(N,k),N.return=I,N)}function J(I,N,k){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=bh(""+N,I.mode,k),N.return=I,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case p:return k=zo(N.type,N.key,N.props,null,I.mode,k),ll(k,N),k.return=I,k;case x:return N=Rh(N,I.mode,k),N.return=I,N;case Z:var W=N._init;return N=W(N._payload),J(I,N,k)}if(ft(N)||nt(N))return N=zs(N,I.mode,k,null),N.return=I,N;if(typeof N.then=="function")return J(I,Jo(N),k);if(N.$$typeof===w)return J(I,Uo(I,N),k);$o(I,N)}return null}function U(I,N,k,W){var lt=N!==null?N.key:null;if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return lt!==null?null:b(I,N,""+k,W);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case p:return k.key===lt?D(I,N,k,W):null;case x:return k.key===lt?F(I,N,k,W):null;case Z:return lt=k._init,k=lt(k._payload),U(I,N,k,W)}if(ft(k)||nt(k))return lt!==null?null:q(I,N,k,W,null);if(typeof k.then=="function")return U(I,N,Jo(k),W);if(k.$$typeof===w)return U(I,N,Uo(I,k),W);$o(I,k)}return null}function B(I,N,k,W,lt){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return I=I.get(k)||null,b(N,I,""+W,lt);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case p:return I=I.get(W.key===null?k:W.key)||null,D(N,I,W,lt);case x:return I=I.get(W.key===null?k:W.key)||null,F(N,I,W,lt);case Z:var Ct=W._init;return W=Ct(W._payload),B(I,N,k,W,lt)}if(ft(W)||nt(W))return I=I.get(k)||null,q(N,I,W,lt,null);if(typeof W.then=="function")return B(I,N,k,Jo(W),lt);if(W.$$typeof===w)return B(I,N,k,Uo(N,W),lt);$o(N,W)}return null}function pt(I,N,k,W){for(var lt=null,Ct=null,ht=N,yt=N=0,Se=null;ht!==null&&yt<k.length;yt++){ht.index>yt?(Se=ht,ht=null):Se=ht.sibling;var Nt=U(I,ht,k[yt],W);if(Nt===null){ht===null&&(ht=Se);break}n&&ht&&Nt.alternate===null&&r(I,ht),N=_(Nt,N,yt),Ct===null?lt=Nt:Ct.sibling=Nt,Ct=Nt,ht=Se}if(yt===k.length)return l(I,ht),kt&&Fs(I,yt),lt;if(ht===null){for(;yt<k.length;yt++)ht=J(I,k[yt],W),ht!==null&&(N=_(ht,N,yt),Ct===null?lt=ht:Ct.sibling=ht,Ct=ht);return kt&&Fs(I,yt),lt}for(ht=u(ht);yt<k.length;yt++)Se=B(ht,I,yt,k[yt],W),Se!==null&&(n&&Se.alternate!==null&&ht.delete(Se.key===null?yt:Se.key),N=_(Se,N,yt),Ct===null?lt=Se:Ct.sibling=Se,Ct=Se);return n&&ht.forEach(function(fs){return r(I,fs)}),kt&&Fs(I,yt),lt}function _t(I,N,k,W){if(k==null)throw Error(i(151));for(var lt=null,Ct=null,ht=N,yt=N=0,Se=null,Nt=k.next();ht!==null&&!Nt.done;yt++,Nt=k.next()){ht.index>yt?(Se=ht,ht=null):Se=ht.sibling;var fs=U(I,ht,Nt.value,W);if(fs===null){ht===null&&(ht=Se);break}n&&ht&&fs.alternate===null&&r(I,ht),N=_(fs,N,yt),Ct===null?lt=fs:Ct.sibling=fs,Ct=fs,ht=Se}if(Nt.done)return l(I,ht),kt&&Fs(I,yt),lt;if(ht===null){for(;!Nt.done;yt++,Nt=k.next())Nt=J(I,Nt.value,W),Nt!==null&&(N=_(Nt,N,yt),Ct===null?lt=Nt:Ct.sibling=Nt,Ct=Nt);return kt&&Fs(I,yt),lt}for(ht=u(ht);!Nt.done;yt++,Nt=k.next())Nt=B(ht,I,yt,Nt.value,W),Nt!==null&&(n&&Nt.alternate!==null&&ht.delete(Nt.key===null?yt:Nt.key),N=_(Nt,N,yt),Ct===null?lt=Nt:Ct.sibling=Nt,Ct=Nt);return n&&ht.forEach(function(FS){return r(I,FS)}),kt&&Fs(I,yt),lt}function Zt(I,N,k,W){if(typeof k=="object"&&k!==null&&k.type===E&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case p:t:{for(var lt=k.key;N!==null;){if(N.key===lt){if(lt=k.type,lt===E){if(N.tag===7){l(I,N.sibling),W=d(N,k.props.children),W.return=I,I=W;break t}}else if(N.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===Z&&ty(lt)===N.type){l(I,N.sibling),W=d(N,k.props),ll(W,k),W.return=I,I=W;break t}l(I,N);break}else r(I,N);N=N.sibling}k.type===E?(W=zs(k.props.children,I.mode,W,k.key),W.return=I,I=W):(W=zo(k.type,k.key,k.props,null,I.mode,W),ll(W,k),W.return=I,I=W)}return v(I);case x:t:{for(lt=k.key;N!==null;){if(N.key===lt)if(N.tag===4&&N.stateNode.containerInfo===k.containerInfo&&N.stateNode.implementation===k.implementation){l(I,N.sibling),W=d(N,k.children||[]),W.return=I,I=W;break t}else{l(I,N);break}else r(I,N);N=N.sibling}W=Rh(k,I.mode,W),W.return=I,I=W}return v(I);case Z:return lt=k._init,k=lt(k._payload),Zt(I,N,k,W)}if(ft(k))return pt(I,N,k,W);if(nt(k)){if(lt=nt(k),typeof lt!="function")throw Error(i(150));return k=lt.call(k),_t(I,N,k,W)}if(typeof k.then=="function")return Zt(I,N,Jo(k),W);if(k.$$typeof===w)return Zt(I,N,Uo(I,k),W);$o(I,k)}return typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint"?(k=""+k,N!==null&&N.tag===6?(l(I,N.sibling),W=d(N,k),W.return=I,I=W):(l(I,N),W=bh(k,I.mode,W),W.return=I,I=W),v(I)):l(I,N)}return function(I,N,k,W){try{al=0;var lt=Zt(I,N,k,W);return jr=null,lt}catch(ht){if(ht===Qa||ht===Go)throw ht;var Ct=an(29,ht,null,I.mode);return Ct.lanes=W,Ct.return=I,Ct}finally{}}}var Ur=ey(!0),ny=ey(!1),xn=X(null),Kn=null;function Qi(n){var r=n.alternate;tt(ge,ge.current&1),tt(xn,n),Kn===null&&(r===null||Ir.current!==null||r.memoizedState!==null)&&(Kn=n)}function iy(n){if(n.tag===22){if(tt(ge,ge.current),tt(xn,n),Kn===null){var r=n.alternate;r!==null&&r.memoizedState!==null&&(Kn=n)}}else Ji()}function Ji(){tt(ge,ge.current),tt(xn,xn.current)}function yi(n){j(xn),Kn===n&&(Kn=null),j(ge)}var ge=X(0);function tu(n){for(var r=n;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Zf(l)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function sf(n,r,l,u){r=n.memoizedState,l=l(u,r),l=l==null?r:m({},r,l),n.memoizedState=l,n.lanes===0&&(n.updateQueue.baseState=l)}var rf={enqueueSetState:function(n,r,l){n=n._reactInternals;var u=cn(),d=Vi(u);d.payload=r,l!=null&&(d.callback=l),r=Ki(n,d,u),r!==null&&(hn(r,n,u),$a(r,n,u))},enqueueReplaceState:function(n,r,l){n=n._reactInternals;var u=cn(),d=Vi(u);d.tag=1,d.payload=r,l!=null&&(d.callback=l),r=Ki(n,d,u),r!==null&&(hn(r,n,u),$a(r,n,u))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var l=cn(),u=Vi(l);u.tag=2,r!=null&&(u.callback=r),r=Ki(n,u,l),r!==null&&(hn(r,n,l),$a(r,n,l))}};function sy(n,r,l,u,d,_,v){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,_,v):r.prototype&&r.prototype.isPureReactComponent?!Ya(l,u)||!Ya(d,_):!0}function ry(n,r,l,u){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,u),r.state!==n&&rf.enqueueReplaceState(r,r.state,null)}function Xs(n,r){var l=r;if("ref"in r){l={};for(var u in r)u!=="ref"&&(l[u]=r[u])}if(n=n.defaultProps){l===r&&(l=m({},l));for(var d in n)l[d]===void 0&&(l[d]=n[d])}return l}var eu=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function ay(n){eu(n)}function ly(n){console.error(n)}function oy(n){eu(n)}function nu(n,r){try{var l=n.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function uy(n,r,l){try{var u=n.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function af(n,r,l){return l=Vi(l),l.tag=3,l.payload={element:null},l.callback=function(){nu(n,r)},l}function cy(n){return n=Vi(n),n.tag=3,n}function hy(n,r,l,u){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var _=u.value;n.payload=function(){return d(_)},n.callback=function(){uy(r,l,u)}}var v=l.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){uy(r,l,u),typeof d!="function"&&(ss===null?ss=new Set([this]):ss.add(this));var b=u.stack;this.componentDidCatch(u.value,{componentStack:b!==null?b:""})})}function Fx(n,r,l,u,d){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=l.alternate,r!==null&&Va(r,l,d,!0),l=xn.current,l!==null){switch(l.tag){case 13:return Kn===null?Of():l.alternate===null&&se===0&&(se=3),l.flags&=-257,l.flags|=65536,l.lanes=d,u===Ih?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([u]):r.add(u),Lf(n,u,d)),!1;case 22:return l.flags|=65536,u===Ih?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([u]):l.add(u)),Lf(n,u,d)),!1}throw Error(i(435,l.tag))}return Lf(n,u,d),Of(),!1}if(kt)return r=xn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=d,u!==wh&&(n=Error(i(422),{cause:u}),Za(yn(n,l)))):(u!==wh&&(r=Error(i(423),{cause:u}),Za(yn(r,l))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,u=yn(u,l),d=af(n.stateNode,u,d),Fh(n,d),se!==4&&(se=2)),!1;var _=Error(i(520),{cause:u});if(_=yn(_,l),gl===null?gl=[_]:gl.push(_),se!==4&&(se=2),r===null)return!0;u=yn(u,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,n=d&-d,l.lanes|=n,n=af(l.stateNode,u,n),Fh(l,n),!1;case 1:if(r=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ss===null||!ss.has(_))))return l.flags|=65536,d&=-d,l.lanes|=d,d=cy(d),hy(d,n,l,u),Fh(l,d),!1}l=l.return}while(l!==null);return!1}var fy=Error(i(461)),ve=!1;function we(n,r,l,u){r.child=n===null?ny(r,null,l,u):Ur(r,n.child,l,u)}function dy(n,r,l,u,d){l=l.render;var _=r.ref;if("ref"in u){var v={};for(var b in u)b!=="ref"&&(v[b]=u[b])}else v=u;return Gs(r),u=Ph(n,r,l,v,_,d),b=Yh(),n!==null&&!ve?(Xh(n,r,d),pi(n,r,d)):(kt&&b&&Th(r),r.flags|=1,we(n,r,u,d),r.child)}function gy(n,r,l,u,d){if(n===null){var _=l.type;return typeof _=="function"&&!Sh(_)&&_.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=_,my(n,r,_,u,d)):(n=zo(l.type,null,u,r,r.mode,d),n.ref=r.ref,n.return=r,r.child=n)}if(_=n.child,!gf(n,d)){var v=_.memoizedProps;if(l=l.compare,l=l!==null?l:Ya,l(v,u)&&n.ref===r.ref)return pi(n,r,d)}return r.flags|=1,n=hi(_,u),n.ref=r.ref,n.return=r,r.child=n}function my(n,r,l,u,d){if(n!==null){var _=n.memoizedProps;if(Ya(_,u)&&n.ref===r.ref)if(ve=!1,r.pendingProps=u=_,gf(n,d))(n.flags&131072)!==0&&(ve=!0);else return r.lanes=n.lanes,pi(n,r,d)}return lf(n,r,l,u,d)}function _y(n,r,l){var u=r.pendingProps,d=u.children,_=n!==null?n.memoizedState:null;if(u.mode==="hidden"){if((r.flags&128)!==0){if(u=_!==null?_.baseLanes|l:l,n!==null){for(d=r.child=n.child,_=0;d!==null;)_=_|d.lanes|d.childLanes,d=d.sibling;r.childLanes=_&~u}else r.childLanes=0,r.child=null;return yy(n,r,u,l)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},n!==null&&Bo(r,_!==null?_.cachePool:null),_!==null?m_(r,_):Uh(),iy(r);else return r.lanes=r.childLanes=536870912,yy(n,r,_!==null?_.baseLanes|l:l,l)}else _!==null?(Bo(r,_.cachePool),m_(r,_),Ji(),r.memoizedState=null):(n!==null&&Bo(r,null),Uh(),Ji());return we(n,r,d,l),r.child}function yy(n,r,l,u){var d=Nh();return d=d===null?null:{parent:de._currentValue,pool:d},r.memoizedState={baseLanes:l,cachePool:d},n!==null&&Bo(r,null),Uh(),iy(r),n!==null&&Va(n,r,u,!0),null}function iu(n,r){var l=r.ref;if(l===null)n!==null&&n.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(n===null||n.ref!==l)&&(r.flags|=4194816)}}function lf(n,r,l,u,d){return Gs(r),l=Ph(n,r,l,u,void 0,d),u=Yh(),n!==null&&!ve?(Xh(n,r,d),pi(n,r,d)):(kt&&u&&Th(r),r.flags|=1,we(n,r,l,d),r.child)}function py(n,r,l,u,d,_){return Gs(r),r.updateQueue=null,l=y_(r,u,l,d),__(n),u=Yh(),n!==null&&!ve?(Xh(n,r,_),pi(n,r,_)):(kt&&u&&Th(r),r.flags|=1,we(n,r,l,_),r.child)}function Ey(n,r,l,u,d){if(Gs(r),r.stateNode===null){var _=Mr,v=l.contextType;typeof v=="object"&&v!==null&&(_=Ne(v)),_=new l(u,_),r.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=rf,r.stateNode=_,_._reactInternals=r,_=r.stateNode,_.props=u,_.state=r.memoizedState,_.refs={},zh(r),v=l.contextType,_.context=typeof v=="object"&&v!==null?Ne(v):Mr,_.state=r.memoizedState,v=l.getDerivedStateFromProps,typeof v=="function"&&(sf(r,l,v,u),_.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(v=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),v!==_.state&&rf.enqueueReplaceState(_,_.state,null),el(r,u,_,d),tl(),_.state=r.memoizedState),typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(n===null){_=r.stateNode;var b=r.memoizedProps,D=Xs(l,b);_.props=D;var F=_.context,q=l.contextType;v=Mr,typeof q=="object"&&q!==null&&(v=Ne(q));var J=l.getDerivedStateFromProps;q=typeof J=="function"||typeof _.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,q||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(b||F!==v)&&ry(r,_,u,v),Zi=!1;var U=r.memoizedState;_.state=U,el(r,u,_,d),tl(),F=r.memoizedState,b||U!==F||Zi?(typeof J=="function"&&(sf(r,l,J,u),F=r.memoizedState),(D=Zi||sy(r,l,D,u,U,F,v))?(q||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=F),_.props=u,_.state=F,_.context=v,u=D):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{_=r.stateNode,kh(n,r),v=r.memoizedProps,q=Xs(l,v),_.props=q,J=r.pendingProps,U=_.context,F=l.contextType,D=Mr,typeof F=="object"&&F!==null&&(D=Ne(F)),b=l.getDerivedStateFromProps,(F=typeof b=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(v!==J||U!==D)&&ry(r,_,u,D),Zi=!1,U=r.memoizedState,_.state=U,el(r,u,_,d),tl();var B=r.memoizedState;v!==J||U!==B||Zi||n!==null&&n.dependencies!==null&&jo(n.dependencies)?(typeof b=="function"&&(sf(r,l,b,u),B=r.memoizedState),(q=Zi||sy(r,l,q,u,U,B,D)||n!==null&&n.dependencies!==null&&jo(n.dependencies))?(F||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,B,D),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,B,D)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||v===n.memoizedProps&&U===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&U===n.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=B),_.props=u,_.state=B,_.context=D,u=q):(typeof _.componentDidUpdate!="function"||v===n.memoizedProps&&U===n.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||v===n.memoizedProps&&U===n.memoizedState||(r.flags|=1024),u=!1)}return _=u,iu(n,r),u=(r.flags&128)!==0,_||u?(_=r.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:_.render(),r.flags|=1,n!==null&&u?(r.child=Ur(r,n.child,null,d),r.child=Ur(r,null,l,d)):we(n,r,l,d),r.memoizedState=_.state,n=r.child):n=pi(n,r,d),n}function vy(n,r,l,u){return qa(),r.flags|=256,we(n,r,l,u),r.child}var of={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function uf(n){return{baseLanes:n,cachePool:l_()}}function cf(n,r,l){return n=n!==null?n.childLanes&~l:0,r&&(n|=Sn),n}function xy(n,r,l){var u=r.pendingProps,d=!1,_=(r.flags&128)!==0,v;if((v=_)||(v=n!==null&&n.memoizedState===null?!1:(ge.current&2)!==0),v&&(d=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,n===null){if(kt){if(d?Qi(r):Ji(),kt){var b=ie,D;if(D=b){t:{for(D=b,b=Vn;D.nodeType!==8;){if(!b){b=null;break t}if(D=zn(D.nextSibling),D===null){b=null;break t}}b=D}b!==null?(r.memoizedState={dehydrated:b,treeContext:ks!==null?{id:fi,overflow:di}:null,retryLane:536870912,hydrationErrors:null},D=an(18,null,null,0),D.stateNode=b,D.return=r,r.child=D,Ue=r,ie=null,D=!0):D=!1}D||Us(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return Zf(b)?r.lanes=32:r.lanes=536870912,null;yi(r)}return b=u.children,u=u.fallback,d?(Ji(),d=r.mode,b=su({mode:"hidden",children:b},d),u=zs(u,d,l,null),b.return=r,u.return=r,b.sibling=u,r.child=b,d=r.child,d.memoizedState=uf(l),d.childLanes=cf(n,v,l),r.memoizedState=of,u):(Qi(r),hf(r,b))}if(D=n.memoizedState,D!==null&&(b=D.dehydrated,b!==null)){if(_)r.flags&256?(Qi(r),r.flags&=-257,r=ff(n,r,l)):r.memoizedState!==null?(Ji(),r.child=n.child,r.flags|=128,r=null):(Ji(),d=u.fallback,b=r.mode,u=su({mode:"visible",children:u.children},b),d=zs(d,b,l,null),d.flags|=2,u.return=r,d.return=r,u.sibling=d,r.child=u,Ur(r,n.child,null,l),u=r.child,u.memoizedState=uf(l),u.childLanes=cf(n,v,l),r.memoizedState=of,r=d);else if(Qi(r),Zf(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var F=v.dgst;v=F,u=Error(i(419)),u.stack="",u.digest=v,Za({value:u,source:null,stack:null}),r=ff(n,r,l)}else if(ve||Va(n,r,l,!1),v=(l&n.childLanes)!==0,ve||v){if(v=Wt,v!==null&&(u=l&-l,u=(u&42)!==0?1:Ln(u),u=(u&(v.suspendedLanes|l))!==0?0:u,u!==0&&u!==D.retryLane))throw D.retryLane=u,Ar(n,u),hn(v,n,u),fy;b.data==="$?"||Of(),r=ff(n,r,l)}else b.data==="$?"?(r.flags|=192,r.child=n.child,r=null):(n=D.treeContext,ie=zn(b.nextSibling),Ue=r,kt=!0,js=null,Vn=!1,n!==null&&(En[vn++]=fi,En[vn++]=di,En[vn++]=ks,fi=n.id,di=n.overflow,ks=r),r=hf(r,u.children),r.flags|=4096);return r}return d?(Ji(),d=u.fallback,b=r.mode,D=n.child,F=D.sibling,u=hi(D,{mode:"hidden",children:u.children}),u.subtreeFlags=D.subtreeFlags&65011712,F!==null?d=hi(F,d):(d=zs(d,b,l,null),d.flags|=2),d.return=r,u.return=r,u.sibling=d,r.child=u,u=d,d=r.child,b=n.child.memoizedState,b===null?b=uf(l):(D=b.cachePool,D!==null?(F=de._currentValue,D=D.parent!==F?{parent:F,pool:F}:D):D=l_(),b={baseLanes:b.baseLanes|l,cachePool:D}),d.memoizedState=b,d.childLanes=cf(n,v,l),r.memoizedState=of,u):(Qi(r),l=n.child,n=l.sibling,l=hi(l,{mode:"visible",children:u.children}),l.return=r,l.sibling=null,n!==null&&(v=r.deletions,v===null?(r.deletions=[n],r.flags|=16):v.push(n)),r.child=l,r.memoizedState=null,l)}function hf(n,r){return r=su({mode:"visible",children:r},n.mode),r.return=n,n.child=r}function su(n,r){return n=an(22,n,null,r),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function ff(n,r,l){return Ur(r,n.child,null,l),n=hf(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Sy(n,r,l){n.lanes|=r;var u=n.alternate;u!==null&&(u.lanes|=r),Mh(n.return,r,l)}function df(n,r,l,u,d){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:d}:(_.isBackwards=r,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=l,_.tailMode=d)}function by(n,r,l){var u=r.pendingProps,d=u.revealOrder,_=u.tail;if(we(n,r,u.children,l),u=ge.current,(u&2)!==0)u=u&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Sy(n,l,r);else if(n.tag===19)Sy(n,l,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}u&=1}switch(tt(ge,u),d){case"forwards":for(l=r.child,d=null;l!==null;)n=l.alternate,n!==null&&tu(n)===null&&(d=l),l=l.sibling;l=d,l===null?(d=r.child,r.child=null):(d=l.sibling,l.sibling=null),df(r,!1,d,l,_);break;case"backwards":for(l=null,d=r.child,r.child=null;d!==null;){if(n=d.alternate,n!==null&&tu(n)===null){r.child=d;break}n=d.sibling,d.sibling=l,l=d,d=n}df(r,!0,l,null,_);break;case"together":df(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function pi(n,r,l){if(n!==null&&(r.dependencies=n.dependencies),is|=r.lanes,(l&r.childLanes)===0)if(n!==null){if(Va(n,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(n!==null&&r.child!==n.child)throw Error(i(153));if(r.child!==null){for(n=r.child,l=hi(n,n.pendingProps),r.child=l,l.return=r;n.sibling!==null;)n=n.sibling,l=l.sibling=hi(n,n.pendingProps),l.return=r;l.sibling=null}return r.child}function gf(n,r){return(n.lanes&r)!==0?!0:(n=n.dependencies,!!(n!==null&&jo(n)))}function jx(n,r,l){switch(r.tag){case 3:Ot(r,r.stateNode.containerInfo),qi(r,de,n.memoizedState.cache),qa();break;case 27:case 5:Te(r);break;case 4:Ot(r,r.stateNode.containerInfo);break;case 10:qi(r,r.type,r.memoizedProps.value);break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(Qi(r),r.flags|=128,null):(l&r.child.childLanes)!==0?xy(n,r,l):(Qi(r),n=pi(n,r,l),n!==null?n.sibling:null);Qi(r);break;case 19:var d=(n.flags&128)!==0;if(u=(l&r.childLanes)!==0,u||(Va(n,r,l,!1),u=(l&r.childLanes)!==0),d){if(u)return by(n,r,l);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),tt(ge,ge.current),u)break;return null;case 22:case 23:return r.lanes=0,_y(n,r,l);case 24:qi(r,de,n.memoizedState.cache)}return pi(n,r,l)}function Ry(n,r,l){if(n!==null)if(n.memoizedProps!==r.pendingProps)ve=!0;else{if(!gf(n,l)&&(r.flags&128)===0)return ve=!1,jx(n,r,l);ve=(n.flags&131072)!==0}else ve=!1,kt&&(r.flags&1048576)!==0&&t_(r,Fo,r.index);switch(r.lanes=0,r.tag){case 16:t:{n=r.pendingProps;var u=r.elementType,d=u._init;if(u=d(u._payload),r.type=u,typeof u=="function")Sh(u)?(n=Xs(u,n),r.tag=1,r=Ey(null,r,u,n,l)):(r.tag=0,r=lf(null,r,u,n,l));else{if(u!=null){if(d=u.$$typeof,d===L){r.tag=11,r=dy(null,r,u,n,l);break t}else if(d===H){r.tag=14,r=gy(null,r,u,n,l);break t}}throw r=ot(u)||u,Error(i(306,r,""))}}return r;case 0:return lf(n,r,r.type,r.pendingProps,l);case 1:return u=r.type,d=Xs(u,r.pendingProps),Ey(n,r,u,d,l);case 3:t:{if(Ot(r,r.stateNode.containerInfo),n===null)throw Error(i(387));u=r.pendingProps;var _=r.memoizedState;d=_.element,kh(n,r),el(r,u,null,l);var v=r.memoizedState;if(u=v.cache,qi(r,de,u),u!==_.cache&&Oh(r,[de],l,!0),tl(),u=v.element,_.isDehydrated)if(_={element:u,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=_,r.memoizedState=_,r.flags&256){r=vy(n,r,u,l);break t}else if(u!==d){d=yn(Error(i(424)),r),Za(d),r=vy(n,r,u,l);break t}else{switch(n=r.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ie=zn(n.firstChild),Ue=r,kt=!0,js=null,Vn=!0,l=ny(r,null,u,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(qa(),u===d){r=pi(n,r,l);break t}we(n,r,u,l)}r=r.child}return r;case 26:return iu(n,r),n===null?(l=A0(r.type,null,r.pendingProps,null))?r.memoizedState=l:kt||(l=r.type,n=r.pendingProps,u=pu(ct.current).createElement(l),u[Kt]=r,u[wt]=n,Me(u,l,n),Ee(u),r.stateNode=u):r.memoizedState=A0(r.type,n.memoizedProps,r.pendingProps,n.memoizedState),null;case 27:return Te(r),n===null&&kt&&(u=r.stateNode=T0(r.type,r.pendingProps,ct.current),Ue=r,Vn=!0,d=ie,ls(r.type)?(Vf=d,ie=zn(u.firstChild)):ie=d),we(n,r,r.pendingProps.children,l),iu(n,r),n===null&&(r.flags|=4194304),r.child;case 5:return n===null&&kt&&((d=u=ie)&&(u=fS(u,r.type,r.pendingProps,Vn),u!==null?(r.stateNode=u,Ue=r,ie=zn(u.firstChild),Vn=!1,d=!0):d=!1),d||Us(r)),Te(r),d=r.type,_=r.pendingProps,v=n!==null?n.memoizedProps:null,u=_.children,Xf(d,_)?u=null:v!==null&&Xf(d,v)&&(r.flags|=32),r.memoizedState!==null&&(d=Ph(n,r,Ox,null,null,l),bl._currentValue=d),iu(n,r),we(n,r,u,l),r.child;case 6:return n===null&&kt&&((n=l=ie)&&(l=dS(l,r.pendingProps,Vn),l!==null?(r.stateNode=l,Ue=r,ie=null,n=!0):n=!1),n||Us(r)),null;case 13:return xy(n,r,l);case 4:return Ot(r,r.stateNode.containerInfo),u=r.pendingProps,n===null?r.child=Ur(r,null,u,l):we(n,r,u,l),r.child;case 11:return dy(n,r,r.type,r.pendingProps,l);case 7:return we(n,r,r.pendingProps,l),r.child;case 8:return we(n,r,r.pendingProps.children,l),r.child;case 12:return we(n,r,r.pendingProps.children,l),r.child;case 10:return u=r.pendingProps,qi(r,r.type,u.value),we(n,r,u.children,l),r.child;case 9:return d=r.type._context,u=r.pendingProps.children,Gs(r),d=Ne(d),u=u(d),r.flags|=1,we(n,r,u,l),r.child;case 14:return gy(n,r,r.type,r.pendingProps,l);case 15:return my(n,r,r.type,r.pendingProps,l);case 19:return by(n,r,l);case 31:return u=r.pendingProps,l=r.mode,u={mode:u.mode,children:u.children},n===null?(l=su(u,l),l.ref=r.ref,r.child=l,l.return=r,r=l):(l=hi(n.child,u),l.ref=r.ref,r.child=l,l.return=r,r=l),r;case 22:return _y(n,r,l);case 24:return Gs(r),u=Ne(de),n===null?(d=Nh(),d===null&&(d=Wt,_=Dh(),d.pooledCache=_,_.refCount++,_!==null&&(d.pooledCacheLanes|=l),d=_),r.memoizedState={parent:u,cache:d},zh(r),qi(r,de,d)):((n.lanes&l)!==0&&(kh(n,r),el(r,null,null,l),tl()),d=n.memoizedState,_=r.memoizedState,d.parent!==u?(d={parent:u,cache:u},r.memoizedState=d,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=d),qi(r,de,u)):(u=_.cache,qi(r,de,u),u!==d.cache&&Oh(r,[de],l,!0))),we(n,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function Ei(n){n.flags|=4}function Ty(n,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!N0(r)){if(r=xn.current,r!==null&&((Lt&4194048)===Lt?Kn!==null:(Lt&62914560)!==Lt&&(Lt&536870912)===0||r!==Kn))throw Ja=Ih,o_;n.flags|=8192}}function ru(n,r){r!==null&&(n.flags|=4),n.flags&16384&&(r=n.tag!==22?Xi():536870912,n.lanes|=r,Yr|=r)}function ol(n,r){if(!kt)switch(n.tailMode){case"hidden":r=n.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n.tail=null:l.sibling=null;break;case"collapsed":l=n.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function $t(n){var r=n.alternate!==null&&n.alternate.child===n.child,l=0,u=0;if(r)for(var d=n.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)l|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=u,n.childLanes=l,r}function Ux(n,r,l){var u=r.pendingProps;switch(Ch(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(r),null;case 1:return $t(r),null;case 3:return l=r.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),mi(de),ce(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(n===null||n.child===null)&&(Ha(r)?Ei(r):n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,i_())),$t(r),null;case 26:return l=r.memoizedState,n===null?(Ei(r),l!==null?($t(r),Ty(r,l)):($t(r),r.flags&=-16777217)):l?l!==n.memoizedState?(Ei(r),$t(r),Ty(r,l)):($t(r),r.flags&=-16777217):(n.memoizedProps!==u&&Ei(r),$t(r),r.flags&=-16777217),null;case 27:ai(r),l=ct.current;var d=r.type;if(n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Ei(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return $t(r),null}n=at.current,Ha(r)?e_(r):(n=T0(d,u,l),r.stateNode=n,Ei(r))}return $t(r),null;case 5:if(ai(r),l=r.type,n!==null&&r.stateNode!=null)n.memoizedProps!==u&&Ei(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return $t(r),null}if(n=at.current,Ha(r))e_(r);else{switch(d=pu(ct.current),n){case 1:n=d.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:n=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":n=d.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":n=d.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":n=d.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?n.multiple=!0:u.size&&(n.size=u.size);break;default:n=typeof u.is=="string"?d.createElement(l,{is:u.is}):d.createElement(l)}}n[Kt]=r,n[wt]=u;t:for(d=r.child;d!==null;){if(d.tag===5||d.tag===6)n.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===r)break t;for(;d.sibling===null;){if(d.return===null||d.return===r)break t;d=d.return}d.sibling.return=d.return,d=d.sibling}r.stateNode=n;t:switch(Me(n,l,u),l){case"button":case"input":case"select":case"textarea":n=!!u.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&Ei(r)}}return $t(r),r.flags&=-16777217,null;case 6:if(n&&r.stateNode!=null)n.memoizedProps!==u&&Ei(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(n=ct.current,Ha(r)){if(n=r.stateNode,l=r.memoizedProps,u=null,d=Ue,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}n[Kt]=r,n=!!(n.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||p0(n.nodeValue,l)),n||Us(r)}else n=pu(n).createTextNode(u),n[Kt]=r,r.stateNode=n}return $t(r),null;case 13:if(u=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=Ha(r),u!==null&&u.dehydrated!==null){if(n===null){if(!d)throw Error(i(318));if(d=r.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(i(317));d[Kt]=r}else qa(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;$t(r),d=!1}else d=i_(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return r.flags&256?(yi(r),r):(yi(r),null)}if(yi(r),(r.flags&128)!==0)return r.lanes=l,r;if(l=u!==null,n=n!==null&&n.memoizedState!==null,l){u=r.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var _=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==d&&(u.flags|=2048)}return l!==n&&l&&(r.child.flags|=8192),ru(r,r.updateQueue),$t(r),null;case 4:return ce(),n===null&&Uf(r.stateNode.containerInfo),$t(r),null;case 10:return mi(r.type),$t(r),null;case 19:if(j(ge),d=r.memoizedState,d===null)return $t(r),null;if(u=(r.flags&128)!==0,_=d.rendering,_===null)if(u)ol(d,!1);else{if(se!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(_=tu(n),_!==null){for(r.flags|=128,ol(d,!1),n=_.updateQueue,r.updateQueue=n,ru(r,n),r.subtreeFlags=0,n=l,l=r.child;l!==null;)$m(l,n),l=l.sibling;return tt(ge,ge.current&1|2),r.child}n=n.sibling}d.tail!==null&&Ce()>ou&&(r.flags|=128,u=!0,ol(d,!1),r.lanes=4194304)}else{if(!u)if(n=tu(_),n!==null){if(r.flags|=128,u=!0,n=n.updateQueue,r.updateQueue=n,ru(r,n),ol(d,!0),d.tail===null&&d.tailMode==="hidden"&&!_.alternate&&!kt)return $t(r),null}else 2*Ce()-d.renderingStartTime>ou&&l!==536870912&&(r.flags|=128,u=!0,ol(d,!1),r.lanes=4194304);d.isBackwards?(_.sibling=r.child,r.child=_):(n=d.last,n!==null?n.sibling=_:r.child=_,d.last=_)}return d.tail!==null?(r=d.tail,d.rendering=r,d.tail=r.sibling,d.renderingStartTime=Ce(),r.sibling=null,n=ge.current,tt(ge,u?n&1|2:n&1),r):($t(r),null);case 22:case 23:return yi(r),Bh(),u=r.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(l&536870912)!==0&&(r.flags&128)===0&&($t(r),r.subtreeFlags&6&&(r.flags|=8192)):$t(r),l=r.updateQueue,l!==null&&ru(r,l.retryQueue),l=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==l&&(r.flags|=2048),n!==null&&j(Ps),null;case 24:return l=null,n!==null&&(l=n.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),mi(de),$t(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function Bx(n,r){switch(Ch(r),r.tag){case 1:return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return mi(de),ce(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 26:case 27:case 5:return ai(r),null;case 13:if(yi(r),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(i(340));qa()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return j(ge),null;case 4:return ce(),null;case 10:return mi(r.type),null;case 22:case 23:return yi(r),Bh(),n!==null&&j(Ps),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 24:return mi(de),null;case 25:return null;default:return null}}function Cy(n,r){switch(Ch(r),r.tag){case 3:mi(de),ce();break;case 26:case 27:case 5:ai(r);break;case 4:ce();break;case 13:yi(r);break;case 19:j(ge);break;case 10:mi(r.type);break;case 22:case 23:yi(r),Bh(),n!==null&&j(Ps);break;case 24:mi(de)}}function ul(n,r){try{var l=r.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var d=u.next;l=d;do{if((l.tag&n)===n){u=void 0;var _=l.create,v=l.inst;u=_(),v.destroy=u}l=l.next}while(l!==d)}}catch(b){Vt(r,r.return,b)}}function $i(n,r,l){try{var u=r.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var _=d.next;u=_;do{if((u.tag&n)===n){var v=u.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,d=r;var D=l,F=b;try{F()}catch(q){Vt(d,D,q)}}}u=u.next}while(u!==_)}}catch(q){Vt(r,r.return,q)}}function wy(n){var r=n.updateQueue;if(r!==null){var l=n.stateNode;try{g_(r,l)}catch(u){Vt(n,n.return,u)}}}function Ay(n,r,l){l.props=Xs(n.type,n.memoizedProps),l.state=n.memoizedState;try{l.componentWillUnmount()}catch(u){Vt(n,r,u)}}function cl(n,r){try{var l=n.ref;if(l!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof l=="function"?n.refCleanup=l(u):l.current=u}}catch(d){Vt(n,r,d)}}function Wn(n,r){var l=n.ref,u=n.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(d){Vt(n,r,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){Vt(n,r,d)}else l.current=null}function My(n){var r=n.type,l=n.memoizedProps,u=n.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(d){Vt(n,n.return,d)}}function mf(n,r,l){try{var u=n.stateNode;lS(u,n.type,l,r),u[wt]=r}catch(d){Vt(n,n.return,d)}}function Oy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&ls(n.type)||n.tag===4}function _f(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Oy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&ls(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function yf(n,r,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(n,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(n),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=yu));else if(u!==4&&(u===27&&ls(n.type)&&(l=n.stateNode,r=null),n=n.child,n!==null))for(yf(n,r,l),n=n.sibling;n!==null;)yf(n,r,l),n=n.sibling}function au(n,r,l){var u=n.tag;if(u===5||u===6)n=n.stateNode,r?l.insertBefore(n,r):l.appendChild(n);else if(u!==4&&(u===27&&ls(n.type)&&(l=n.stateNode),n=n.child,n!==null))for(au(n,r,l),n=n.sibling;n!==null;)au(n,r,l),n=n.sibling}function Dy(n){var r=n.stateNode,l=n.memoizedProps;try{for(var u=n.type,d=r.attributes;d.length;)r.removeAttributeNode(d[0]);Me(r,u,l),r[Kt]=n,r[wt]=l}catch(_){Vt(n,n.return,_)}}var vi=!1,oe=!1,pf=!1,Ly=typeof WeakSet=="function"?WeakSet:Set,xe=null;function Gx(n,r){if(n=n.containerInfo,Pf=Ru,n=Ym(n),mh(n)){if("selectionStart"in n)var l={start:n.selectionStart,end:n.selectionEnd};else t:{l=(l=n.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var d=u.anchorOffset,_=u.focusNode;u=u.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break t}var v=0,b=-1,D=-1,F=0,q=0,J=n,U=null;e:for(;;){for(var B;J!==l||d!==0&&J.nodeType!==3||(b=v+d),J!==_||u!==0&&J.nodeType!==3||(D=v+u),J.nodeType===3&&(v+=J.nodeValue.length),(B=J.firstChild)!==null;)U=J,J=B;for(;;){if(J===n)break e;if(U===l&&++F===d&&(b=v),U===_&&++q===u&&(D=v),(B=J.nextSibling)!==null)break;J=U,U=J.parentNode}J=B}l=b===-1||D===-1?null:{start:b,end:D}}else l=null}l=l||{start:0,end:0}}else l=null;for(Yf={focusedElem:n,selectionRange:l},Ru=!1,xe=r;xe!==null;)if(r=xe,n=r.child,(r.subtreeFlags&1024)!==0&&n!==null)n.return=r,xe=n;else for(;xe!==null;){switch(r=xe,_=r.alternate,n=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&_!==null){n=void 0,l=r,d=_.memoizedProps,_=_.memoizedState,u=l.stateNode;try{var pt=Xs(l.type,d,l.elementType===l.type);n=u.getSnapshotBeforeUpdate(pt,_),u.__reactInternalSnapshotBeforeUpdate=n}catch(_t){Vt(l,l.return,_t)}}break;case 3:if((n&1024)!==0){if(n=r.stateNode.containerInfo,l=n.nodeType,l===9)qf(n);else if(l===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":qf(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=r.sibling,n!==null){n.return=r.return,xe=n;break}xe=r.return}}function Ny(n,r,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:ts(n,l),u&4&&ul(5,l);break;case 1:if(ts(n,l),u&4)if(n=l.stateNode,r===null)try{n.componentDidMount()}catch(v){Vt(l,l.return,v)}else{var d=Xs(l.type,r.memoizedProps);r=r.memoizedState;try{n.componentDidUpdate(d,r,n.__reactInternalSnapshotBeforeUpdate)}catch(v){Vt(l,l.return,v)}}u&64&&wy(l),u&512&&cl(l,l.return);break;case 3:if(ts(n,l),u&64&&(n=l.updateQueue,n!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{g_(n,r)}catch(v){Vt(l,l.return,v)}}break;case 27:r===null&&u&4&&Dy(l);case 26:case 5:ts(n,l),r===null&&u&4&&My(l),u&512&&cl(l,l.return);break;case 12:ts(n,l);break;case 13:ts(n,l),u&4&&ky(n,l),u&64&&(n=l.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(l=Wx.bind(null,l),gS(n,l))));break;case 22:if(u=l.memoizedState!==null||vi,!u){r=r!==null&&r.memoizedState!==null||oe,d=vi;var _=oe;vi=u,(oe=r)&&!_?es(n,l,(l.subtreeFlags&8772)!==0):ts(n,l),vi=d,oe=_}break;case 30:break;default:ts(n,l)}}function Iy(n){var r=n.alternate;r!==null&&(n.alternate=null,Iy(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&Wc(r)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Qt=null,qe=!1;function xi(n,r,l){for(l=l.child;l!==null;)zy(n,r,l),l=l.sibling}function zy(n,r,l){if(ye&&typeof ye.onCommitFiberUnmount=="function")try{ye.onCommitFiberUnmount(Hn,l)}catch{}switch(l.tag){case 26:oe||Wn(l,r),xi(n,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:oe||Wn(l,r);var u=Qt,d=qe;ls(l.type)&&(Qt=l.stateNode,qe=!1),xi(n,r,l),El(l.stateNode),Qt=u,qe=d;break;case 5:oe||Wn(l,r);case 6:if(u=Qt,d=qe,Qt=null,xi(n,r,l),Qt=u,qe=d,Qt!==null)if(qe)try{(Qt.nodeType===9?Qt.body:Qt.nodeName==="HTML"?Qt.ownerDocument.body:Qt).removeChild(l.stateNode)}catch(_){Vt(l,r,_)}else try{Qt.removeChild(l.stateNode)}catch(_){Vt(l,r,_)}break;case 18:Qt!==null&&(qe?(n=Qt,b0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,l.stateNode),wl(n)):b0(Qt,l.stateNode));break;case 4:u=Qt,d=qe,Qt=l.stateNode.containerInfo,qe=!0,xi(n,r,l),Qt=u,qe=d;break;case 0:case 11:case 14:case 15:oe||$i(2,l,r),oe||$i(4,l,r),xi(n,r,l);break;case 1:oe||(Wn(l,r),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Ay(l,r,u)),xi(n,r,l);break;case 21:xi(n,r,l);break;case 22:oe=(u=oe)||l.memoizedState!==null,xi(n,r,l),oe=u;break;default:xi(n,r,l)}}function ky(n,r){if(r.memoizedState===null&&(n=r.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{wl(n)}catch(l){Vt(r,r.return,l)}}function Px(n){switch(n.tag){case 13:case 19:var r=n.stateNode;return r===null&&(r=n.stateNode=new Ly),r;case 22:return n=n.stateNode,r=n._retryCache,r===null&&(r=n._retryCache=new Ly),r;default:throw Error(i(435,n.tag))}}function Ef(n,r){var l=Px(n);r.forEach(function(u){var d=Qx.bind(null,n,u);l.has(u)||(l.add(u),u.then(d,d))})}function ln(n,r){var l=r.deletions;if(l!==null)for(var u=0;u<l.length;u++){var d=l[u],_=n,v=r,b=v;t:for(;b!==null;){switch(b.tag){case 27:if(ls(b.type)){Qt=b.stateNode,qe=!1;break t}break;case 5:Qt=b.stateNode,qe=!1;break t;case 3:case 4:Qt=b.stateNode.containerInfo,qe=!0;break t}b=b.return}if(Qt===null)throw Error(i(160));zy(_,v,d),Qt=null,qe=!1,_=d.alternate,_!==null&&(_.return=null),d.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Fy(r,n),r=r.sibling}var In=null;function Fy(n,r){var l=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:ln(r,n),on(n),u&4&&($i(3,n,n.return),ul(3,n),$i(5,n,n.return));break;case 1:ln(r,n),on(n),u&512&&(oe||l===null||Wn(l,l.return)),u&64&&vi&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(l=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var d=In;if(ln(r,n),on(n),u&512&&(oe||l===null||Wn(l,l.return)),u&4){var _=l!==null?l.memoizedState:null;if(u=n.memoizedState,l===null)if(u===null)if(n.stateNode===null){t:{u=n.type,l=n.memoizedProps,d=d.ownerDocument||d;e:switch(u){case"title":_=d.getElementsByTagName("title")[0],(!_||_[Ia]||_[Kt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=d.createElement(u),d.head.insertBefore(_,d.querySelector("head > title"))),Me(_,u,l),_[Kt]=n,Ee(_),u=_;break t;case"link":var v=D0("link","href",d).get(u+(l.href||""));if(v){for(var b=0;b<v.length;b++)if(_=v[b],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){v.splice(b,1);break e}}_=d.createElement(u),Me(_,u,l),d.head.appendChild(_);break;case"meta":if(v=D0("meta","content",d).get(u+(l.content||""))){for(b=0;b<v.length;b++)if(_=v[b],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){v.splice(b,1);break e}}_=d.createElement(u),Me(_,u,l),d.head.appendChild(_);break;default:throw Error(i(468,u))}_[Kt]=n,Ee(_),u=_}n.stateNode=u}else L0(d,n.type,n.stateNode);else n.stateNode=O0(d,u,n.memoizedProps);else _!==u?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,u===null?L0(d,n.type,n.stateNode):O0(d,u,n.memoizedProps)):u===null&&n.stateNode!==null&&mf(n,n.memoizedProps,l.memoizedProps)}break;case 27:ln(r,n),on(n),u&512&&(oe||l===null||Wn(l,l.return)),l!==null&&u&4&&mf(n,n.memoizedProps,l.memoizedProps);break;case 5:if(ln(r,n),on(n),u&512&&(oe||l===null||Wn(l,l.return)),n.flags&32){d=n.stateNode;try{xr(d,"")}catch(B){Vt(n,n.return,B)}}u&4&&n.stateNode!=null&&(d=n.memoizedProps,mf(n,d,l!==null?l.memoizedProps:d)),u&1024&&(pf=!0);break;case 6:if(ln(r,n),on(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,l=n.stateNode;try{l.nodeValue=u}catch(B){Vt(n,n.return,B)}}break;case 3:if(xu=null,d=In,In=Eu(r.containerInfo),ln(r,n),In=d,on(n),u&4&&l!==null&&l.memoizedState.isDehydrated)try{wl(r.containerInfo)}catch(B){Vt(n,n.return,B)}pf&&(pf=!1,jy(n));break;case 4:u=In,In=Eu(n.stateNode.containerInfo),ln(r,n),on(n),In=u;break;case 12:ln(r,n),on(n);break;case 13:ln(r,n),on(n),n.child.flags&8192&&n.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Tf=Ce()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ef(n,u)));break;case 22:d=n.memoizedState!==null;var D=l!==null&&l.memoizedState!==null,F=vi,q=oe;if(vi=F||d,oe=q||D,ln(r,n),oe=q,vi=F,on(n),u&8192)t:for(r=n.stateNode,r._visibility=d?r._visibility&-2:r._visibility|1,d&&(l===null||D||vi||oe||Hs(n)),l=null,r=n;;){if(r.tag===5||r.tag===26){if(l===null){D=l=r;try{if(_=D.stateNode,d)v=_.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=D.stateNode;var J=D.memoizedProps.style,U=J!=null&&J.hasOwnProperty("display")?J.display:null;b.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(B){Vt(D,D.return,B)}}}else if(r.tag===6){if(l===null){D=r;try{D.stateNode.nodeValue=d?"":D.memoizedProps}catch(B){Vt(D,D.return,B)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===n)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break t;for(;r.sibling===null;){if(r.return===null||r.return===n)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=n.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Ef(n,l))));break;case 19:ln(r,n),on(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Ef(n,u)));break;case 30:break;case 21:break;default:ln(r,n),on(n)}}function on(n){var r=n.flags;if(r&2){try{for(var l,u=n.return;u!==null;){if(Oy(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var d=l.stateNode,_=_f(n);au(n,_,d);break;case 5:var v=l.stateNode;l.flags&32&&(xr(v,""),l.flags&=-33);var b=_f(n);au(n,b,v);break;case 3:case 4:var D=l.stateNode.containerInfo,F=_f(n);yf(n,F,D);break;default:throw Error(i(161))}}catch(q){Vt(n,n.return,q)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function jy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var r=n;jy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),n=n.sibling}}function ts(n,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Ny(n,r.alternate,r),r=r.sibling}function Hs(n){for(n=n.child;n!==null;){var r=n;switch(r.tag){case 0:case 11:case 14:case 15:$i(4,r,r.return),Hs(r);break;case 1:Wn(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Ay(r,r.return,l),Hs(r);break;case 27:El(r.stateNode);case 26:case 5:Wn(r,r.return),Hs(r);break;case 22:r.memoizedState===null&&Hs(r);break;case 30:Hs(r);break;default:Hs(r)}n=n.sibling}}function es(n,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,d=n,_=r,v=_.flags;switch(_.tag){case 0:case 11:case 15:es(d,_,l),ul(4,_);break;case 1:if(es(d,_,l),u=_,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(F){Vt(u,u.return,F)}if(u=_,d=u.updateQueue,d!==null){var b=u.stateNode;try{var D=d.shared.hiddenCallbacks;if(D!==null)for(d.shared.hiddenCallbacks=null,d=0;d<D.length;d++)d_(D[d],b)}catch(F){Vt(u,u.return,F)}}l&&v&64&&wy(_),cl(_,_.return);break;case 27:Dy(_);case 26:case 5:es(d,_,l),l&&u===null&&v&4&&My(_),cl(_,_.return);break;case 12:es(d,_,l);break;case 13:es(d,_,l),l&&v&4&&ky(d,_);break;case 22:_.memoizedState===null&&es(d,_,l),cl(_,_.return);break;case 30:break;default:es(d,_,l)}r=r.sibling}}function vf(n,r){var l=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),n=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(n=r.memoizedState.cachePool.pool),n!==l&&(n!=null&&n.refCount++,l!=null&&Ka(l))}function xf(n,r){n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Ka(n))}function Qn(n,r,l,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Uy(n,r,l,u),r=r.sibling}function Uy(n,r,l,u){var d=r.flags;switch(r.tag){case 0:case 11:case 15:Qn(n,r,l,u),d&2048&&ul(9,r);break;case 1:Qn(n,r,l,u);break;case 3:Qn(n,r,l,u),d&2048&&(n=null,r.alternate!==null&&(n=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==n&&(r.refCount++,n!=null&&Ka(n)));break;case 12:if(d&2048){Qn(n,r,l,u),n=r.stateNode;try{var _=r.memoizedProps,v=_.id,b=_.onPostCommit;typeof b=="function"&&b(v,r.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(D){Vt(r,r.return,D)}}else Qn(n,r,l,u);break;case 13:Qn(n,r,l,u);break;case 23:break;case 22:_=r.stateNode,v=r.alternate,r.memoizedState!==null?_._visibility&2?Qn(n,r,l,u):hl(n,r):_._visibility&2?Qn(n,r,l,u):(_._visibility|=2,Br(n,r,l,u,(r.subtreeFlags&10256)!==0)),d&2048&&vf(v,r);break;case 24:Qn(n,r,l,u),d&2048&&xf(r.alternate,r);break;default:Qn(n,r,l,u)}}function Br(n,r,l,u,d){for(d=d&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var _=n,v=r,b=l,D=u,F=v.flags;switch(v.tag){case 0:case 11:case 15:Br(_,v,b,D,d),ul(8,v);break;case 23:break;case 22:var q=v.stateNode;v.memoizedState!==null?q._visibility&2?Br(_,v,b,D,d):hl(_,v):(q._visibility|=2,Br(_,v,b,D,d)),d&&F&2048&&vf(v.alternate,v);break;case 24:Br(_,v,b,D,d),d&&F&2048&&xf(v.alternate,v);break;default:Br(_,v,b,D,d)}r=r.sibling}}function hl(n,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=n,u=r,d=u.flags;switch(u.tag){case 22:hl(l,u),d&2048&&vf(u.alternate,u);break;case 24:hl(l,u),d&2048&&xf(u.alternate,u);break;default:hl(l,u)}r=r.sibling}}var fl=8192;function Gr(n){if(n.subtreeFlags&fl)for(n=n.child;n!==null;)By(n),n=n.sibling}function By(n){switch(n.tag){case 26:Gr(n),n.flags&fl&&n.memoizedState!==null&&wS(In,n.memoizedState,n.memoizedProps);break;case 5:Gr(n);break;case 3:case 4:var r=In;In=Eu(n.stateNode.containerInfo),Gr(n),In=r;break;case 22:n.memoizedState===null&&(r=n.alternate,r!==null&&r.memoizedState!==null?(r=fl,fl=16777216,Gr(n),fl=r):Gr(n));break;default:Gr(n)}}function Gy(n){var r=n.alternate;if(r!==null&&(n=r.child,n!==null)){r.child=null;do r=n.sibling,n.sibling=null,n=r;while(n!==null)}}function dl(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];xe=u,Yy(u,n)}Gy(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Py(n),n=n.sibling}function Py(n){switch(n.tag){case 0:case 11:case 15:dl(n),n.flags&2048&&$i(9,n,n.return);break;case 3:dl(n);break;case 12:dl(n);break;case 22:var r=n.stateNode;n.memoizedState!==null&&r._visibility&2&&(n.return===null||n.return.tag!==13)?(r._visibility&=-3,lu(n)):dl(n);break;default:dl(n)}}function lu(n){var r=n.deletions;if((n.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];xe=u,Yy(u,n)}Gy(n)}for(n=n.child;n!==null;){switch(r=n,r.tag){case 0:case 11:case 15:$i(8,r,r.return),lu(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,lu(r));break;default:lu(r)}n=n.sibling}}function Yy(n,r){for(;xe!==null;){var l=xe;switch(l.tag){case 0:case 11:case 15:$i(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ka(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,xe=u;else t:for(l=n;xe!==null;){u=xe;var d=u.sibling,_=u.return;if(Iy(u),u===l){xe=null;break t}if(d!==null){d.return=_,xe=d;break t}xe=_}}}var Yx={getCacheForType:function(n){var r=Ne(de),l=r.data.get(n);return l===void 0&&(l=n(),r.data.set(n,l)),l}},Xx=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Wt=null,At=null,Lt=0,Pt=0,un=null,ns=!1,Pr=!1,Sf=!1,Si=0,se=0,is=0,qs=0,bf=0,Sn=0,Yr=0,gl=null,Ze=null,Rf=!1,Tf=0,ou=1/0,uu=null,ss=null,Ae=0,rs=null,Xr=null,Hr=0,Cf=0,wf=null,Xy=null,ml=0,Af=null;function cn(){if((Gt&2)!==0&&Lt!==0)return Lt&-Lt;if(z.T!==null){var n=Lr;return n!==0?n:zf()}return nn()}function Hy(){Sn===0&&(Sn=(Lt&536870912)===0||kt?gr():536870912);var n=xn.current;return n!==null&&(n.flags|=32),Sn}function hn(n,r,l){(n===Wt&&(Pt===2||Pt===9)||n.cancelPendingCommit!==null)&&(qr(n,0),as(n,Lt,Sn,!1)),Dn(n,l),((Gt&2)===0||n!==Wt)&&(n===Wt&&((Gt&2)===0&&(qs|=l),se===4&&as(n,Lt,Sn,!1)),Jn(n))}function qy(n,r,l){if((Gt&6)!==0)throw Error(i(327));var u=!l&&(r&124)===0&&(r&n.expiredLanes)===0||Yi(n,r),d=u?Zx(n,r):Df(n,r,!0),_=u;do{if(d===0){Pr&&!u&&as(n,r,0,!1);break}else{if(l=n.current.alternate,_&&!Hx(l)){d=Df(n,r,!1),_=!1;continue}if(d===2){if(_=r,n.errorRecoveryDisabledLanes&_)var v=0;else v=n.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var b=n;d=gl;var D=b.current.memoizedState.isDehydrated;if(D&&(qr(b,v).flags|=256),v=Df(b,v,!1),v!==2){if(Sf&&!D){b.errorRecoveryDisabledLanes|=_,qs|=_,d=4;break t}_=Ze,Ze=d,_!==null&&(Ze===null?Ze=_:Ze.push.apply(Ze,_))}d=v}if(_=!1,d!==2)continue}}if(d===1){qr(n,0),as(n,r,0,!0);break}t:{switch(u=n,_=d,_){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:as(u,r,Sn,!ns);break t;case 2:Ze=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(d=Tf+300-Ce(),10<d)){if(as(u,r,Sn,!ns),Pi(u,0,!0)!==0)break t;u.timeoutHandle=x0(Zy.bind(null,u,l,Ze,uu,Rf,r,Sn,qs,Yr,ns,_,2,-0,0),d);break t}Zy(u,l,Ze,uu,Rf,r,Sn,qs,Yr,ns,_,0,-0,0)}}break}while(!0);Jn(n)}function Zy(n,r,l,u,d,_,v,b,D,F,q,J,U,B){if(n.timeoutHandle=-1,J=r.subtreeFlags,(J&8192||(J&16785408)===16785408)&&(Sl={stylesheets:null,count:0,unsuspend:CS},By(r),J=AS(),J!==null)){n.cancelPendingCommit=J(t0.bind(null,n,r,_,l,u,d,v,b,D,q,1,U,B)),as(n,_,v,!F);return}t0(n,r,_,l,u,d,v,b,D)}function Hx(n){for(var r=n;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var d=l[u],_=d.getSnapshot;d=d.value;try{if(!rn(_(),d))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function as(n,r,l,u){r&=~bf,r&=~qs,n.suspendedLanes|=r,n.pingedLanes&=~r,u&&(n.warmLanes|=r),u=n.expirationTimes;for(var d=r;0<d;){var _=31-De(d),v=1<<_;u[_]=-1,d&=~v}l!==0&&Na(n,l,r)}function cu(){return(Gt&6)===0?(_l(0),!1):!0}function Mf(){if(At!==null){if(Pt===0)var n=At.return;else n=At,gi=Bs=null,Hh(n),jr=null,al=0,n=At;for(;n!==null;)Cy(n.alternate,n),n=n.return;At=null}}function qr(n,r){var l=n.timeoutHandle;l!==-1&&(n.timeoutHandle=-1,uS(l)),l=n.cancelPendingCommit,l!==null&&(n.cancelPendingCommit=null,l()),Mf(),Wt=n,At=l=hi(n.current,null),Lt=r,Pt=0,un=null,ns=!1,Pr=Yi(n,r),Sf=!1,Yr=Sn=bf=qs=is=se=0,Ze=gl=null,Rf=!1,(r&8)!==0&&(r|=r&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=r;0<u;){var d=31-De(u),_=1<<d;r|=n[d],u&=~_}return Si=r,Lo(),l}function Vy(n,r){Tt=null,z.H=Qo,r===Qa||r===Go?(r=h_(),Pt=3):r===o_?(r=h_(),Pt=4):Pt=r===fy?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,un=r,At===null&&(se=1,nu(n,yn(r,n.current)))}function Ky(){var n=z.H;return z.H=Qo,n===null?Qo:n}function Wy(){var n=z.A;return z.A=Yx,n}function Of(){se=4,ns||(Lt&4194048)!==Lt&&xn.current!==null||(Pr=!0),(is&134217727)===0&&(qs&134217727)===0||Wt===null||as(Wt,Lt,Sn,!1)}function Df(n,r,l){var u=Gt;Gt|=2;var d=Ky(),_=Wy();(Wt!==n||Lt!==r)&&(uu=null,qr(n,r)),r=!1;var v=se;t:do try{if(Pt!==0&&At!==null){var b=At,D=un;switch(Pt){case 8:Mf(),v=6;break t;case 3:case 2:case 9:case 6:xn.current===null&&(r=!0);var F=Pt;if(Pt=0,un=null,Zr(n,b,D,F),l&&Pr){v=0;break t}break;default:F=Pt,Pt=0,un=null,Zr(n,b,D,F)}}qx(),v=se;break}catch(q){Vy(n,q)}while(!0);return r&&n.shellSuspendCounter++,gi=Bs=null,Gt=u,z.H=d,z.A=_,At===null&&(Wt=null,Lt=0,Lo()),v}function qx(){for(;At!==null;)Qy(At)}function Zx(n,r){var l=Gt;Gt|=2;var u=Ky(),d=Wy();Wt!==n||Lt!==r?(uu=null,ou=Ce()+500,qr(n,r)):Pr=Yi(n,r);t:do try{if(Pt!==0&&At!==null){r=At;var _=un;e:switch(Pt){case 1:Pt=0,un=null,Zr(n,r,_,1);break;case 2:case 9:if(u_(_)){Pt=0,un=null,Jy(r);break}r=function(){Pt!==2&&Pt!==9||Wt!==n||(Pt=7),Jn(n)},_.then(r,r);break t;case 3:Pt=7;break t;case 4:Pt=5;break t;case 7:u_(_)?(Pt=0,un=null,Jy(r)):(Pt=0,un=null,Zr(n,r,_,7));break;case 5:var v=null;switch(At.tag){case 26:v=At.memoizedState;case 5:case 27:var b=At;if(!v||N0(v)){Pt=0,un=null;var D=b.sibling;if(D!==null)At=D;else{var F=b.return;F!==null?(At=F,hu(F)):At=null}break e}}Pt=0,un=null,Zr(n,r,_,5);break;case 6:Pt=0,un=null,Zr(n,r,_,6);break;case 8:Mf(),se=6;break t;default:throw Error(i(462))}}Vx();break}catch(q){Vy(n,q)}while(!0);return gi=Bs=null,z.H=u,z.A=d,Gt=l,At!==null?0:(Wt=null,Lt=0,Lo(),se)}function Vx(){for(;At!==null&&!Pe();)Qy(At)}function Qy(n){var r=Ry(n.alternate,n,Si);n.memoizedProps=n.pendingProps,r===null?hu(n):At=r}function Jy(n){var r=n,l=r.alternate;switch(r.tag){case 15:case 0:r=py(l,r,r.pendingProps,r.type,void 0,Lt);break;case 11:r=py(l,r,r.pendingProps,r.type.render,r.ref,Lt);break;case 5:Hh(r);default:Cy(l,r),r=At=$m(r,Si),r=Ry(l,r,Si)}n.memoizedProps=n.pendingProps,r===null?hu(n):At=r}function Zr(n,r,l,u){gi=Bs=null,Hh(r),jr=null,al=0;var d=r.return;try{if(Fx(n,d,r,l,Lt)){se=1,nu(n,yn(l,n.current)),At=null;return}}catch(_){if(d!==null)throw At=d,_;se=1,nu(n,yn(l,n.current)),At=null;return}r.flags&32768?(kt||u===1?n=!0:Pr||(Lt&536870912)!==0?n=!1:(ns=n=!0,(u===2||u===9||u===3||u===6)&&(u=xn.current,u!==null&&u.tag===13&&(u.flags|=16384))),$y(r,n)):hu(r)}function hu(n){var r=n;do{if((r.flags&32768)!==0){$y(r,ns);return}n=r.return;var l=Ux(r.alternate,r,Si);if(l!==null){At=l;return}if(r=r.sibling,r!==null){At=r;return}At=r=n}while(r!==null);se===0&&(se=5)}function $y(n,r){do{var l=Bx(n.alternate,n);if(l!==null){l.flags&=32767,At=l;return}if(l=n.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(n=n.sibling,n!==null)){At=n;return}At=n=l}while(n!==null);se=6,At=null}function t0(n,r,l,u,d,_,v,b,D){n.cancelPendingCommit=null;do fu();while(Ae!==0);if((Gt&6)!==0)throw Error(i(327));if(r!==null){if(r===n.current)throw Error(i(177));if(_=r.lanes|r.childLanes,_|=vh,vo(n,l,_,v,b,D),n===Wt&&(At=Wt=null,Lt=0),Xr=r,rs=n,Hr=l,Cf=_,wf=d,Xy=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,Jx(On,function(){return r0(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=z.T,z.T=null,d=Q.p,Q.p=2,v=Gt,Gt|=4;try{Gx(n,r,l)}finally{Gt=v,Q.p=d,z.T=u}}Ae=1,e0(),n0(),i0()}}function e0(){if(Ae===1){Ae=0;var n=rs,r=Xr,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=z.T,z.T=null;var u=Q.p;Q.p=2;var d=Gt;Gt|=4;try{Fy(r,n);var _=Yf,v=Ym(n.containerInfo),b=_.focusedElem,D=_.selectionRange;if(v!==b&&b&&b.ownerDocument&&Pm(b.ownerDocument.documentElement,b)){if(D!==null&&mh(b)){var F=D.start,q=D.end;if(q===void 0&&(q=F),"selectionStart"in b)b.selectionStart=F,b.selectionEnd=Math.min(q,b.value.length);else{var J=b.ownerDocument||document,U=J&&J.defaultView||window;if(U.getSelection){var B=U.getSelection(),pt=b.textContent.length,_t=Math.min(D.start,pt),Zt=D.end===void 0?_t:Math.min(D.end,pt);!B.extend&&_t>Zt&&(v=Zt,Zt=_t,_t=v);var I=Gm(b,_t),N=Gm(b,Zt);if(I&&N&&(B.rangeCount!==1||B.anchorNode!==I.node||B.anchorOffset!==I.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var k=J.createRange();k.setStart(I.node,I.offset),B.removeAllRanges(),_t>Zt?(B.addRange(k),B.extend(N.node,N.offset)):(k.setEnd(N.node,N.offset),B.addRange(k))}}}}for(J=[],B=b;B=B.parentNode;)B.nodeType===1&&J.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<J.length;b++){var W=J[b];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}Ru=!!Pf,Yf=Pf=null}finally{Gt=d,Q.p=u,z.T=l}}n.current=r,Ae=2}}function n0(){if(Ae===2){Ae=0;var n=rs,r=Xr,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=z.T,z.T=null;var u=Q.p;Q.p=2;var d=Gt;Gt|=4;try{Ny(n,r.alternate,r)}finally{Gt=d,Q.p=u,z.T=l}}Ae=3}}function i0(){if(Ae===4||Ae===3){Ae=0,gn();var n=rs,r=Xr,l=Hr,u=Xy;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ae=5:(Ae=0,Xr=rs=null,s0(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(ss=null),Le(l),r=r.stateNode,ye&&typeof ye.onCommitFiberRoot=="function")try{ye.onCommitFiberRoot(Hn,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=z.T,d=Q.p,Q.p=2,z.T=null;try{for(var _=n.onRecoverableError,v=0;v<u.length;v++){var b=u[v];_(b.value,{componentStack:b.stack})}}finally{z.T=r,Q.p=d}}(Hr&3)!==0&&fu(),Jn(n),d=n.pendingLanes,(l&4194090)!==0&&(d&42)!==0?n===Af?ml++:(ml=0,Af=n):ml=0,_l(0)}}function s0(n,r){(n.pooledCacheLanes&=r)===0&&(r=n.pooledCache,r!=null&&(n.pooledCache=null,Ka(r)))}function fu(n){return e0(),n0(),i0(),r0()}function r0(){if(Ae!==5)return!1;var n=rs,r=Cf;Cf=0;var l=Le(Hr),u=z.T,d=Q.p;try{Q.p=32>l?32:l,z.T=null,l=wf,wf=null;var _=rs,v=Hr;if(Ae=0,Xr=rs=null,Hr=0,(Gt&6)!==0)throw Error(i(331));var b=Gt;if(Gt|=4,Py(_.current),Uy(_,_.current,v,l),Gt=b,_l(0,!1),ye&&typeof ye.onPostCommitFiberRoot=="function")try{ye.onPostCommitFiberRoot(Hn,_)}catch{}return!0}finally{Q.p=d,z.T=u,s0(n,r)}}function a0(n,r,l){r=yn(l,r),r=af(n.stateNode,r,2),n=Ki(n,r,2),n!==null&&(Dn(n,2),Jn(n))}function Vt(n,r,l){if(n.tag===3)a0(n,n,l);else for(;r!==null;){if(r.tag===3){a0(r,n,l);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ss===null||!ss.has(u))){n=yn(l,n),l=cy(2),u=Ki(r,l,2),u!==null&&(hy(l,u,r,n),Dn(u,2),Jn(u));break}}r=r.return}}function Lf(n,r,l){var u=n.pingCache;if(u===null){u=n.pingCache=new Xx;var d=new Set;u.set(r,d)}else d=u.get(r),d===void 0&&(d=new Set,u.set(r,d));d.has(l)||(Sf=!0,d.add(l),n=Kx.bind(null,n,r,l),r.then(n,n))}function Kx(n,r,l){var u=n.pingCache;u!==null&&u.delete(r),n.pingedLanes|=n.suspendedLanes&l,n.warmLanes&=~l,Wt===n&&(Lt&l)===l&&(se===4||se===3&&(Lt&62914560)===Lt&&300>Ce()-Tf?(Gt&2)===0&&qr(n,0):bf|=l,Yr===Lt&&(Yr=0)),Jn(n)}function l0(n,r){r===0&&(r=Xi()),n=Ar(n,r),n!==null&&(Dn(n,r),Jn(n))}function Wx(n){var r=n.memoizedState,l=0;r!==null&&(l=r.retryLane),l0(n,l)}function Qx(n,r){var l=0;switch(n.tag){case 13:var u=n.stateNode,d=n.memoizedState;d!==null&&(l=d.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),l0(n,l)}function Jx(n,r){return li(n,r)}var du=null,Vr=null,Nf=!1,gu=!1,If=!1,Zs=0;function Jn(n){n!==Vr&&n.next===null&&(Vr===null?du=Vr=n:Vr=Vr.next=n),gu=!0,Nf||(Nf=!0,tS())}function _l(n,r){if(!If&&gu){If=!0;do for(var l=!1,u=du;u!==null;){if(n!==0){var d=u.pendingLanes;if(d===0)var _=0;else{var v=u.suspendedLanes,b=u.pingedLanes;_=(1<<31-De(42|n)+1)-1,_&=d&~(v&~b),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,h0(u,_))}else _=Lt,_=Pi(u,u===Wt?_:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(_&3)===0||Yi(u,_)||(l=!0,h0(u,_));u=u.next}while(l);If=!1}}function $x(){o0()}function o0(){gu=Nf=!1;var n=0;Zs!==0&&(oS()&&(n=Zs),Zs=0);for(var r=Ce(),l=null,u=du;u!==null;){var d=u.next,_=u0(u,r);_===0?(u.next=null,l===null?du=d:l.next=d,d===null&&(Vr=l)):(l=u,(n!==0||(_&3)!==0)&&(gu=!0)),u=d}_l(n)}function u0(n,r){for(var l=n.suspendedLanes,u=n.pingedLanes,d=n.expirationTimes,_=n.pendingLanes&-62914561;0<_;){var v=31-De(_),b=1<<v,D=d[v];D===-1?((b&l)===0||(b&u)!==0)&&(d[v]=Vc(b,r)):D<=r&&(n.expiredLanes|=b),_&=~b}if(r=Wt,l=Lt,l=Pi(n,n===r?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,l===0||n===r&&(Pt===2||Pt===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Mn(u),n.callbackNode=null,n.callbackPriority=0;if((l&3)===0||Yi(n,l)){if(r=l&-l,r===n.callbackPriority)return r;switch(u!==null&&Mn(u),Le(l)){case 2:case 8:l=Xn;break;case 32:l=On;break;case 268435456:l=ae;break;default:l=On}return u=c0.bind(null,n),l=li(l,u),n.callbackPriority=r,n.callbackNode=l,r}return u!==null&&u!==null&&Mn(u),n.callbackPriority=2,n.callbackNode=null,2}function c0(n,r){if(Ae!==0&&Ae!==5)return n.callbackNode=null,n.callbackPriority=0,null;var l=n.callbackNode;if(fu()&&n.callbackNode!==l)return null;var u=Lt;return u=Pi(n,n===Wt?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(qy(n,u,r),u0(n,Ce()),n.callbackNode!=null&&n.callbackNode===l?c0.bind(null,n):null)}function h0(n,r){if(fu())return null;qy(n,r,!0)}function tS(){cS(function(){(Gt&6)!==0?li(Bi,$x):o0()})}function zf(){return Zs===0&&(Zs=gr()),Zs}function f0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:To(""+n)}function d0(n,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,n.id&&l.setAttribute("form",n.id),r.parentNode.insertBefore(l,r),n=new FormData(n),l.parentNode.removeChild(l),n}function eS(n,r,l,u,d){if(r==="submit"&&l&&l.stateNode===d){var _=f0((d[wt]||null).action),v=u.submitter;v&&(r=(r=v[wt]||null)?f0(r.formAction):v.getAttribute("formAction"),r!==null&&(_=r,v=null));var b=new Mo("action","action",null,u,d);n.push({event:b,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Zs!==0){var D=v?d0(d,v):new FormData(d);tf(l,{pending:!0,data:D,method:d.method,action:_},null,D)}}else typeof _=="function"&&(b.preventDefault(),D=v?d0(d,v):new FormData(d),tf(l,{pending:!0,data:D,method:d.method,action:_},_,D))},currentTarget:d}]})}}for(var kf=0;kf<Eh.length;kf++){var Ff=Eh[kf],nS=Ff.toLowerCase(),iS=Ff[0].toUpperCase()+Ff.slice(1);Nn(nS,"on"+iS)}Nn(qm,"onAnimationEnd"),Nn(Zm,"onAnimationIteration"),Nn(Vm,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(vx,"onTransitionRun"),Nn(xx,"onTransitionStart"),Nn(Sx,"onTransitionCancel"),Nn(Km,"onTransitionEnd"),pr("onMouseEnter",["mouseout","mouseover"]),pr("onMouseLeave",["mouseout","mouseover"]),pr("onPointerEnter",["pointerout","pointerover"]),pr("onPointerLeave",["pointerout","pointerover"]),Ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ds("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function g0(n,r){r=(r&4)!==0;for(var l=0;l<n.length;l++){var u=n[l],d=u.event;u=u.listeners;t:{var _=void 0;if(r)for(var v=u.length-1;0<=v;v--){var b=u[v],D=b.instance,F=b.currentTarget;if(b=b.listener,D!==_&&d.isPropagationStopped())break t;_=b,d.currentTarget=F;try{_(d)}catch(q){eu(q)}d.currentTarget=null,_=D}else for(v=0;v<u.length;v++){if(b=u[v],D=b.instance,F=b.currentTarget,b=b.listener,D!==_&&d.isPropagationStopped())break t;_=b,d.currentTarget=F;try{_(d)}catch(q){eu(q)}d.currentTarget=null,_=D}}}}function Mt(n,r){var l=r[sn];l===void 0&&(l=r[sn]=new Set);var u=n+"__bubble";l.has(u)||(m0(r,n,2,!1),l.add(u))}function jf(n,r,l){var u=0;r&&(u|=4),m0(l,n,u,r)}var mu="_reactListening"+Math.random().toString(36).slice(2);function Uf(n){if(!n[mu]){n[mu]=!0,om.forEach(function(l){l!=="selectionchange"&&(sS.has(l)||jf(l,!1,n),jf(l,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[mu]||(r[mu]=!0,jf("selectionchange",!1,r))}}function m0(n,r,l,u){switch(U0(r)){case 2:var d=DS;break;case 8:d=LS;break;default:d=$f}l=d.bind(null,r,l,n),d=void 0,!ah||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),u?d!==void 0?n.addEventListener(r,l,{capture:!0,passive:d}):n.addEventListener(r,l,!0):d!==void 0?n.addEventListener(r,l,{passive:d}):n.addEventListener(r,l,!1)}function Bf(n,r,l,u,d){var _=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var b=u.stateNode.containerInfo;if(b===d)break;if(v===4)for(v=u.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===d)return;v=v.return}for(;b!==null;){if(v=mr(b),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){u=_=v;continue t}b=b.parentNode}}u=u.return}Sm(function(){var F=_,q=sh(l),J=[];t:{var U=Wm.get(n);if(U!==void 0){var B=Mo,pt=n;switch(n){case"keypress":if(wo(l)===0)break t;case"keydown":case"keyup":B=Jv;break;case"focusin":pt="focus",B=ch;break;case"focusout":pt="blur",B=ch;break;case"beforeblur":case"afterblur":B=ch;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=Tm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Bv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=ex;break;case qm:case Zm:case Vm:B=Yv;break;case Km:B=ix;break;case"scroll":case"scrollend":B=jv;break;case"wheel":B=rx;break;case"copy":case"cut":case"paste":B=Hv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=wm;break;case"toggle":case"beforetoggle":B=lx}var _t=(r&4)!==0,Zt=!_t&&(n==="scroll"||n==="scrollend"),I=_t?U!==null?U+"Capture":null:U;_t=[];for(var N=F,k;N!==null;){var W=N;if(k=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||k===null||I===null||(W=ka(N,I),W!=null&&_t.push(pl(N,W,k))),Zt)break;N=N.return}0<_t.length&&(U=new B(U,pt,null,l,q),J.push({event:U,listeners:_t}))}}if((r&7)===0){t:{if(U=n==="mouseover"||n==="pointerover",B=n==="mouseout"||n==="pointerout",U&&l!==ih&&(pt=l.relatedTarget||l.fromElement)&&(mr(pt)||pt[ne]))break t;if((B||U)&&(U=q.window===q?q:(U=q.ownerDocument)?U.defaultView||U.parentWindow:window,B?(pt=l.relatedTarget||l.toElement,B=F,pt=pt?mr(pt):null,pt!==null&&(Zt=o(pt),_t=pt.tag,pt!==Zt||_t!==5&&_t!==27&&_t!==6)&&(pt=null)):(B=null,pt=F),B!==pt)){if(_t=Tm,W="onMouseLeave",I="onMouseEnter",N="mouse",(n==="pointerout"||n==="pointerover")&&(_t=wm,W="onPointerLeave",I="onPointerEnter",N="pointer"),Zt=B==null?U:za(B),k=pt==null?U:za(pt),U=new _t(W,N+"leave",B,l,q),U.target=Zt,U.relatedTarget=k,W=null,mr(q)===F&&(_t=new _t(I,N+"enter",pt,l,q),_t.target=k,_t.relatedTarget=Zt,W=_t),Zt=W,B&&pt)e:{for(_t=B,I=pt,N=0,k=_t;k;k=Kr(k))N++;for(k=0,W=I;W;W=Kr(W))k++;for(;0<N-k;)_t=Kr(_t),N--;for(;0<k-N;)I=Kr(I),k--;for(;N--;){if(_t===I||I!==null&&_t===I.alternate)break e;_t=Kr(_t),I=Kr(I)}_t=null}else _t=null;B!==null&&_0(J,U,B,_t,!1),pt!==null&&Zt!==null&&_0(J,Zt,pt,_t,!0)}}t:{if(U=F?za(F):window,B=U.nodeName&&U.nodeName.toLowerCase(),B==="select"||B==="input"&&U.type==="file")var lt=zm;else if(Nm(U))if(km)lt=yx;else{lt=mx;var Ct=gx}else B=U.nodeName,!B||B.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?F&&nh(F.elementType)&&(lt=zm):lt=_x;if(lt&&(lt=lt(n,F))){Im(J,lt,l,q);break t}Ct&&Ct(n,U,F),n==="focusout"&&F&&U.type==="number"&&F.memoizedProps.value!=null&&eh(U,"number",U.value)}switch(Ct=F?za(F):window,n){case"focusin":(Nm(Ct)||Ct.contentEditable==="true")&&(Tr=Ct,_h=F,Xa=null);break;case"focusout":Xa=_h=Tr=null;break;case"mousedown":yh=!0;break;case"contextmenu":case"mouseup":case"dragend":yh=!1,Xm(J,l,q);break;case"selectionchange":if(Ex)break;case"keydown":case"keyup":Xm(J,l,q)}var ht;if(fh)t:{switch(n){case"compositionstart":var yt="onCompositionStart";break t;case"compositionend":yt="onCompositionEnd";break t;case"compositionupdate":yt="onCompositionUpdate";break t}yt=void 0}else Rr?Dm(n,l)&&(yt="onCompositionEnd"):n==="keydown"&&l.keyCode===229&&(yt="onCompositionStart");yt&&(Am&&l.locale!=="ko"&&(Rr||yt!=="onCompositionStart"?yt==="onCompositionEnd"&&Rr&&(ht=bm()):(Hi=q,lh="value"in Hi?Hi.value:Hi.textContent,Rr=!0)),Ct=_u(F,yt),0<Ct.length&&(yt=new Cm(yt,n,null,l,q),J.push({event:yt,listeners:Ct}),ht?yt.data=ht:(ht=Lm(l),ht!==null&&(yt.data=ht)))),(ht=ux?cx(n,l):hx(n,l))&&(yt=_u(F,"onBeforeInput"),0<yt.length&&(Ct=new Cm("onBeforeInput","beforeinput",null,l,q),J.push({event:Ct,listeners:yt}),Ct.data=ht)),eS(J,n,F,l,q)}g0(J,r)})}function pl(n,r,l){return{instance:n,listener:r,currentTarget:l}}function _u(n,r){for(var l=r+"Capture",u=[];n!==null;){var d=n,_=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||_===null||(d=ka(n,l),d!=null&&u.unshift(pl(n,d,_)),d=ka(n,r),d!=null&&u.push(pl(n,d,_))),n.tag===3)return u;n=n.return}return[]}function Kr(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function _0(n,r,l,u,d){for(var _=r._reactName,v=[];l!==null&&l!==u;){var b=l,D=b.alternate,F=b.stateNode;if(b=b.tag,D!==null&&D===u)break;b!==5&&b!==26&&b!==27||F===null||(D=F,d?(F=ka(l,_),F!=null&&v.unshift(pl(l,F,D))):d||(F=ka(l,_),F!=null&&v.push(pl(l,F,D)))),l=l.return}v.length!==0&&n.push({event:r,listeners:v})}var rS=/\r\n?/g,aS=/\u0000|\uFFFD/g;function y0(n){return(typeof n=="string"?n:""+n).replace(rS,`
`).replace(aS,"")}function p0(n,r){return r=y0(r),y0(n)===r}function yu(){}function qt(n,r,l,u,d,_){switch(l){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||xr(n,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&xr(n,""+u);break;case"className":So(n,"class",u);break;case"tabIndex":So(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":So(n,l,u);break;case"style":vm(n,u,_);break;case"data":if(r!=="object"){So(n,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||l!=="href")){n.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=To(""+u),n.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(r!=="input"&&qt(n,r,"name",d.name,d,null),qt(n,r,"formEncType",d.formEncType,d,null),qt(n,r,"formMethod",d.formMethod,d,null),qt(n,r,"formTarget",d.formTarget,d,null)):(qt(n,r,"encType",d.encType,d,null),qt(n,r,"method",d.method,d,null),qt(n,r,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(l);break}u=To(""+u),n.setAttribute(l,u);break;case"onClick":u!=null&&(n.onclick=yu);break;case"onScroll":u!=null&&Mt("scroll",n);break;case"onScrollEnd":u!=null&&Mt("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}l=To(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""+u):n.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,""):n.removeAttribute(l);break;case"capture":case"download":u===!0?n.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(l,u):n.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(l,u):n.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(l):n.setAttribute(l,u);break;case"popover":Mt("beforetoggle",n),Mt("toggle",n),xo(n,"popover",u);break;case"xlinkActuate":ui(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ui(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ui(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ui(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ui(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ui(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ui(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ui(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ui(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":xo(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=kv.get(l)||l,xo(n,l,u))}}function Gf(n,r,l,u,d,_){switch(l){case"style":vm(n,u,_);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(d.children!=null)throw Error(i(60));n.innerHTML=l}}break;case"children":typeof u=="string"?xr(n,u):(typeof u=="number"||typeof u=="bigint")&&xr(n,""+u);break;case"onScroll":u!=null&&Mt("scroll",n);break;case"onScrollEnd":u!=null&&Mt("scrollend",n);break;case"onClick":u!=null&&(n.onclick=yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!um.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),r=l.slice(2,d?l.length-7:void 0),_=n[wt]||null,_=_!=null?_[l]:null,typeof _=="function"&&n.removeEventListener(r,_,d),typeof u=="function")){typeof _!="function"&&_!==null&&(l in n?n[l]=null:n.hasAttribute(l)&&n.removeAttribute(l)),n.addEventListener(r,u,d);break t}l in n?n[l]=u:u===!0?n.setAttribute(l,""):xo(n,l,u)}}}function Me(n,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Mt("error",n),Mt("load",n);var u=!1,d=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var v=l[_];if(v!=null)switch(_){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:qt(n,r,_,v,l,null)}}d&&qt(n,r,"srcSet",l.srcSet,l,null),u&&qt(n,r,"src",l.src,l,null);return;case"input":Mt("invalid",n);var b=_=v=d=null,D=null,F=null;for(u in l)if(l.hasOwnProperty(u)){var q=l[u];if(q!=null)switch(u){case"name":d=q;break;case"type":v=q;break;case"checked":D=q;break;case"defaultChecked":F=q;break;case"value":_=q;break;case"defaultValue":b=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,r));break;default:qt(n,r,u,q,l,null)}}_m(n,_,b,D,F,v,d,!1),bo(n);return;case"select":Mt("invalid",n),u=v=_=null;for(d in l)if(l.hasOwnProperty(d)&&(b=l[d],b!=null))switch(d){case"value":_=b;break;case"defaultValue":v=b;break;case"multiple":u=b;default:qt(n,r,d,b,l,null)}r=_,l=v,n.multiple=!!u,r!=null?vr(n,!!u,r,!1):l!=null&&vr(n,!!u,l,!0);return;case"textarea":Mt("invalid",n),_=d=u=null;for(v in l)if(l.hasOwnProperty(v)&&(b=l[v],b!=null))switch(v){case"value":u=b;break;case"defaultValue":d=b;break;case"children":_=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(i(91));break;default:qt(n,r,v,b,l,null)}pm(n,u,d,_),bo(n);return;case"option":for(D in l)if(l.hasOwnProperty(D)&&(u=l[D],u!=null))switch(D){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:qt(n,r,D,u,l,null)}return;case"dialog":Mt("beforetoggle",n),Mt("toggle",n),Mt("cancel",n),Mt("close",n);break;case"iframe":case"object":Mt("load",n);break;case"video":case"audio":for(u=0;u<yl.length;u++)Mt(yl[u],n);break;case"image":Mt("error",n),Mt("load",n);break;case"details":Mt("toggle",n);break;case"embed":case"source":case"link":Mt("error",n),Mt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in l)if(l.hasOwnProperty(F)&&(u=l[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:qt(n,r,F,u,l,null)}return;default:if(nh(r)){for(q in l)l.hasOwnProperty(q)&&(u=l[q],u!==void 0&&Gf(n,r,q,u,l,void 0));return}}for(b in l)l.hasOwnProperty(b)&&(u=l[b],u!=null&&qt(n,r,b,u,l,null))}function lS(n,r,l,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,_=null,v=null,b=null,D=null,F=null,q=null;for(B in l){var J=l[B];if(l.hasOwnProperty(B)&&J!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":D=J;default:u.hasOwnProperty(B)||qt(n,r,B,null,u,J)}}for(var U in u){var B=u[U];if(J=l[U],u.hasOwnProperty(U)&&(B!=null||J!=null))switch(U){case"type":_=B;break;case"name":d=B;break;case"checked":F=B;break;case"defaultChecked":q=B;break;case"value":v=B;break;case"defaultValue":b=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(i(137,r));break;default:B!==J&&qt(n,r,U,B,u,J)}}th(n,v,b,D,F,q,_,d);return;case"select":B=v=b=U=null;for(_ in l)if(D=l[_],l.hasOwnProperty(_)&&D!=null)switch(_){case"value":break;case"multiple":B=D;default:u.hasOwnProperty(_)||qt(n,r,_,null,u,D)}for(d in u)if(_=u[d],D=l[d],u.hasOwnProperty(d)&&(_!=null||D!=null))switch(d){case"value":U=_;break;case"defaultValue":b=_;break;case"multiple":v=_;default:_!==D&&qt(n,r,d,_,u,D)}r=b,l=v,u=B,U!=null?vr(n,!!l,U,!1):!!u!=!!l&&(r!=null?vr(n,!!l,r,!0):vr(n,!!l,l?[]:"",!1));return;case"textarea":B=U=null;for(b in l)if(d=l[b],l.hasOwnProperty(b)&&d!=null&&!u.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:qt(n,r,b,null,u,d)}for(v in u)if(d=u[v],_=l[v],u.hasOwnProperty(v)&&(d!=null||_!=null))switch(v){case"value":U=d;break;case"defaultValue":B=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(i(91));break;default:d!==_&&qt(n,r,v,d,u,_)}ym(n,U,B);return;case"option":for(var pt in l)if(U=l[pt],l.hasOwnProperty(pt)&&U!=null&&!u.hasOwnProperty(pt))switch(pt){case"selected":n.selected=!1;break;default:qt(n,r,pt,null,u,U)}for(D in u)if(U=u[D],B=l[D],u.hasOwnProperty(D)&&U!==B&&(U!=null||B!=null))switch(D){case"selected":n.selected=U&&typeof U!="function"&&typeof U!="symbol";break;default:qt(n,r,D,U,u,B)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in l)U=l[_t],l.hasOwnProperty(_t)&&U!=null&&!u.hasOwnProperty(_t)&&qt(n,r,_t,null,u,U);for(F in u)if(U=u[F],B=l[F],u.hasOwnProperty(F)&&U!==B&&(U!=null||B!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(i(137,r));break;default:qt(n,r,F,U,u,B)}return;default:if(nh(r)){for(var Zt in l)U=l[Zt],l.hasOwnProperty(Zt)&&U!==void 0&&!u.hasOwnProperty(Zt)&&Gf(n,r,Zt,void 0,u,U);for(q in u)U=u[q],B=l[q],!u.hasOwnProperty(q)||U===B||U===void 0&&B===void 0||Gf(n,r,q,U,u,B);return}}for(var I in l)U=l[I],l.hasOwnProperty(I)&&U!=null&&!u.hasOwnProperty(I)&&qt(n,r,I,null,u,U);for(J in u)U=u[J],B=l[J],!u.hasOwnProperty(J)||U===B||U==null&&B==null||qt(n,r,J,U,u,B)}var Pf=null,Yf=null;function pu(n){return n.nodeType===9?n:n.ownerDocument}function E0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function v0(n,r){if(n===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&r==="foreignObject"?0:n}function Xf(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Hf=null;function oS(){var n=window.event;return n&&n.type==="popstate"?n===Hf?!1:(Hf=n,!0):(Hf=null,!1)}var x0=typeof setTimeout=="function"?setTimeout:void 0,uS=typeof clearTimeout=="function"?clearTimeout:void 0,S0=typeof Promise=="function"?Promise:void 0,cS=typeof queueMicrotask=="function"?queueMicrotask:typeof S0<"u"?function(n){return S0.resolve(null).then(n).catch(hS)}:x0;function hS(n){setTimeout(function(){throw n})}function ls(n){return n==="head"}function b0(n,r){var l=r,u=0,d=0;do{var _=l.nextSibling;if(n.removeChild(l),_&&_.nodeType===8)if(l=_.data,l==="/$"){if(0<u&&8>u){l=u;var v=n.ownerDocument;if(l&1&&El(v.documentElement),l&2&&El(v.body),l&4)for(l=v.head,El(l),v=l.firstChild;v;){var b=v.nextSibling,D=v.nodeName;v[Ia]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&v.rel.toLowerCase()==="stylesheet"||l.removeChild(v),v=b}}if(d===0){n.removeChild(_),wl(r);return}d--}else l==="$"||l==="$?"||l==="$!"?d++:u=l.charCodeAt(0)-48;else u=0;l=_}while(l);wl(r)}function qf(n){var r=n.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":qf(l),Wc(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}n.removeChild(l)}}function fS(n,r,l,u){for(;n.nodeType===1;){var d=l;if(n.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ia])switch(r){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(_=n.getAttribute("rel"),_==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(_!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(_=n.getAttribute("src"),(_!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&_&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(r==="input"&&n.type==="hidden"){var _=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===_)return n}else return n;if(n=zn(n.nextSibling),n===null)break}return null}function dS(n,r,l){if(r==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!l||(n=zn(n.nextSibling),n===null))return null;return n}function Zf(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function gS(n,r){var l=n.ownerDocument;if(n.data!=="$?"||l.readyState==="complete")r();else{var u=function(){r(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function zn(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return n}var Vf=null;function R0(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var l=n.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return n;r--}else l==="/$"&&r++}n=n.previousSibling}return null}function T0(n,r,l){switch(r=pu(l),n){case"html":if(n=r.documentElement,!n)throw Error(i(452));return n;case"head":if(n=r.head,!n)throw Error(i(453));return n;case"body":if(n=r.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function El(n){for(var r=n.attributes;r.length;)n.removeAttributeNode(r[0]);Wc(n)}var bn=new Map,C0=new Set;function Eu(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var bi=Q.d;Q.d={f:mS,r:_S,D:yS,C:pS,L:ES,m:vS,X:SS,S:xS,M:bS};function mS(){var n=bi.f(),r=cu();return n||r}function _S(n){var r=_r(n);r!==null&&r.tag===5&&r.type==="form"?q_(r):bi.r(n)}var Wr=typeof document>"u"?null:document;function w0(n,r,l){var u=Wr;if(u&&typeof r=="string"&&r){var d=_n(r);d='link[rel="'+n+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),C0.has(d)||(C0.add(d),n={rel:n,crossOrigin:l,href:r},u.querySelector(d)===null&&(r=u.createElement("link"),Me(r,"link",n),Ee(r),u.head.appendChild(r)))}}function yS(n){bi.D(n),w0("dns-prefetch",n,null)}function pS(n,r){bi.C(n,r),w0("preconnect",n,r)}function ES(n,r,l){bi.L(n,r,l);var u=Wr;if(u&&n&&r){var d='link[rel="preload"][as="'+_n(r)+'"]';r==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+_n(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+_n(l.imageSizes)+'"]')):d+='[href="'+_n(n)+'"]';var _=d;switch(r){case"style":_=Qr(n);break;case"script":_=Jr(n)}bn.has(_)||(n=m({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:n,as:r},l),bn.set(_,n),u.querySelector(d)!==null||r==="style"&&u.querySelector(vl(_))||r==="script"&&u.querySelector(xl(_))||(r=u.createElement("link"),Me(r,"link",n),Ee(r),u.head.appendChild(r)))}}function vS(n,r){bi.m(n,r);var l=Wr;if(l&&n){var u=r&&typeof r.as=="string"?r.as:"script",d='link[rel="modulepreload"][as="'+_n(u)+'"][href="'+_n(n)+'"]',_=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Jr(n)}if(!bn.has(_)&&(n=m({rel:"modulepreload",href:n},r),bn.set(_,n),l.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(xl(_)))return}u=l.createElement("link"),Me(u,"link",n),Ee(u),l.head.appendChild(u)}}}function xS(n,r,l){bi.S(n,r,l);var u=Wr;if(u&&n){var d=yr(u).hoistableStyles,_=Qr(n);r=r||"default";var v=d.get(_);if(!v){var b={loading:0,preload:null};if(v=u.querySelector(vl(_)))b.loading=5;else{n=m({rel:"stylesheet",href:n,"data-precedence":r},l),(l=bn.get(_))&&Kf(n,l);var D=v=u.createElement("link");Ee(D),Me(D,"link",n),D._p=new Promise(function(F,q){D.onload=F,D.onerror=q}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,vu(v,r,u)}v={type:"stylesheet",instance:v,count:1,state:b},d.set(_,v)}}}function SS(n,r){bi.X(n,r);var l=Wr;if(l&&n){var u=yr(l).hoistableScripts,d=Jr(n),_=u.get(d);_||(_=l.querySelector(xl(d)),_||(n=m({src:n,async:!0},r),(r=bn.get(d))&&Wf(n,r),_=l.createElement("script"),Ee(_),Me(_,"link",n),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(d,_))}}function bS(n,r){bi.M(n,r);var l=Wr;if(l&&n){var u=yr(l).hoistableScripts,d=Jr(n),_=u.get(d);_||(_=l.querySelector(xl(d)),_||(n=m({src:n,async:!0,type:"module"},r),(r=bn.get(d))&&Wf(n,r),_=l.createElement("script"),Ee(_),Me(_,"link",n),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(d,_))}}function A0(n,r,l,u){var d=(d=ct.current)?Eu(d):null;if(!d)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Qr(l.href),l=yr(d).hoistableStyles,u=l.get(r),u||(u={type:"style",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){n=Qr(l.href);var _=yr(d).hoistableStyles,v=_.get(n);if(v||(d=d.ownerDocument||d,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(n,v),(_=d.querySelector(vl(n)))&&!_._p&&(v.instance=_,v.state.loading=5),bn.has(n)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},bn.set(n,l),_||RS(d,n,l,v.state))),r&&u===null)throw Error(i(528,""));return v}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Jr(l),l=yr(d).hoistableScripts,u=l.get(r),u||(u={type:"script",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Qr(n){return'href="'+_n(n)+'"'}function vl(n){return'link[rel="stylesheet"]['+n+"]"}function M0(n){return m({},n,{"data-precedence":n.precedence,precedence:null})}function RS(n,r,l,u){n.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=n.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Me(r,"link",l),Ee(r),n.head.appendChild(r))}function Jr(n){return'[src="'+_n(n)+'"]'}function xl(n){return"script[async]"+n}function O0(n,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var u=n.querySelector('style[data-href~="'+_n(l.href)+'"]');if(u)return r.instance=u,Ee(u),u;var d=m({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Ee(u),Me(u,"style",d),vu(u,l.precedence,n),r.instance=u;case"stylesheet":d=Qr(l.href);var _=n.querySelector(vl(d));if(_)return r.state.loading|=4,r.instance=_,Ee(_),_;u=M0(l),(d=bn.get(d))&&Kf(u,d),_=(n.ownerDocument||n).createElement("link"),Ee(_);var v=_;return v._p=new Promise(function(b,D){v.onload=b,v.onerror=D}),Me(_,"link",u),r.state.loading|=4,vu(_,l.precedence,n),r.instance=_;case"script":return _=Jr(l.src),(d=n.querySelector(xl(_)))?(r.instance=d,Ee(d),d):(u=l,(d=bn.get(_))&&(u=m({},l),Wf(u,d)),n=n.ownerDocument||n,d=n.createElement("script"),Ee(d),Me(d,"link",u),n.head.appendChild(d),r.instance=d);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,vu(u,l.precedence,n));return r.instance}function vu(n,r,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,_=d,v=0;v<u.length;v++){var b=u[v];if(b.dataset.precedence===r)_=b;else if(_!==d)break}_?_.parentNode.insertBefore(n,_.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(n,r.firstChild))}function Kf(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.title==null&&(n.title=r.title)}function Wf(n,r){n.crossOrigin==null&&(n.crossOrigin=r.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=r.referrerPolicy),n.integrity==null&&(n.integrity=r.integrity)}var xu=null;function D0(n,r,l){if(xu===null){var u=new Map,d=xu=new Map;d.set(l,u)}else d=xu,u=d.get(l),u||(u=new Map,d.set(l,u));if(u.has(n))return u;for(u.set(n,null),l=l.getElementsByTagName(n),d=0;d<l.length;d++){var _=l[d];if(!(_[Ia]||_[Kt]||n==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var v=_.getAttribute(r)||"";v=n+v;var b=u.get(v);b?b.push(_):u.set(v,[_])}}return u}function L0(n,r,l){n=n.ownerDocument||n,n.head.insertBefore(l,r==="title"?n.querySelector("head > title"):null)}function TS(n,r,l){if(l===1||r.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return n=r.disabled,typeof r.precedence=="string"&&n==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function N0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var Sl=null;function CS(){}function wS(n,r,l){if(Sl===null)throw Error(i(475));var u=Sl;if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var d=Qr(l.href),_=n.querySelector(vl(d));if(_){n=_._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(u.count++,u=Su.bind(u),n.then(u,u)),r.state.loading|=4,r.instance=_,Ee(_);return}_=n.ownerDocument||n,l=M0(l),(d=bn.get(d))&&Kf(l,d),_=_.createElement("link"),Ee(_);var v=_;v._p=new Promise(function(b,D){v.onload=b,v.onerror=D}),Me(_,"link",l),r.instance=_}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(u.count++,r=Su.bind(u),n.addEventListener("load",r),n.addEventListener("error",r))}}function AS(){if(Sl===null)throw Error(i(475));var n=Sl;return n.stylesheets&&n.count===0&&Qf(n,n.stylesheets),0<n.count?function(r){var l=setTimeout(function(){if(n.stylesheets&&Qf(n,n.stylesheets),n.unsuspend){var u=n.unsuspend;n.unsuspend=null,u()}},6e4);return n.unsuspend=r,function(){n.unsuspend=null,clearTimeout(l)}}:null}function Su(){if(this.count--,this.count===0){if(this.stylesheets)Qf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var bu=null;function Qf(n,r){n.stylesheets=null,n.unsuspend!==null&&(n.count++,bu=new Map,r.forEach(MS,n),bu=null,Su.call(n))}function MS(n,r){if(!(r.state.loading&4)){var l=bu.get(n);if(l)var u=l.get(null);else{l=new Map,bu.set(n,l);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<d.length;_++){var v=d[_];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(l.set(v.dataset.precedence,v),u=v)}u&&l.set(null,u)}d=r.instance,v=d.getAttribute("data-precedence"),_=l.get(v)||u,_===u&&l.set(null,d),l.set(v,d),this.count++,u=Su.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),_?_.parentNode.insertBefore(d,_.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),r.state.loading|=4}}var bl={$$typeof:w,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function OS(n,r,l,u,d,_,v,b){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=_,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function I0(n,r,l,u,d,_,v,b,D,F,q,J){return n=new OS(n,r,l,v,b,D,F,J),r=1,_===!0&&(r|=24),_=an(3,null,null,r),n.current=_,_.stateNode=n,r=Dh(),r.refCount++,n.pooledCache=r,r.refCount++,_.memoizedState={element:u,isDehydrated:l,cache:r},zh(_),n}function z0(n){return n?(n=Mr,n):Mr}function k0(n,r,l,u,d,_){d=z0(d),u.context===null?u.context=d:u.pendingContext=d,u=Vi(r),u.payload={element:l},_=_===void 0?null:_,_!==null&&(u.callback=_),l=Ki(n,u,r),l!==null&&(hn(l,n,r),$a(l,n,r))}function F0(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var l=n.retryLane;n.retryLane=l!==0&&l<r?l:r}}function Jf(n,r){F0(n,r),(n=n.alternate)&&F0(n,r)}function j0(n){if(n.tag===13){var r=Ar(n,67108864);r!==null&&hn(r,n,67108864),Jf(n,67108864)}}var Ru=!0;function DS(n,r,l,u){var d=z.T;z.T=null;var _=Q.p;try{Q.p=2,$f(n,r,l,u)}finally{Q.p=_,z.T=d}}function LS(n,r,l,u){var d=z.T;z.T=null;var _=Q.p;try{Q.p=8,$f(n,r,l,u)}finally{Q.p=_,z.T=d}}function $f(n,r,l,u){if(Ru){var d=td(u);if(d===null)Bf(n,r,u,Tu,l),B0(n,u);else if(IS(d,n,r,l,u))u.stopPropagation();else if(B0(n,u),r&4&&-1<NS.indexOf(n)){for(;d!==null;){var _=_r(d);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var v=Zn(_.pendingLanes);if(v!==0){var b=_;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var D=1<<31-De(v);b.entanglements[1]|=D,v&=~D}Jn(_),(Gt&6)===0&&(ou=Ce()+500,_l(0))}}break;case 13:b=Ar(_,2),b!==null&&hn(b,_,2),cu(),Jf(_,2)}if(_=td(u),_===null&&Bf(n,r,u,Tu,l),_===d)break;d=_}d!==null&&u.stopPropagation()}else Bf(n,r,u,null,l)}}function td(n){return n=sh(n),ed(n)}var Tu=null;function ed(n){if(Tu=null,n=mr(n),n!==null){var r=o(n);if(r===null)n=null;else{var l=r.tag;if(l===13){if(n=c(r),n!==null)return n;n=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}return Tu=n,null}function U0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ui()){case Bi:return 2;case Xn:return 8;case On:case Gi:return 32;case ae:return 268435456;default:return 32}default:return 32}}var nd=!1,os=null,us=null,cs=null,Rl=new Map,Tl=new Map,hs=[],NS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B0(n,r){switch(n){case"focusin":case"focusout":os=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":Rl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(r.pointerId)}}function Cl(n,r,l,u,d,_){return n===null||n.nativeEvent!==_?(n={blockedOn:r,domEventName:l,eventSystemFlags:u,nativeEvent:_,targetContainers:[d]},r!==null&&(r=_r(r),r!==null&&j0(r)),n):(n.eventSystemFlags|=u,r=n.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),n)}function IS(n,r,l,u,d){switch(r){case"focusin":return os=Cl(os,n,r,l,u,d),!0;case"dragenter":return us=Cl(us,n,r,l,u,d),!0;case"mouseover":return cs=Cl(cs,n,r,l,u,d),!0;case"pointerover":var _=d.pointerId;return Rl.set(_,Cl(Rl.get(_)||null,n,r,l,u,d)),!0;case"gotpointercapture":return _=d.pointerId,Tl.set(_,Cl(Tl.get(_)||null,n,r,l,u,d)),!0}return!1}function G0(n){var r=mr(n.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){n.blockedOn=r,Ye(n.priority,function(){if(l.tag===13){var u=cn();u=Ln(u);var d=Ar(l,u);d!==null&&hn(d,l,u),Jf(l,u)}});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){n.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Cu(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var l=td(n.nativeEvent);if(l===null){l=n.nativeEvent;var u=new l.constructor(l.type,l);ih=u,l.target.dispatchEvent(u),ih=null}else return r=_r(l),r!==null&&j0(r),n.blockedOn=l,!1;r.shift()}return!0}function P0(n,r,l){Cu(n)&&l.delete(r)}function zS(){nd=!1,os!==null&&Cu(os)&&(os=null),us!==null&&Cu(us)&&(us=null),cs!==null&&Cu(cs)&&(cs=null),Rl.forEach(P0),Tl.forEach(P0)}function wu(n,r){n.blockedOn===r&&(n.blockedOn=null,nd||(nd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,zS)))}var Au=null;function Y0(n){Au!==n&&(Au=n,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Au===n&&(Au=null);for(var r=0;r<n.length;r+=3){var l=n[r],u=n[r+1],d=n[r+2];if(typeof u!="function"){if(ed(u||l)===null)continue;break}var _=_r(l);_!==null&&(n.splice(r,3),r-=3,tf(_,{pending:!0,data:d,method:l.method,action:u},u,d))}}))}function wl(n){function r(D){return wu(D,n)}os!==null&&wu(os,n),us!==null&&wu(us,n),cs!==null&&wu(cs,n),Rl.forEach(r),Tl.forEach(r);for(var l=0;l<hs.length;l++){var u=hs[l];u.blockedOn===n&&(u.blockedOn=null)}for(;0<hs.length&&(l=hs[0],l.blockedOn===null);)G0(l),l.blockedOn===null&&hs.shift();if(l=(n.ownerDocument||n).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var d=l[u],_=l[u+1],v=d[wt]||null;if(typeof _=="function")v||Y0(l);else if(v){var b=null;if(_&&_.hasAttribute("formAction")){if(d=_,v=_[wt]||null)b=v.formAction;else if(ed(d)!==null)continue}else b=v.action;typeof b=="function"?l[u+1]=b:(l.splice(u,3),u-=3),Y0(l)}}}function id(n){this._internalRoot=n}Mu.prototype.render=id.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,u=cn();k0(l,u,n,r,null,null)},Mu.prototype.unmount=id.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;k0(n.current,2,null,n,null,null),cu(),r[ne]=null}};function Mu(n){this._internalRoot=n}Mu.prototype.unstable_scheduleHydration=function(n){if(n){var r=nn();n={blockedOn:null,target:n,priority:r};for(var l=0;l<hs.length&&r!==0&&r<hs[l].priority;l++);hs.splice(l,0,n),l===0&&G0(n)}};var X0=t.version;if(X0!=="19.1.0")throw Error(i(527,X0,"19.1.0"));Q.findDOMNode=function(n){var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=f(r),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var kS={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ou=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ou.isDisabled&&Ou.supportsFiber)try{Hn=Ou.inject(kS),ye=Ou}catch{}}return Ml.createRoot=function(n,r){if(!a(n))throw Error(i(299));var l=!1,u="",d=ay,_=ly,v=oy,b=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(_=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=I0(n,1,!1,null,null,l,u,d,_,v,b,null),n[ne]=r.current,Uf(n),new id(r)},Ml.hydrateRoot=function(n,r,l){if(!a(n))throw Error(i(299));var u=!1,d="",_=ay,v=ly,b=oy,D=null,F=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(b=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(D=l.unstable_transitionCallbacks),l.formState!==void 0&&(F=l.formState)),r=I0(n,1,!0,r,l??null,u,d,_,v,b,D,F),r.context=z0(null),l=r.current,u=cn(),u=Ln(u),d=Vi(u),d.callback=null,Ki(l,d,u),l=u,r.current.lanes=l,Dn(r,l),Jn(r),n[ne]=r.current,Uf(n),new Mu(r)},Ml.version="19.1.0",Ml}var ep;function VS(){if(ep)return ad.exports;ep=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),ad.exports=ZS(),ad.exports}var KS=VS(),Ol={},np;function WS(){if(np)return Ol;np=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.parse=c,Ol.serialize=g;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,e=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,i=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const p=function(){};return p.prototype=Object.create(null),p})();function c(p,x){const E=new o,R=p.length;if(R<2)return E;const S=(x==null?void 0:x.decode)||m;let T=0;do{const C=p.indexOf("=",T);if(C===-1)break;const w=p.indexOf(";",T),L=w===-1?R:w;if(C>L){T=p.lastIndexOf(";",C-1)+1;continue}const A=h(p,T,C),G=f(p,C,A),H=p.slice(A,G);if(E[H]===void 0){let Z=h(p,C+1,L),K=f(p,L,Z);const et=S(p.slice(Z,K));E[H]=et}T=L+1}while(T<R);return E}function h(p,x,E){do{const R=p.charCodeAt(x);if(R!==32&&R!==9)return x}while(++x<E);return E}function f(p,x,E){for(;x>E;){const R=p.charCodeAt(--x);if(R!==32&&R!==9)return x+1}return E}function g(p,x,E){const R=(E==null?void 0:E.encode)||encodeURIComponent;if(!s.test(p))throw new TypeError(`argument name is invalid: ${p}`);const S=R(x);if(!t.test(S))throw new TypeError(`argument val is invalid: ${x}`);let T=p+"="+S;if(!E)return T;if(E.maxAge!==void 0){if(!Number.isInteger(E.maxAge))throw new TypeError(`option maxAge is invalid: ${E.maxAge}`);T+="; Max-Age="+E.maxAge}if(E.domain){if(!e.test(E.domain))throw new TypeError(`option domain is invalid: ${E.domain}`);T+="; Domain="+E.domain}if(E.path){if(!i.test(E.path))throw new TypeError(`option path is invalid: ${E.path}`);T+="; Path="+E.path}if(E.expires){if(!y(E.expires)||!Number.isFinite(E.expires.valueOf()))throw new TypeError(`option expires is invalid: ${E.expires}`);T+="; Expires="+E.expires.toUTCString()}if(E.httpOnly&&(T+="; HttpOnly"),E.secure&&(T+="; Secure"),E.partitioned&&(T+="; Partitioned"),E.priority)switch(typeof E.priority=="string"?E.priority.toLowerCase():void 0){case"low":T+="; Priority=Low";break;case"medium":T+="; Priority=Medium";break;case"high":T+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${E.priority}`)}if(E.sameSite)switch(typeof E.sameSite=="string"?E.sameSite.toLowerCase():E.sameSite){case!0:case"strict":T+="; SameSite=Strict";break;case"lax":T+="; SameSite=Lax";break;case"none":T+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${E.sameSite}`)}return T}function m(p){if(p.indexOf("%")===-1)return p;try{return decodeURIComponent(p)}catch{return p}}function y(p){return a.call(p)==="[object Date]"}return Ol}WS();/**
 * react-router v7.5.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ip="popstate";function QS(s={}){function t(a,o){let{pathname:c="/",search:h="",hash:f=""}=cr(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),Pd("",{pathname:c,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function e(a,o){let c=a.document.querySelector("base"),h="";if(c&&c.getAttribute("href")){let f=a.location.href,g=f.indexOf("#");h=g===-1?f:f.slice(0,g)}return h+"#"+(typeof o=="string"?o:ql(o))}function i(a,o){Gn(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return $S(t,e,i,s)}function ee(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function Gn(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function JS(){return Math.random().toString(36).substring(2,10)}function sp(s,t){return{usr:s.state,key:s.key,idx:t}}function Pd(s,t,e=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?cr(t):t,state:e,key:t&&t.key||i||JS()}}function ql({pathname:s="/",search:t="",hash:e=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(s+=e.charAt(0)==="#"?e:"#"+e),s}function cr(s){let t={};if(s){let e=s.indexOf("#");e>=0&&(t.hash=s.substring(e),s=s.substring(0,e));let i=s.indexOf("?");i>=0&&(t.search=s.substring(i),s=s.substring(0,i)),s&&(t.pathname=s)}return t}function $S(s,t,e,i={}){let{window:a=document.defaultView,v5Compat:o=!1}=i,c=a.history,h="POP",f=null,g=m();g==null&&(g=0,c.replaceState({...c.state,idx:g},""));function m(){return(c.state||{idx:null}).idx}function y(){h="POP";let S=m(),T=S==null?null:S-g;g=S,f&&f({action:h,location:R.location,delta:T})}function p(S,T){h="PUSH";let C=Pd(R.location,S,T);e&&e(C,S),g=m()+1;let w=sp(C,g),L=R.createHref(C);try{c.pushState(w,"",L)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;a.location.assign(L)}o&&f&&f({action:h,location:R.location,delta:1})}function x(S,T){h="REPLACE";let C=Pd(R.location,S,T);e&&e(C,S),g=m();let w=sp(C,g),L=R.createHref(C);c.replaceState(w,"",L),o&&f&&f({action:h,location:R.location,delta:0})}function E(S){let T=a.location.origin!=="null"?a.location.origin:a.location.href,C=typeof S=="string"?S:ql(S);return C=C.replace(/ $/,"%20"),ee(T,`No window.location.(origin|href) available to create URL for href: ${C}`),new URL(C,T)}let R={get action(){return h},get location(){return s(a,c)},listen(S){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(ip,y),f=S,()=>{a.removeEventListener(ip,y),f=null}},createHref(S){return t(a,S)},createURL:E,encodeLocation(S){let T=E(S);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:p,replace:x,go(S){return c.go(S)}};return R}function CE(s,t,e="/"){return tb(s,t,e,!1)}function tb(s,t,e,i){let a=typeof t=="string"?cr(t):t,o=Ii(a.pathname||"/",e);if(o==null)return null;let c=wE(s);eb(c);let h=null;for(let f=0;h==null&&f<c.length;++f){let g=fb(o);h=cb(c[f],g,i)}return h}function wE(s,t=[],e=[],i=""){let a=(o,c,h)=>{let f={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};f.relativePath.startsWith("/")&&(ee(f.relativePath.startsWith(i),`Absolute route path "${f.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(i.length));let g=Oi([i,f.relativePath]),m=e.concat(f);o.children&&o.children.length>0&&(ee(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),wE(o.children,t,m,g)),!(o.path==null&&!o.index)&&t.push({path:g,score:ob(g,o.index),routesMeta:m})};return s.forEach((o,c)=>{var h;if(o.path===""||!((h=o.path)!=null&&h.includes("?")))a(o,c);else for(let f of AE(o.path))a(o,c,f)}),t}function AE(s){let t=s.split("/");if(t.length===0)return[];let[e,...i]=t,a=e.endsWith("?"),o=e.replace(/\?$/,"");if(i.length===0)return a?[o,""]:[o];let c=AE(i.join("/")),h=[];return h.push(...c.map(f=>f===""?o:[o,f].join("/"))),a&&h.push(...c),h.map(f=>s.startsWith("/")&&f===""?"/":f)}function eb(s){s.sort((t,e)=>t.score!==e.score?e.score-t.score:ub(t.routesMeta.map(i=>i.childrenIndex),e.routesMeta.map(i=>i.childrenIndex)))}var nb=/^:[\w-]+$/,ib=3,sb=2,rb=1,ab=10,lb=-2,rp=s=>s==="*";function ob(s,t){let e=s.split("/"),i=e.length;return e.some(rp)&&(i+=lb),t&&(i+=sb),e.filter(a=>!rp(a)).reduce((a,o)=>a+(nb.test(o)?ib:o===""?rb:ab),i)}function ub(s,t){return s.length===t.length&&s.slice(0,-1).every((i,a)=>i===t[a])?s[s.length-1]-t[t.length-1]:0}function cb(s,t,e=!1){let{routesMeta:i}=s,a={},o="/",c=[];for(let h=0;h<i.length;++h){let f=i[h],g=h===i.length-1,m=o==="/"?t:t.slice(o.length)||"/",y=Wu({path:f.relativePath,caseSensitive:f.caseSensitive,end:g},m),p=f.route;if(!y&&g&&e&&!i[i.length-1].route.index&&(y=Wu({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!y)return null;Object.assign(a,y.params),c.push({params:a,pathname:Oi([o,y.pathname]),pathnameBase:_b(Oi([o,y.pathnameBase])),route:p}),y.pathnameBase!=="/"&&(o=Oi([o,y.pathnameBase]))}return c}function Wu(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[e,i]=hb(s.path,s.caseSensitive,s.end),a=t.match(e);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),h=a.slice(1);return{params:i.reduce((g,{paramName:m,isOptional:y},p)=>{if(m==="*"){let E=h[p]||"";c=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const x=h[p];return y&&!x?g[m]=void 0:g[m]=(x||"").replace(/%2F/g,"/"),g},{}),pathname:o,pathnameBase:c,pattern:s}}function hb(s,t=!1,e=!0){Gn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],a="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,f)=>(i.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(i.push({paramName:"*"}),a+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?a+="\\/*$":s!==""&&s!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),i]}function fb(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Gn(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Ii(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,i=s.charAt(e);return i&&i!=="/"?null:s.slice(e)||"/"}function db(s,t="/"){let{pathname:e,search:i="",hash:a=""}=typeof s=="string"?cr(s):s;return{pathname:e?e.startsWith("/")?e:gb(e,t):t,search:yb(i),hash:pb(a)}}function gb(s,t){let e=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(a=>{a===".."?e.length>1&&e.pop():a!=="."&&e.push(a)}),e.length>1?e.join("/"):"/"}function cd(s,t,e,i){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mb(s){return s.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function ME(s){let t=mb(s);return t.map((e,i)=>i===t.length-1?e.pathname:e.pathnameBase)}function OE(s,t,e,i=!1){let a;typeof s=="string"?a=cr(s):(a={...s},ee(!a.pathname||!a.pathname.includes("?"),cd("?","pathname","search",a)),ee(!a.pathname||!a.pathname.includes("#"),cd("#","pathname","hash",a)),ee(!a.search||!a.search.includes("#"),cd("#","search","hash",a)));let o=s===""||a.pathname==="",c=o?"/":a.pathname,h;if(c==null)h=e;else{let y=t.length-1;if(!i&&c.startsWith("..")){let p=c.split("/");for(;p[0]==="..";)p.shift(),y-=1;a.pathname=p.join("/")}h=y>=0?t[y]:"/"}let f=db(a,h),g=c&&c!=="/"&&c.endsWith("/"),m=(o||c===".")&&e.endsWith("/");return!f.pathname.endsWith("/")&&(g||m)&&(f.pathname+="/"),f}var Oi=s=>s.join("/").replace(/\/\/+/g,"/"),_b=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),yb=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,pb=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Eb(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var DE=["POST","PUT","PATCH","DELETE"];new Set(DE);var vb=["GET",...DE];new Set(vb);var Ta=P.createContext(null);Ta.displayName="DataRouter";var mc=P.createContext(null);mc.displayName="DataRouterState";var LE=P.createContext({isTransitioning:!1});LE.displayName="ViewTransition";var xb=P.createContext(new Map);xb.displayName="Fetchers";var Sb=P.createContext(null);Sb.displayName="Await";var si=P.createContext(null);si.displayName="Navigation";var ao=P.createContext(null);ao.displayName="Location";var ki=P.createContext({outlet:null,matches:[],isDataRoute:!1});ki.displayName="Route";var gg=P.createContext(null);gg.displayName="RouteError";function bb(s,{relative:t}={}){ee(lo(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:i}=P.useContext(si),{hash:a,pathname:o,search:c}=oo(s,{relative:t}),h=o;return e!=="/"&&(h=o==="/"?e:Oi([e,o])),i.createHref({pathname:h,search:c,hash:a})}function lo(){return P.useContext(ao)!=null}function ws(){return ee(lo(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(ao).location}var NE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IE(s){P.useContext(si).static||P.useLayoutEffect(s)}function _c(){let{isDataRoute:s}=P.useContext(ki);return s?kb():Rb()}function Rb(){ee(lo(),"useNavigate() may be used only in the context of a <Router> component.");let s=P.useContext(Ta),{basename:t,navigator:e}=P.useContext(si),{matches:i}=P.useContext(ki),{pathname:a}=ws(),o=JSON.stringify(ME(i)),c=P.useRef(!1);return IE(()=>{c.current=!0}),P.useCallback((f,g={})=>{if(Gn(c.current,NE),!c.current)return;if(typeof f=="number"){e.go(f);return}let m=OE(f,JSON.parse(o),a,g.relative==="path");s==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Oi([t,m.pathname])),(g.replace?e.replace:e.push)(m,g.state,g)},[t,e,o,a,s])}P.createContext(null);function oo(s,{relative:t}={}){let{matches:e}=P.useContext(ki),{pathname:i}=ws(),a=JSON.stringify(ME(e));return P.useMemo(()=>OE(s,JSON.parse(a),i,t==="path"),[s,a,i,t])}function Tb(s,t){return zE(s,t)}function zE(s,t,e,i){var C;ee(lo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a,static:o}=P.useContext(si),{matches:c}=P.useContext(ki),h=c[c.length-1],f=h?h.params:{},g=h?h.pathname:"/",m=h?h.pathnameBase:"/",y=h&&h.route;{let w=y&&y.path||"";kE(g,!y||w.endsWith("*")||w.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${w}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${w}"> to <Route path="${w==="/"?"*":`${w}/*`}">.`)}let p=ws(),x;if(t){let w=typeof t=="string"?cr(t):t;ee(m==="/"||((C=w.pathname)==null?void 0:C.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${w.pathname}" was given in the \`location\` prop.`),x=w}else x=p;let E=x.pathname||"/",R=E;if(m!=="/"){let w=m.replace(/^\//,"").split("/");R="/"+E.replace(/^\//,"").split("/").slice(w.length).join("/")}let S=!o&&e&&e.matches&&e.matches.length>0?e.matches:CE(s,{pathname:R});Gn(y||S!=null,`No routes matched location "${x.pathname}${x.search}${x.hash}" `),Gn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${x.pathname}${x.search}${x.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=Ob(S&&S.map(w=>Object.assign({},w,{params:Object.assign({},f,w.params),pathname:Oi([m,a.encodeLocation?a.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?m:Oi([m,a.encodeLocation?a.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),c,e,i);return t&&T?P.createElement(ao.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...x},navigationType:"POP"}},T):T}function Cb(){let s=zb(),t=Eb(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),e=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},c=null;return console.error("Error handled by React Router default ErrorBoundary:",s),c=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:o},"ErrorBoundary")," or"," ",P.createElement("code",{style:o},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),e?P.createElement("pre",{style:a},e):null,c)}var wb=P.createElement(Cb,null),Ab=class extends P.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){console.error("React Router caught the following error during render",s,t)}render(){return this.state.error!==void 0?P.createElement(ki.Provider,{value:this.props.routeContext},P.createElement(gg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Mb({routeContext:s,match:t,children:e}){let i=P.useContext(Ta);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(ki.Provider,{value:s},e)}function Ob(s,t=[],e=null,i=null){if(s==null){if(!e)return null;if(e.errors)s=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)s=e.matches;else return null}let a=s,o=e==null?void 0:e.errors;if(o!=null){let f=a.findIndex(g=>g.route.id&&(o==null?void 0:o[g.route.id])!==void 0);ee(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,h=-1;if(e)for(let f=0;f<a.length;f++){let g=a[f];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=f),g.route.id){let{loaderData:m,errors:y}=e,p=g.route.loader&&!m.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||p){c=!0,h>=0?a=a.slice(0,h+1):a=[a[0]];break}}}return a.reduceRight((f,g,m)=>{let y,p=!1,x=null,E=null;e&&(y=o&&g.route.id?o[g.route.id]:void 0,x=g.route.errorElement||wb,c&&(h<0&&m===0?(kE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,E=null):h===m&&(p=!0,E=g.route.hydrateFallbackElement||null)));let R=t.concat(a.slice(0,m+1)),S=()=>{let T;return y?T=x:p?T=E:g.route.Component?T=P.createElement(g.route.Component,null):g.route.element?T=g.route.element:T=f,P.createElement(Mb,{match:g,routeContext:{outlet:f,matches:R,isDataRoute:e!=null},children:T})};return e&&(g.route.ErrorBoundary||g.route.errorElement||m===0)?P.createElement(Ab,{location:e.location,revalidation:e.revalidation,component:x,error:y,children:S(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):S()},null)}function mg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Db(s){let t=P.useContext(Ta);return ee(t,mg(s)),t}function Lb(s){let t=P.useContext(mc);return ee(t,mg(s)),t}function Nb(s){let t=P.useContext(ki);return ee(t,mg(s)),t}function _g(s){let t=Nb(s),e=t.matches[t.matches.length-1];return ee(e.route.id,`${s} can only be used on routes that contain a unique "id"`),e.route.id}function Ib(){return _g("useRouteId")}function zb(){var i;let s=P.useContext(gg),t=Lb("useRouteError"),e=_g("useRouteError");return s!==void 0?s:(i=t.errors)==null?void 0:i[e]}function kb(){let{router:s}=Db("useNavigate"),t=_g("useNavigate"),e=P.useRef(!1);return IE(()=>{e.current=!0}),P.useCallback(async(a,o={})=>{Gn(e.current,NE),e.current&&(typeof a=="number"?s.navigate(a):await s.navigate(a,{fromRouteId:t,...o}))},[s,t])}var ap={};function kE(s,t,e){!t&&!ap[s]&&(ap[s]=!0,Gn(!1,e))}P.memo(Fb);function Fb({routes:s,future:t,state:e}){return zE(s,void 0,e,t)}function Yd(s){ee(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function jb({basename:s="/",children:t=null,location:e,navigationType:i="POP",navigator:a,static:o=!1}){ee(!lo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=s.replace(/^\/*/,"/"),h=P.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof e=="string"&&(e=cr(e));let{pathname:f="/",search:g="",hash:m="",state:y=null,key:p="default"}=e,x=P.useMemo(()=>{let E=Ii(f,c);return E==null?null:{location:{pathname:E,search:g,hash:m,state:y,key:p},navigationType:i}},[c,f,g,m,y,p,i]);return Gn(x!=null,`<Router basename="${c}"> is not able to match the URL "${f}${g}${m}" because it does not start with the basename, so the <Router> won't render anything.`),x==null?null:P.createElement(si.Provider,{value:h},P.createElement(ao.Provider,{children:t,value:x}))}function Ub({children:s,location:t}){return Tb(Xd(s),t)}function Xd(s,t=[]){let e=[];return P.Children.forEach(s,(i,a)=>{if(!P.isValidElement(i))return;let o=[...t,a];if(i.type===P.Fragment){e.push.apply(e,Xd(i.props.children,o));return}ee(i.type===Yd,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ee(!i.props.index||!i.props.children,"An index route cannot have child routes.");let c={id:i.props.id||o.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(c.children=Xd(i.props.children,o)),e.push(c)}),e}var Hu="get",qu="application/x-www-form-urlencoded";function yc(s){return s!=null&&typeof s.tagName=="string"}function Bb(s){return yc(s)&&s.tagName.toLowerCase()==="button"}function Gb(s){return yc(s)&&s.tagName.toLowerCase()==="form"}function Pb(s){return yc(s)&&s.tagName.toLowerCase()==="input"}function Yb(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Xb(s,t){return s.button===0&&(!t||t==="_self")&&!Yb(s)}var Du=null;function Hb(){if(Du===null)try{new FormData(document.createElement("form"),0),Du=!1}catch{Du=!0}return Du}var qb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hd(s){return s!=null&&!qb.has(s)?(Gn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qu}"`),null):s}function Zb(s,t){let e,i,a,o,c;if(Gb(s)){let h=s.getAttribute("action");i=h?Ii(h,t):null,e=s.getAttribute("method")||Hu,a=hd(s.getAttribute("enctype"))||qu,o=new FormData(s)}else if(Bb(s)||Pb(s)&&(s.type==="submit"||s.type==="image")){let h=s.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=s.getAttribute("formaction")||h.getAttribute("action");if(i=f?Ii(f,t):null,e=s.getAttribute("formmethod")||h.getAttribute("method")||Hu,a=hd(s.getAttribute("formenctype"))||hd(h.getAttribute("enctype"))||qu,o=new FormData(h,s),!Hb()){let{name:g,type:m,value:y}=s;if(m==="image"){let p=g?`${g}.`:"";o.append(`${p}x`,"0"),o.append(`${p}y`,"0")}else g&&o.append(g,y)}}else{if(yc(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=Hu,i=null,a=qu,c=s}return o&&a==="text/plain"&&(c=o,o=void 0),{action:i,method:e.toLowerCase(),encType:a,formData:o,body:c}}function yg(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}async function Vb(s,t){if(s.id in t)return t[s.id];try{let e=await import(s.module);return t[s.id]=e,e}catch(e){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Kb(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Wb(s,t,e){let i=await Promise.all(s.map(async a=>{let o=t.routes[a.route.id];if(o){let c=await Vb(o,e);return c.links?c.links():[]}return[]}));return tR(i.flat(1).filter(Kb).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function lp(s,t,e,i,a,o){let c=(f,g)=>e[g]?f.route.id!==e[g].route.id:!0,h=(f,g)=>{var m;return e[g].pathname!==f.pathname||((m=e[g].route.path)==null?void 0:m.endsWith("*"))&&e[g].params["*"]!==f.params["*"]};return o==="assets"?t.filter((f,g)=>c(f,g)||h(f,g)):o==="data"?t.filter((f,g)=>{var y;let m=i.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(c(f,g)||h(f,g))return!0;if(f.route.shouldRevalidate){let p=f.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((y=e[0])==null?void 0:y.params)||{},nextUrl:new URL(s,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function Qb(s,t,{includeHydrateFallback:e}={}){return Jb(s.map(i=>{let a=t.routes[i.route.id];if(!a)return[];let o=[a.module];return a.clientActionModule&&(o=o.concat(a.clientActionModule)),a.clientLoaderModule&&(o=o.concat(a.clientLoaderModule)),e&&a.hydrateFallbackModule&&(o=o.concat(a.hydrateFallbackModule)),a.imports&&(o=o.concat(a.imports)),o}).flat(1))}function Jb(s){return[...new Set(s)]}function $b(s){let t={},e=Object.keys(s).sort();for(let i of e)t[i]=s[i];return t}function tR(s,t){let e=new Set;return new Set(t),s.reduce((i,a)=>{let o=JSON.stringify($b(a));return e.has(o)||(e.add(o),i.push({key:o,link:a})),i},[])}var eR=new Set([100,101,204,205]);function nR(s,t){let e=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return e.pathname==="/"?e.pathname="_root.data":t&&Ii(e.pathname,t)==="/"?e.pathname=`${t.replace(/\/$/,"")}/_root.data`:e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function FE(){let s=P.useContext(Ta);return yg(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function iR(){let s=P.useContext(mc);return yg(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var pg=P.createContext(void 0);pg.displayName="FrameworkContext";function jE(){let s=P.useContext(pg);return yg(s,"You must render this element inside a <HydratedRouter> element"),s}function sR(s,t){let e=P.useContext(pg),[i,a]=P.useState(!1),[o,c]=P.useState(!1),{onFocus:h,onBlur:f,onMouseEnter:g,onMouseLeave:m,onTouchStart:y}=t,p=P.useRef(null);P.useEffect(()=>{if(s==="render"&&c(!0),s==="viewport"){let R=T=>{T.forEach(C=>{c(C.isIntersecting)})},S=new IntersectionObserver(R,{threshold:.5});return p.current&&S.observe(p.current),()=>{S.disconnect()}}},[s]),P.useEffect(()=>{if(i){let R=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(R)}}},[i]);let x=()=>{a(!0)},E=()=>{a(!1),c(!1)};return e?s!=="intent"?[o,p,{}]:[o,p,{onFocus:Dl(h,x),onBlur:Dl(f,E),onMouseEnter:Dl(g,x),onMouseLeave:Dl(m,E),onTouchStart:Dl(y,x)}]:[!1,p,{}]}function Dl(s,t){return e=>{s&&s(e),e.defaultPrevented||t(e)}}function rR({page:s,...t}){let{router:e}=FE(),i=P.useMemo(()=>CE(e.routes,s,e.basename),[e.routes,s,e.basename]);return i?P.createElement(lR,{page:s,matches:i,...t}):null}function aR(s){let{manifest:t,routeModules:e}=jE(),[i,a]=P.useState([]);return P.useEffect(()=>{let o=!1;return Wb(s,t,e).then(c=>{o||a(c)}),()=>{o=!0}},[s,t,e]),i}function lR({page:s,matches:t,...e}){let i=ws(),{manifest:a,routeModules:o}=jE(),{basename:c}=FE(),{loaderData:h,matches:f}=iR(),g=P.useMemo(()=>lp(s,t,f,a,i,"data"),[s,t,f,a,i]),m=P.useMemo(()=>lp(s,t,f,a,i,"assets"),[s,t,f,a,i]),y=P.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let E=new Set,R=!1;if(t.forEach(T=>{var w;let C=a.routes[T.route.id];!C||!C.hasLoader||(!g.some(L=>L.route.id===T.route.id)&&T.route.id in h&&((w=o[T.route.id])!=null&&w.shouldRevalidate)||C.hasClientLoader?R=!0:E.add(T.route.id))}),E.size===0)return[];let S=nR(s,c);return R&&E.size>0&&S.searchParams.set("_routes",t.filter(T=>E.has(T.route.id)).map(T=>T.route.id).join(",")),[S.pathname+S.search]},[c,h,i,a,g,t,s,o]),p=P.useMemo(()=>Qb(m,a),[m,a]),x=aR(m);return P.createElement(P.Fragment,null,y.map(E=>P.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...e})),p.map(E=>P.createElement("link",{key:E,rel:"modulepreload",href:E,...e})),x.map(({key:E,link:R})=>P.createElement("link",{key:E,...R})))}function oR(...s){return t=>{s.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var UE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{UE&&(window.__reactRouterVersion="7.5.1")}catch{}function uR({basename:s,children:t,window:e}){let i=P.useRef();i.current==null&&(i.current=QS({window:e,v5Compat:!0}));let a=i.current,[o,c]=P.useState({action:a.action,location:a.location}),h=P.useCallback(f=>{P.startTransition(()=>c(f))},[c]);return P.useLayoutEffect(()=>a.listen(h),[a,h]),P.createElement(jb,{basename:s,children:t,location:o.location,navigationType:o.action,navigator:a})}var BE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GE=P.forwardRef(function({onClick:t,discover:e="render",prefetch:i="none",relative:a,reloadDocument:o,replace:c,state:h,target:f,to:g,preventScrollReset:m,viewTransition:y,...p},x){let{basename:E}=P.useContext(si),R=typeof g=="string"&&BE.test(g),S,T=!1;if(typeof g=="string"&&R&&(S=g,UE))try{let K=new URL(window.location.href),et=g.startsWith("//")?new URL(K.protocol+g):new URL(g),ut=Ii(et.pathname,E);et.origin===K.origin&&ut!=null?g=ut+et.search+et.hash:T=!0}catch{Gn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let C=bb(g,{relative:a}),[w,L,A]=sR(i,p),G=dR(g,{replace:c,state:h,target:f,preventScrollReset:m,relative:a,viewTransition:y});function H(K){t&&t(K),K.defaultPrevented||G(K)}let Z=P.createElement("a",{...p,...A,href:S||C,onClick:T||o?t:H,ref:oR(x,L),target:f,"data-discover":!R&&e==="render"?"true":void 0});return w&&!R?P.createElement(P.Fragment,null,Z,P.createElement(rR,{page:C})):Z});GE.displayName="Link";var cR=P.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:i="",end:a=!1,style:o,to:c,viewTransition:h,children:f,...g},m){let y=oo(c,{relative:g.relative}),p=ws(),x=P.useContext(mc),{navigator:E,basename:R}=P.useContext(si),S=x!=null&&pR(y)&&h===!0,T=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,C=p.pathname,w=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;e||(C=C.toLowerCase(),w=w?w.toLowerCase():null,T=T.toLowerCase()),w&&R&&(w=Ii(w,R)||w);const L=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let A=C===T||!a&&C.startsWith(T)&&C.charAt(L)==="/",G=w!=null&&(w===T||!a&&w.startsWith(T)&&w.charAt(T.length)==="/"),H={isActive:A,isPending:G,isTransitioning:S},Z=A?t:void 0,K;typeof i=="function"?K=i(H):K=[i,A?"active":null,G?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let et=typeof o=="function"?o(H):o;return P.createElement(GE,{...g,"aria-current":Z,className:K,ref:m,style:et,to:c,viewTransition:h},typeof f=="function"?f(H):f)});cR.displayName="NavLink";var hR=P.forwardRef(({discover:s="render",fetcherKey:t,navigate:e,reloadDocument:i,replace:a,state:o,method:c=Hu,action:h,onSubmit:f,relative:g,preventScrollReset:m,viewTransition:y,...p},x)=>{let E=_R(),R=yR(h,{relative:g}),S=c.toLowerCase()==="get"?"get":"post",T=typeof h=="string"&&BE.test(h),C=w=>{if(f&&f(w),w.defaultPrevented)return;w.preventDefault();let L=w.nativeEvent.submitter,A=(L==null?void 0:L.getAttribute("formmethod"))||c;E(L||w.currentTarget,{fetcherKey:t,method:A,navigate:e,replace:a,state:o,relative:g,preventScrollReset:m,viewTransition:y})};return P.createElement("form",{ref:x,method:S,action:R,onSubmit:i?f:C,...p,"data-discover":!T&&s==="render"?"true":void 0})});hR.displayName="Form";function fR(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function PE(s){let t=P.useContext(Ta);return ee(t,fR(s)),t}function dR(s,{target:t,replace:e,state:i,preventScrollReset:a,relative:o,viewTransition:c}={}){let h=_c(),f=ws(),g=oo(s,{relative:o});return P.useCallback(m=>{if(Xb(m,t)){m.preventDefault();let y=e!==void 0?e:ql(f)===ql(g);h(s,{replace:y,state:i,preventScrollReset:a,relative:o,viewTransition:c})}},[f,h,g,e,i,t,s,a,o,c])}var gR=0,mR=()=>`__${String(++gR)}__`;function _R(){let{router:s}=PE("useSubmit"),{basename:t}=P.useContext(si),e=Ib();return P.useCallback(async(i,a={})=>{let{action:o,method:c,encType:h,formData:f,body:g}=Zb(i,t);if(a.navigate===!1){let m=a.fetcherKey||mR();await s.fetch(m,e,a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:g,formMethod:a.method||c,formEncType:a.encType||h,flushSync:a.flushSync})}else await s.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:f,body:g,formMethod:a.method||c,formEncType:a.encType||h,replace:a.replace,state:a.state,fromRouteId:e,flushSync:a.flushSync,viewTransition:a.viewTransition})},[s,t,e])}function yR(s,{relative:t}={}){let{basename:e}=P.useContext(si),i=P.useContext(ki);ee(i,"useFormAction must be used inside a RouteContext");let[a]=i.matches.slice(-1),o={...oo(s||".",{relative:t})},c=ws();if(s==null){o.search=c.search;let h=new URLSearchParams(o.search),f=h.getAll("index");if(f.some(m=>m==="")){h.delete("index"),f.filter(y=>y).forEach(y=>h.append("index",y));let m=h.toString();o.search=m?`?${m}`:""}}return(!s||s===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(o.pathname=o.pathname==="/"?e:Oi([e,o.pathname])),ql(o)}function pR(s,t={}){let e=P.useContext(LE);ee(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=PE("useViewTransitionState"),a=oo(s,{relative:t.relative});if(!e.isTransitioning)return!1;let o=Ii(e.currentLocation.pathname,i)||e.currentLocation.pathname,c=Ii(e.nextLocation.pathname,i)||e.nextLocation.pathname;return Wu(a.pathname,c)!=null||Wu(a.pathname,o)!=null}new TextEncoder;[...eR];const Ri=({id:s,delay:t=0,speed:e=25,scale:i=1,species:a="basic",style:o={},direction:c="left-to-right",color:h=null,zIndex:f=null,link:g=null,title:m=null})=>{const[y,p]=P.useState(h||x(a));function x(T){switch(T){case"pink":return"#FFB6C1";case"blue":return"#B3CDE0";case"green":return"#CCEBC5";case"yellow":return"#FED9A6";case"purple":return"#DECBE4";case"orange":return"#FBB4AE";case"striped":return"#FFFFCC";default:return"#FF6B6B"}}P.useEffect(()=>{const T=C=>{C.detail&&C.detail.type==="fish"&&C.detail.id===s&&C.detail.color&&p(C.detail.color)};return window.addEventListener("aquariumColorChange",T),()=>window.removeEventListener("aquariumColorChange",T)},[s]);const E={animation:`${c==="left-to-right"?"swim":"swimReverse"} ${e}s linear infinite`,animationDelay:`${t}s`,opacity:0},R={...o,transform:`scale(${i})`,zIndex:f!==null?f:void 0},S=M.jsxs("div",{className:"fish-body",style:{backgroundColor:y,"--fish-color":y},children:[M.jsx("div",{className:"eye"}),M.jsx("div",{className:"dorsal-fin",style:{backgroundColor:y}}),M.jsx("div",{className:"tail",style:{borderRightColor:y}}),a==="striped"&&M.jsxs(M.Fragment,{children:[M.jsx("div",{className:"stripe stripe-1"}),M.jsx("div",{className:"stripe stripe-2"}),M.jsx("div",{className:"stripe stripe-3"})]})]});return M.jsx(M.Fragment,{children:M.jsxs("div",{className:"fish-wrapper",style:R,children:[g?M.jsx("a",{href:g,className:"fish-link",target:"_blank",rel:"noopener noreferrer",children:M.jsx("div",{className:"fish",style:E,children:S})}):M.jsx("div",{className:"fish",style:E,children:S}),m&&M.jsx("div",{className:"fish-title",style:{animation:`${c==="left-to-right"?"titleMove":"titleMoveReverse"} ${e}s linear infinite`,animationDelay:`${t}s`,zIndex:f!==null?f:void 0},children:m})]})})},it=({height:s,left:t,delay:e=0,bottom:i=0,color:a="#2D5A27"})=>{const o=i<=40?5:1;return M.jsx("div",{className:"sea-plant",style:{height:`${s}px`,left:`${t}%`,bottom:`${i}px`,animationDelay:`${e}s`,zIndex:o},children:M.jsx("div",{className:"plant-stem",style:{background:`linear-gradient(to bottom, ${a}, ${a}99)`},children:M.jsx("div",{className:"plant-curl",style:{borderColor:`transparent transparent ${a} transparent`}})})})},ER=({onAboutClick:s,onProjectsClick:t,onSharkTrackerClick:e,sandColor:i="#F5DEB3"})=>{const a=()=>{const o=Math.random(),c=o<.1,h=o>=.1&&o<.2;if(c){const C="#330000",w="#CC0000",L="#228B22",A="#FF0000";window.dispatchEvent(new CustomEvent("aquariumColorChange",{detail:{type:"water",color:C}})),window.dispatchEvent(new CustomEvent("aquariumColorChange",{detail:{type:"sand",color:w}})),window.dispatchEvent(new CustomEvent("aquariumColorChange",{detail:{type:"plant",color:A}})),["fish1","fish2","fish3","fish4","fish5","fish6","fish7","fish8","fish9"].forEach(H=>{window.dispatchEvent(new CustomEvent("aquariumColorChange",{detail:{type:"fish",id:H,color:L}}))});return}if(h){const C="#1E90FF",w="#F5DEB3",L="#2E8B57",A={fish1:"#FF6B6B",fish2:"#4ECDC4",fish3:"#FFD93D",fish4:"#95E1D3",fish5:"#FF8B94",fish6:"#6C5CE7",fish7:"#FFA07A",fish8:"#98D8C8",fish9:"#FF9F43"};window.dispatchEvent(new CustomEvent("aquariumColorChange",{detail:{type:"water",color:C}})),window.dispatchEvent(new CustomEvent("aquariumColorChange",{detail:{type:"sand",color:w}})),window.dispatchEvent(new CustomEvent("aquariumColorChange",{detail:{type:"plant",color:L}})),Object.entries(A).forEach(([G,H])=>{window.dispatchEvent(new CustomEvent("aquariumColorChange",{detail:{type:"fish",id:G,color:H}}))});return}const f=["#1E90FF","#4169E1","#4682B4","#5F9EA0","#6495ED","#87CEEB","#87CEFA","#B0E0E6"],g=["#2E8B57","#3CB371","#20B2AA","#48D1CC","#40E0D0","#66CDAA","#7FFFD4","#98FB98"],m=["#F5DEB3","#DEB887","#D2B48C","#BC8F8F","#DAA520","#BDB76B","#F0E68C","#EEE8AA"],y=C=>{const w=Math.sin(C)*1e4;return w-Math.floor(w)},p=C=>{const w=Math.floor(y(C)*360),L=70+Math.floor(y(C+1)*30),A=60+Math.floor(y(C+2)*20);return`hsl(${w}, ${L}%, ${A}%)`},x={fish1:1,fish2:2,fish3:3,fish4:4,fish5:5,fish6:6,fish7:7,fish8:8,fish9:9},E=Date.now();Object.entries(x).forEach(([C,w])=>{const L=p(w+E);window.dispatchEvent(new CustomEvent("aquariumColorChange",{detail:{type:"fish",id:C,color:L}}))});const R=f[Math.floor(Math.random()*f.length)];window.dispatchEvent(new CustomEvent("aquariumColorChange",{detail:{type:"water",color:R}}));const S=g[Math.floor(Math.random()*g.length)];window.dispatchEvent(new CustomEvent("aquariumColorChange",{detail:{type:"plant",color:S}}));const T=m[Math.floor(Math.random()*m.length)];window.dispatchEvent(new CustomEvent("aquariumColorChange",{detail:{type:"sand",color:T}}))};return M.jsxs("div",{className:"sign",children:[M.jsx("div",{className:"sign-post",style:{background:`linear-gradient(
          to bottom,
          #8B4513 0%,
          #8B4513 95%,
          rgba(139, 69, 19, 0) 100%
        )`}}),M.jsx("div",{className:"sign-arrow sign-arrow-1",onClick:t,children:M.jsx("div",{className:"arrow-text",children:"Projects"})}),M.jsx("div",{className:"sign-arrow sign-arrow-2",onClick:s,children:M.jsx("div",{className:"arrow-text",children:"About"})}),M.jsx("div",{className:"sign-arrow sign-arrow-3",onClick:a,children:M.jsx("div",{className:"arrow-text",children:"I'm Feeling Lucky"})})]})},vR=({onAboutClick:s,onProjectsClick:t,onSharkTrackerClick:e})=>{const[i,a]=P.useState("#1E90FF"),[o,c]=P.useState("#2E8B57"),[h,f]=P.useState("#F5DEB3"),[g,m]=P.useState({}),[y,p]=P.useState(!1);P.useEffect(()=>{const R=S=>{if(S.detail&&S.detail.type&&S.detail.color)switch(S.detail.type){case"water":a(S.detail.color),p(S.detail.color==="#330000");break;case"plant":c(S.detail.color);break;case"sand":f(S.detail.color);break;case"fish":m(T=>({...T,[S.detail.id]:S.detail.color}));break}};return window.addEventListener("aquariumColorChange",R),()=>window.removeEventListener("aquariumColorChange",R)},[]);const x=()=>y?`linear-gradient(180deg, ${i} 0%, ${i} 100%)`:`linear-gradient(180deg, 
      rgba(0, 100, 150, 0.6) 0%,
      rgba(0, 80, 120, 0.7) 30%,
      rgba(0, 60, 90, 0.8) 60%,
      rgba(0, 40, 70, 0.9) 100%
    )`,E=()=>y?`linear-gradient(180deg, ${h} 0%, ${h} 100%)`:`linear-gradient(180deg, 
      rgba(233, 206, 166, 0.8) 0%,
      rgba(233, 206, 166, 1) 100%
    )`;return M.jsxs("div",{className:"aquarium-container",children:[M.jsx("div",{className:"retro-lamp"}),M.jsx("div",{className:"aquarium-frame",children:M.jsxs("div",{className:"aquarium",children:[M.jsx("div",{className:"aquarium-background",style:{backgroundColor:i,background:x()}}),M.jsxs("div",{className:"aquarium-floor",children:[M.jsx("div",{className:"sand",style:{backgroundColor:h,background:E()}}),M.jsx(ER,{onAboutClick:s,onProjectsClick:t,onSharkTrackerClick:e,sandColor:h}),M.jsx(it,{height:120,left:2,delay:.2,bottom:30,color:o}),M.jsx(it,{height:160,left:5,delay:.8,bottom:45,color:o}),M.jsx(it,{height:140,left:8,delay:.5,bottom:60,color:o}),M.jsx(it,{height:180,left:11,delay:1.2,bottom:25,color:o}),M.jsx(it,{height:150,left:14,delay:.3,bottom:70,color:o}),M.jsx(it,{height:170,left:17,delay:.9,bottom:40,color:o}),M.jsx(it,{height:190,left:20,delay:.6,bottom:55,color:o}),M.jsx(it,{height:130,left:23,delay:1.1,bottom:35,color:o}),M.jsx(it,{height:175,left:26,delay:.4,bottom:50,color:o}),M.jsx(it,{height:145,left:29,delay:1,bottom:65,color:o}),M.jsx(it,{height:165,left:32,delay:.7,bottom:30,color:o}),M.jsx(it,{height:185,left:35,delay:1.3,bottom:45,color:o}),M.jsx(it,{height:155,left:38,delay:.1,bottom:60,color:o}),M.jsx(it,{height:135,left:41,delay:.6,bottom:75,color:o}),M.jsx(it,{height:170,left:44,delay:.9,bottom:40,color:o}),M.jsx(it,{height:140,left:47,delay:.2,bottom:55,color:o}),M.jsx(it,{height:180,left:50,delay:.8,bottom:30,color:o}),M.jsx(it,{height:160,left:53,delay:.5,bottom:45,color:o}),M.jsx(it,{height:190,left:56,delay:1.2,bottom:60,color:o}),M.jsx(it,{height:150,left:59,delay:.3,bottom:35,color:o}),M.jsx(it,{height:170,left:62,delay:.9,bottom:50,color:o}),M.jsx(it,{height:130,left:65,delay:.6,bottom:65,color:o}),M.jsx(it,{height:175,left:68,delay:1.1,bottom:40,color:o}),M.jsx(it,{height:145,left:71,delay:.4,bottom:55,color:o}),M.jsx(it,{height:165,left:74,delay:1,bottom:70,color:o}),M.jsx(it,{height:185,left:77,delay:.7,bottom:30,color:o}),M.jsx(it,{height:155,left:80,delay:1.3,bottom:45,color:o}),M.jsx(it,{height:135,left:83,delay:.1,bottom:60,color:o}),M.jsx(it,{height:170,left:86,delay:.6,bottom:35,color:o}),M.jsx(it,{height:140,left:89,delay:.9,bottom:50,color:o}),M.jsx(it,{height:180,left:92,delay:.2,bottom:65,color:o}),M.jsx(it,{height:160,left:95,delay:.8,bottom:40,color:o}),M.jsx(it,{height:190,left:98,delay:.5,bottom:55,color:o}),M.jsx(it,{height:150,left:15,delay:1.2,bottom:30,color:o}),M.jsx(it,{height:170,left:25,delay:.3,bottom:45,color:o}),M.jsx(it,{height:130,left:35,delay:.9,bottom:60,color:o}),M.jsx(it,{height:175,left:45,delay:.6,bottom:35,color:o}),M.jsx(it,{height:145,left:55,delay:1.1,bottom:50,color:o}),M.jsx(it,{height:165,left:65,delay:.4,bottom:65,color:o}),M.jsx(it,{height:185,left:75,delay:1,bottom:40,color:o}),M.jsx(it,{height:155,left:85,delay:.7,bottom:55,color:o}),M.jsx(it,{height:140,left:10,delay:.4,bottom:20,color:o}),M.jsx(it,{height:160,left:20,delay:.9,bottom:35,color:o}),M.jsx(it,{height:150,left:30,delay:.6,bottom:50,color:o}),M.jsx(it,{height:180,left:40,delay:1.1,bottom:65,color:o}),M.jsx(it,{height:130,left:50,delay:.3,bottom:15,color:o}),M.jsx(it,{height:170,left:60,delay:.8,bottom:30,color:o}),M.jsx(it,{height:145,left:70,delay:.5,bottom:45,color:o}),M.jsx(it,{height:165,left:80,delay:1,bottom:60,color:o}),M.jsx(it,{height:190,left:90,delay:.7,bottom:75,color:o}),M.jsx(it,{height:155,left:15,delay:.2,bottom:25,color:o}),M.jsx(it,{height:175,left:25,delay:.7,bottom:40,color:o}),M.jsx(it,{height:135,left:35,delay:.4,bottom:55,color:o}),M.jsx(it,{height:160,left:45,delay:.9,bottom:70,color:o}),M.jsx(it,{height:150,left:55,delay:.6,bottom:20,color:o}),M.jsx(it,{height:185,left:65,delay:1.1,bottom:35,color:o}),M.jsx(it,{height:140,left:75,delay:.8,bottom:50,color:o}),M.jsx(it,{height:170,left:85,delay:.5,bottom:65,color:o}),M.jsx(it,{height:145,left:95,delay:1,bottom:15,color:o}),M.jsx(it,{height:165,left:5,delay:.7,bottom:30,color:o}),M.jsx(it,{height:190,left:15,delay:.4,bottom:45,color:o}),M.jsx(it,{height:155,left:25,delay:.9,bottom:60,color:o}),M.jsx(it,{height:175,left:35,delay:.6,bottom:75,color:o}),M.jsx(it,{height:135,left:45,delay:1.1,bottom:20,color:o}),M.jsx(it,{height:160,left:55,delay:.8,bottom:35,color:o}),M.jsx(it,{height:150,left:65,delay:.5,bottom:50,color:o}),M.jsx(it,{height:185,left:75,delay:1,bottom:65,color:o}),M.jsx(it,{height:140,left:85,delay:.7,bottom:15,color:o}),M.jsx(it,{height:170,left:95,delay:.4,bottom:30,color:o}),M.jsx(Ri,{id:"fish1",delay:0,speed:25,scale:1.1,species:"basic",style:{top:"-80px"},direction:"left-to-right",color:g.fish1}),M.jsx(Ri,{id:"fish2",delay:5,speed:30,scale:1.1,species:"pink",style:{top:"-150px"},direction:"right-to-left",zIndex:1,color:g.fish2}),M.jsx(Ri,{id:"fish3",delay:10,speed:42,scale:1.3,species:"blue",style:{top:"-220px"},direction:"left-to-right",zIndex:15,title:"LinkedIn",link:"https://www.linkedin.com/in/yalisommer/",color:g.fish3}),M.jsx(Ri,{id:"fish4",delay:15,speed:22,scale:1,species:"green",style:{top:"-290px"},direction:"right-to-left",zIndex:15,color:g.fish4}),M.jsx(Ri,{id:"fish5",delay:20,speed:27,scale:.6,species:"yellow",style:{top:"-360px"},direction:"left-to-right",color:g.fish5}),M.jsx(Ri,{id:"fish6",delay:25,speed:24,scale:1.4,species:"purple",style:{top:"-420px"},direction:"right-to-left",color:g.fish6}),M.jsx(Ri,{id:"fish7",delay:30,speed:45,scale:1.4,species:"orange",style:{top:"-480px"},direction:"left-to-right",title:"Gmail",link:"mailto:yalisommer@gmail.com",color:g.fish7}),M.jsx(Ri,{id:"fish8",delay:35,speed:26,scale:.8,species:"striped",style:{top:"-200px"},direction:"left-to-right",color:g.fish8}),M.jsx(Ri,{id:"fish9",delay:40,speed:23,scale:1.8,species:"striped",style:{top:"-350px"},direction:"right-to-left",color:g.fish9}),M.jsx("div",{className:"bubble bubble-1"}),M.jsx("div",{className:"bubble bubble-2"}),M.jsx("div",{className:"bubble bubble-3"}),M.jsx("div",{className:"bubble bubble-4"}),M.jsx("div",{className:"bubble bubble-5"}),M.jsx("div",{className:"bubble bubble-6"}),M.jsx("div",{className:"bubble bubble-7"}),M.jsxs("div",{className:"bubbly-text",children:[M.jsx("span",{className:"letter",style:{animationDelay:"0s",color:"#ffb6c1"},children:"Y"}),M.jsx("span",{className:"letter",style:{animationDelay:"0.1s",color:"#b3cde0"},children:"a"}),M.jsx("span",{className:"letter",style:{animationDelay:"0.2s",color:"#ccebc5"},children:"l"}),M.jsx("span",{className:"letter",style:{animationDelay:"0.3s",color:"#decbe4"},children:"i"}),M.jsx("span",{className:"letter",style:{animationDelay:"0.4s",color:"transparent",marginRight:"30px"},children:" "}),M.jsx("span",{className:"letter",style:{animationDelay:"0.5s",color:"#b3cde0"},children:"S"}),M.jsx("span",{className:"letter",style:{animationDelay:"0.6s",color:"#ccebc5"},children:"o"}),M.jsx("span",{className:"letter",style:{animationDelay:"0.7s",color:"#decbe4"},children:"m"}),M.jsx("span",{className:"letter",style:{animationDelay:"0.8s",color:"#fed9a6"},children:"m"}),M.jsx("span",{className:"letter",style:{animationDelay:"0.9s",color:"#ffffcc"},children:"e"}),M.jsx("span",{className:"letter",style:{animationDelay:"1s",color:"#fbb4ae"},children:"r"})]})]})]})})]})},xR=()=>{const i=["hsl(25, 45%, 45%)","hsl(30, 40%, 55%)","hsl(20, 35%, 40%)","hsl(35, 45%, 60%)","hsl(28, 42%, 50%)","hsl(32, 38%, 48%)"],a=Math.ceil((window.innerWidth*3+300)/600)+10,o=Math.ceil(window.innerHeight/150)+15,c=a*o,f=-(a*600-window.innerWidth)/2;return M.jsx("div",{className:"wood-tiles",children:[...Array(c)].map((g,m)=>{const y=Math.floor(m/a),p=m%a,x=y%2===0?0:300,E=Math.floor((Math.sin(y*.5+p*.7+m*.3)+1)*i.length/2);return M.jsx("div",{className:"wood-plank",style:{backgroundColor:i[E],transform:`translate(${p*600-x+f}px, ${y*150}px)`}},m)})})},SR="/portfolio/assets/arrow-BYDNd8lZ.png",bR=({onBackClick:s})=>{const t=()=>{s&&s()};return M.jsxs("div",{className:"about-container",children:[M.jsx("div",{className:"tape tape-top-left"}),M.jsx("div",{className:"tape tape-top-right"}),M.jsx("div",{className:"tape tape-bottom-left"}),M.jsx("div",{className:"tape tape-bottom-right"}),M.jsxs("div",{className:"movie-poster",children:[M.jsxs("div",{className:"text-area text-area-top",children:[M.jsx("p",{children:"About me,"}),M.jsx("p",{})]}),M.jsx("div",{className:"text-area text-area-middle",children:M.jsx("p",{children:"Current Junior at Brown University studying mathematics & computer science. Interested in backend development, LLM integration, data science, computer vision, and designing/implementing the occasional pretty website (including this one). Check out my projects tab :)"})}),M.jsxs("div",{className:"text-area text-area-experience",children:[M.jsx("p",{children:"Experience:"}),M.jsx("p",{children:"AI/ML SWE Intern at Ituran (Summer 2025)"}),M.jsx("p",{children:"DSA Teaching Assistant at Brown University"}),M.jsx("p",{children:"Research Assistant at Florida International University"})]}),M.jsxs("div",{className:"text-area text-area-contact",children:[M.jsx("p",{children:"Contact me:"}),M.jsxs("p",{children:[M.jsx("a",{href:"https://www.linkedin.com/in/yalisommer/",target:"_blank",rel:"noopener noreferrer",children:"LinkedIn"})," | ",M.jsx("a",{href:"mailto:yalisommer@gmail.com",children:"Email"})]})]}),M.jsx("img",{src:SR,alt:"Back",className:"poster-image",onClick:t})]})]})},op={PYTHON:{text:"Python",color:"#3776AB"},JAVASCRIPT:{text:"JavaScript",color:"#F7DF1E"},TYPESCRIPT:{text:"TypeScript",color:"#3178C6"},JAVA:{text:"Java",color:"#007396"},C_SHARP:{text:"C#",color:"#239120"},C_PLUS_PLUS:{text:"C++",color:"#00599C"},REACT:{text:"React",color:"#61DAFB"},NODE:{text:"Node.js",color:"#339933"},HTML:{text:"HTML",color:"#E34F26"},CSS:{text:"CSS",color:"#1572B6"},PANDAS:{text:"Pandas",color:"#130654"},MATPLOTLIB:{text:"Matplotlib",color:"#11557C"},NUMPY:{text:"NumPy",color:"#4DABCF"},TENSORFLOW:{text:"TensorFlow",color:"#FF6F00"},OPENCV:{text:"OpenCV",color:"#5C3EE8"},DEEP_LEARNING:{text:"Deep Learning",color:"#FF6B6B"},MONGODB:{text:"MongoDB",color:"#47A248"},SQL:{text:"SQL",color:"#336791"},GIT:{text:"Git",color:"#F05032"},DOCKER:{text:"Docker",color:"#2496ED"},AWS:{text:"AWS",color:"#FF9900"},OPENLAYERS:{text:"OpenLayers",color:"#1F6B75"},DATA_VISUALIZATION:{text:"Data Viz",color:"#6A5ACD"},FORMAL_METHODS:{text:"Formal Methods",color:"#8B008B"},FORGE:{text:"Forge",color:"#4B0082"}},RR=({type:s,customText:t,customColor:e})=>{const i=s&&op[s]?op[s]:{text:t||"Badge",color:e||"#4a90e2"};return M.jsx("div",{className:"badge",style:{backgroundColor:i.color},children:i.text})},Lu=({color:s="#FFB6C1",projectName:t="Project",text:e="Note",top:i="50%",left:a="50%",rotation:o=0,badgeTypes:c=[],linkTo:h=null,externalLink:f=null})=>{const g=_c(),m=()=>{f?window.open(f,"_blank","noopener,noreferrer"):h&&g(h)};return M.jsxs("div",{className:`sticky-note ${h||f?"clickable":""}`,style:{backgroundColor:s,top:i,left:a,"--rotation":`${o}deg`},onClick:m,children:[M.jsxs("div",{className:"sticky-note-content",children:[M.jsx("div",{className:"sticky-note-header",children:M.jsx("h3",{className:"project-name",children:t})}),M.jsx("div",{className:"sticky-note-text",children:e}),M.jsx("div",{className:"badges-container",children:c.map((y,p)=>M.jsx(RR,{type:y},p))})]}),M.jsx("div",{className:"sticky-note-shadow"})]})},YE=({onClick:s,position:t,text:e="Back"})=>M.jsx("button",{className:`back-button ${t}`,onClick:s,children:M.jsx("span",{className:"button-text",children:e})}),TR=({onBackClick:s})=>M.jsx("div",{className:"cork-board-container",children:M.jsxs("div",{className:"cork-board-frame",children:[M.jsxs("div",{className:"cork-board",children:[M.jsx(Lu,{color:"#646cff",projectName:"Shark Tracker",text:"Visualization of Great White Sharks off the coast of Guadalupe Island.",top:"20%",left:"10%",rotation:5,badgeTypes:["REACT","OPENLAYERS","PANDAS","MATPLOTLIB","DATA_VISUALIZATION"],linkTo:"/shark-tracker"}),M.jsx(Lu,{color:"#FF6B6B",projectName:"Confection",text:"A cellular automata approach to exploring emergent behaviors in epidemiological simulations using formal methods.",top:"55%",left:"30%",rotation:-2,badgeTypes:["JAVASCRIPT","FORMAL_METHODS","FORGE"],externalLink:"https://github.com/yalisommer/Confection"}),M.jsx(Lu,{color:"#026937",projectName:"Alma Metrics",text:"Prediction of top college trends over the near and far future using ML techniques.",top:"10%",left:"40%",rotation:-3,badgeTypes:["PYTHON","PANDAS","MATPLOTLIB","NUMPY","DATA_VISUALIZATION"],externalLink:"https://github.com/yalisommer/Alma-Metrics"}),M.jsx(Lu,{color:"#D6010B",projectName:"ViolenceNet",text:"3D CNN based Violence detection with automated security and content moderation applications.",top:"60%",left:"70%",rotation:3,badgeTypes:["TENSORFLOW","OPENCV","DEEP_LEARNING"],externalLink:"https://github.com/yalisommer/ViolenceNet-Darpli"}),M.jsx("div",{className:"cork-texture"})]}),M.jsx("div",{className:"cork-board-back-button",children:M.jsx(YE,{onClick:s,position:"right"})})]})}),CR=({onBackClick:s})=>M.jsx("div",{className:"projects-container",children:M.jsx(TR,{onBackClick:s})}),wR=()=>{var E;const s=ws(),t=((E=s.state)==null?void 0:E.targetScene)||2,[e,i]=P.useState(t),[a,o]=P.useState(!1),[c,h]=P.useState(""),f=_c();P.useEffect(()=>{var R;(R=s.state)!=null&&R.targetScene&&window.history.replaceState({},document.title)},[s]);const g=P.useCallback(R=>{a||(o(!0),h(R>e?"right":"left"),requestAnimationFrame(()=>{i(R),setTimeout(()=>{o(!1)},1e3)}))},[e,a]),m=()=>{g(1)},y=()=>{g(3)},p=()=>{g(2)},x=()=>{f("/shark-tracker")};return M.jsxs("div",{className:"app",children:[M.jsx("div",{className:`wood-container ${a?`transitioning-${c}`:""}`,"data-scene":e,children:M.jsx(xR,{})}),M.jsxs("div",{className:`page-container ${a?`transitioning-${c}`:""}`,"data-scene":e,children:[M.jsx("div",{className:"page",children:M.jsx(bR,{onBackClick:p})}),M.jsx("div",{className:"page",children:M.jsx(vR,{onAboutClick:m,onProjectsClick:y,onSharkTrackerClick:x})}),M.jsx("div",{className:"page",children:M.jsx(CR,{onBackClick:p})})]})]})};function XE(s,t){return function(){return s.apply(t,arguments)}}const{toString:AR}=Object.prototype,{getPrototypeOf:Eg}=Object,pc=(s=>t=>{const e=AR.call(t);return s[e]||(s[e]=e.slice(8,-1).toLowerCase())})(Object.create(null)),Yn=s=>(s=s.toLowerCase(),t=>pc(t)===s),Ec=s=>t=>typeof t===s,{isArray:Ca}=Array,Zl=Ec("undefined");function MR(s){return s!==null&&!Zl(s)&&s.constructor!==null&&!Zl(s.constructor)&&dn(s.constructor.isBuffer)&&s.constructor.isBuffer(s)}const HE=Yn("ArrayBuffer");function OR(s){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(s):t=s&&s.buffer&&HE(s.buffer),t}const DR=Ec("string"),dn=Ec("function"),qE=Ec("number"),vc=s=>s!==null&&typeof s=="object",LR=s=>s===!0||s===!1,Zu=s=>{if(pc(s)!=="object")return!1;const t=Eg(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},NR=Yn("Date"),IR=Yn("File"),zR=Yn("Blob"),kR=Yn("FileList"),FR=s=>vc(s)&&dn(s.pipe),jR=s=>{let t;return s&&(typeof FormData=="function"&&s instanceof FormData||dn(s.append)&&((t=pc(s))==="formdata"||t==="object"&&dn(s.toString)&&s.toString()==="[object FormData]"))},UR=Yn("URLSearchParams"),[BR,GR,PR,YR]=["ReadableStream","Request","Response","Headers"].map(Yn),XR=s=>s.trim?s.trim():s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function uo(s,t,{allOwnKeys:e=!1}={}){if(s===null||typeof s>"u")return;let i,a;if(typeof s!="object"&&(s=[s]),Ca(s))for(i=0,a=s.length;i<a;i++)t.call(null,s[i],i,s);else{const o=e?Object.getOwnPropertyNames(s):Object.keys(s),c=o.length;let h;for(i=0;i<c;i++)h=o[i],t.call(null,s[h],h,s)}}function ZE(s,t){t=t.toLowerCase();const e=Object.keys(s);let i=e.length,a;for(;i-- >0;)if(a=e[i],t===a.toLowerCase())return a;return null}const Qs=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,VE=s=>!Zl(s)&&s!==Qs;function Hd(){const{caseless:s}=VE(this)&&this||{},t={},e=(i,a)=>{const o=s&&ZE(t,a)||a;Zu(t[o])&&Zu(i)?t[o]=Hd(t[o],i):Zu(i)?t[o]=Hd({},i):Ca(i)?t[o]=i.slice():t[o]=i};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&uo(arguments[i],e);return t}const HR=(s,t,e,{allOwnKeys:i}={})=>(uo(t,(a,o)=>{e&&dn(a)?s[o]=XE(a,e):s[o]=a},{allOwnKeys:i}),s),qR=s=>(s.charCodeAt(0)===65279&&(s=s.slice(1)),s),ZR=(s,t,e,i)=>{s.prototype=Object.create(t.prototype,i),s.prototype.constructor=s,Object.defineProperty(s,"super",{value:t.prototype}),e&&Object.assign(s.prototype,e)},VR=(s,t,e,i)=>{let a,o,c;const h={};if(t=t||{},s==null)return t;do{for(a=Object.getOwnPropertyNames(s),o=a.length;o-- >0;)c=a[o],(!i||i(c,s,t))&&!h[c]&&(t[c]=s[c],h[c]=!0);s=e!==!1&&Eg(s)}while(s&&(!e||e(s,t))&&s!==Object.prototype);return t},KR=(s,t,e)=>{s=String(s),(e===void 0||e>s.length)&&(e=s.length),e-=t.length;const i=s.indexOf(t,e);return i!==-1&&i===e},WR=s=>{if(!s)return null;if(Ca(s))return s;let t=s.length;if(!qE(t))return null;const e=new Array(t);for(;t-- >0;)e[t]=s[t];return e},QR=(s=>t=>s&&t instanceof s)(typeof Uint8Array<"u"&&Eg(Uint8Array)),JR=(s,t)=>{const i=(s&&s[Symbol.iterator]).call(s);let a;for(;(a=i.next())&&!a.done;){const o=a.value;t.call(s,o[0],o[1])}},$R=(s,t)=>{let e;const i=[];for(;(e=s.exec(t))!==null;)i.push(e);return i},tT=Yn("HTMLFormElement"),eT=s=>s.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,i,a){return i.toUpperCase()+a}),up=(({hasOwnProperty:s})=>(t,e)=>s.call(t,e))(Object.prototype),nT=Yn("RegExp"),KE=(s,t)=>{const e=Object.getOwnPropertyDescriptors(s),i={};uo(e,(a,o)=>{let c;(c=t(a,o,s))!==!1&&(i[o]=c||a)}),Object.defineProperties(s,i)},iT=s=>{KE(s,(t,e)=>{if(dn(s)&&["arguments","caller","callee"].indexOf(e)!==-1)return!1;const i=s[e];if(dn(i)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+e+"'")})}})},sT=(s,t)=>{const e={},i=a=>{a.forEach(o=>{e[o]=!0})};return Ca(s)?i(s):i(String(s).split(t)),e},rT=()=>{},aT=(s,t)=>s!=null&&Number.isFinite(s=+s)?s:t;function lT(s){return!!(s&&dn(s.append)&&s[Symbol.toStringTag]==="FormData"&&s[Symbol.iterator])}const oT=s=>{const t=new Array(10),e=(i,a)=>{if(vc(i)){if(t.indexOf(i)>=0)return;if(!("toJSON"in i)){t[a]=i;const o=Ca(i)?[]:{};return uo(i,(c,h)=>{const f=e(c,a+1);!Zl(f)&&(o[h]=f)}),t[a]=void 0,o}}return i};return e(s,0)},uT=Yn("AsyncFunction"),cT=s=>s&&(vc(s)||dn(s))&&dn(s.then)&&dn(s.catch),WE=((s,t)=>s?setImmediate:t?((e,i)=>(Qs.addEventListener("message",({source:a,data:o})=>{a===Qs&&o===e&&i.length&&i.shift()()},!1),a=>{i.push(a),Qs.postMessage(e,"*")}))(`axios@${Math.random()}`,[]):e=>setTimeout(e))(typeof setImmediate=="function",dn(Qs.postMessage)),hT=typeof queueMicrotask<"u"?queueMicrotask.bind(Qs):typeof process<"u"&&process.nextTick||WE,Y={isArray:Ca,isArrayBuffer:HE,isBuffer:MR,isFormData:jR,isArrayBufferView:OR,isString:DR,isNumber:qE,isBoolean:LR,isObject:vc,isPlainObject:Zu,isReadableStream:BR,isRequest:GR,isResponse:PR,isHeaders:YR,isUndefined:Zl,isDate:NR,isFile:IR,isBlob:zR,isRegExp:nT,isFunction:dn,isStream:FR,isURLSearchParams:UR,isTypedArray:QR,isFileList:kR,forEach:uo,merge:Hd,extend:HR,trim:XR,stripBOM:qR,inherits:ZR,toFlatObject:VR,kindOf:pc,kindOfTest:Yn,endsWith:KR,toArray:WR,forEachEntry:JR,matchAll:$R,isHTMLForm:tT,hasOwnProperty:up,hasOwnProp:up,reduceDescriptors:KE,freezeMethods:iT,toObjectSet:sT,toCamelCase:eT,noop:rT,toFiniteNumber:aT,findKey:ZE,global:Qs,isContextDefined:VE,isSpecCompliantForm:lT,toJSONObject:oT,isAsyncFn:uT,isThenable:cT,setImmediate:WE,asap:hT};function xt(s,t,e,i,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=s,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),i&&(this.request=i),a&&(this.response=a,this.status=a.status?a.status:null)}Y.inherits(xt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const QE=xt.prototype,JE={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(s=>{JE[s]={value:s}});Object.defineProperties(xt,JE);Object.defineProperty(QE,"isAxiosError",{value:!0});xt.from=(s,t,e,i,a,o)=>{const c=Object.create(QE);return Y.toFlatObject(s,c,function(f){return f!==Error.prototype},h=>h!=="isAxiosError"),xt.call(c,s.message,t,e,i,a),c.cause=s,c.name=s.name,o&&Object.assign(c,o),c};const fT=null;function qd(s){return Y.isPlainObject(s)||Y.isArray(s)}function $E(s){return Y.endsWith(s,"[]")?s.slice(0,-2):s}function cp(s,t,e){return s?s.concat(t).map(function(a,o){return a=$E(a),!e&&o?"["+a+"]":a}).join(e?".":""):t}function dT(s){return Y.isArray(s)&&!s.some(qd)}const gT=Y.toFlatObject(Y,{},null,function(t){return/^is[A-Z]/.test(t)});function xc(s,t,e){if(!Y.isObject(s))throw new TypeError("target must be an object");t=t||new FormData,e=Y.toFlatObject(e,{metaTokens:!0,dots:!1,indexes:!1},!1,function(R,S){return!Y.isUndefined(S[R])});const i=e.metaTokens,a=e.visitor||m,o=e.dots,c=e.indexes,f=(e.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(t);if(!Y.isFunction(a))throw new TypeError("visitor must be a function");function g(E){if(E===null)return"";if(Y.isDate(E))return E.toISOString();if(!f&&Y.isBlob(E))throw new xt("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(E)||Y.isTypedArray(E)?f&&typeof Blob=="function"?new Blob([E]):Buffer.from(E):E}function m(E,R,S){let T=E;if(E&&!S&&typeof E=="object"){if(Y.endsWith(R,"{}"))R=i?R:R.slice(0,-2),E=JSON.stringify(E);else if(Y.isArray(E)&&dT(E)||(Y.isFileList(E)||Y.endsWith(R,"[]"))&&(T=Y.toArray(E)))return R=$E(R),T.forEach(function(w,L){!(Y.isUndefined(w)||w===null)&&t.append(c===!0?cp([R],L,o):c===null?R:R+"[]",g(w))}),!1}return qd(E)?!0:(t.append(cp(S,R,o),g(E)),!1)}const y=[],p=Object.assign(gT,{defaultVisitor:m,convertValue:g,isVisitable:qd});function x(E,R){if(!Y.isUndefined(E)){if(y.indexOf(E)!==-1)throw Error("Circular reference detected in "+R.join("."));y.push(E),Y.forEach(E,function(T,C){(!(Y.isUndefined(T)||T===null)&&a.call(t,T,Y.isString(C)?C.trim():C,R,p))===!0&&x(T,R?R.concat(C):[C])}),y.pop()}}if(!Y.isObject(s))throw new TypeError("data must be an object");return x(s),t}function hp(s){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(s).replace(/[!'()~]|%20|%00/g,function(i){return t[i]})}function vg(s,t){this._pairs=[],s&&xc(s,this,t)}const t1=vg.prototype;t1.append=function(t,e){this._pairs.push([t,e])};t1.toString=function(t){const e=t?function(i){return t.call(this,i,hp)}:hp;return this._pairs.map(function(a){return e(a[0])+"="+e(a[1])},"").join("&")};function mT(s){return encodeURIComponent(s).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function e1(s,t,e){if(!t)return s;const i=e&&e.encode||mT;Y.isFunction(e)&&(e={serialize:e});const a=e&&e.serialize;let o;if(a?o=a(t,e):o=Y.isURLSearchParams(t)?t.toString():new vg(t,e).toString(i),o){const c=s.indexOf("#");c!==-1&&(s=s.slice(0,c)),s+=(s.indexOf("?")===-1?"?":"&")+o}return s}class fp{constructor(){this.handlers=[]}use(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:i?i.synchronous:!1,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Y.forEach(this.handlers,function(i){i!==null&&t(i)})}}const n1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_T=typeof URLSearchParams<"u"?URLSearchParams:vg,yT=typeof FormData<"u"?FormData:null,pT=typeof Blob<"u"?Blob:null,ET={isBrowser:!0,classes:{URLSearchParams:_T,FormData:yT,Blob:pT},protocols:["http","https","file","blob","url","data"]},xg=typeof window<"u"&&typeof document<"u",Zd=typeof navigator=="object"&&navigator||void 0,vT=xg&&(!Zd||["ReactNative","NativeScript","NS"].indexOf(Zd.product)<0),xT=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",ST=xg&&window.location.href||"http://localhost",bT=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:xg,hasStandardBrowserEnv:vT,hasStandardBrowserWebWorkerEnv:xT,navigator:Zd,origin:ST},Symbol.toStringTag,{value:"Module"})),Fe={...bT,...ET};function RT(s,t){return xc(s,new Fe.classes.URLSearchParams,Object.assign({visitor:function(e,i,a,o){return Fe.isNode&&Y.isBuffer(e)?(this.append(i,e.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function TT(s){return Y.matchAll(/\w+|\[(\w*)]/g,s).map(t=>t[0]==="[]"?"":t[1]||t[0])}function CT(s){const t={},e=Object.keys(s);let i;const a=e.length;let o;for(i=0;i<a;i++)o=e[i],t[o]=s[o];return t}function i1(s){function t(e,i,a,o){let c=e[o++];if(c==="__proto__")return!0;const h=Number.isFinite(+c),f=o>=e.length;return c=!c&&Y.isArray(a)?a.length:c,f?(Y.hasOwnProp(a,c)?a[c]=[a[c],i]:a[c]=i,!h):((!a[c]||!Y.isObject(a[c]))&&(a[c]=[]),t(e,i,a[c],o)&&Y.isArray(a[c])&&(a[c]=CT(a[c])),!h)}if(Y.isFormData(s)&&Y.isFunction(s.entries)){const e={};return Y.forEachEntry(s,(i,a)=>{t(TT(i),a,e,0)}),e}return null}function wT(s,t,e){if(Y.isString(s))try{return(t||JSON.parse)(s),Y.trim(s)}catch(i){if(i.name!=="SyntaxError")throw i}return(e||JSON.stringify)(s)}const co={transitional:n1,adapter:["xhr","http","fetch"],transformRequest:[function(t,e){const i=e.getContentType()||"",a=i.indexOf("application/json")>-1,o=Y.isObject(t);if(o&&Y.isHTMLForm(t)&&(t=new FormData(t)),Y.isFormData(t))return a?JSON.stringify(i1(t)):t;if(Y.isArrayBuffer(t)||Y.isBuffer(t)||Y.isStream(t)||Y.isFile(t)||Y.isBlob(t)||Y.isReadableStream(t))return t;if(Y.isArrayBufferView(t))return t.buffer;if(Y.isURLSearchParams(t))return e.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let h;if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return RT(t,this.formSerializer).toString();if((h=Y.isFileList(t))||i.indexOf("multipart/form-data")>-1){const f=this.env&&this.env.FormData;return xc(h?{"files[]":t}:t,f&&new f,this.formSerializer)}}return o||a?(e.setContentType("application/json",!1),wT(t)):t}],transformResponse:[function(t){const e=this.transitional||co.transitional,i=e&&e.forcedJSONParsing,a=this.responseType==="json";if(Y.isResponse(t)||Y.isReadableStream(t))return t;if(t&&Y.isString(t)&&(i&&!this.responseType||a)){const c=!(e&&e.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(h){if(c)throw h.name==="SyntaxError"?xt.from(h,xt.ERR_BAD_RESPONSE,this,null,this.response):h}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Fe.classes.FormData,Blob:Fe.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],s=>{co.headers[s]={}});const AT=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),MT=s=>{const t={};let e,i,a;return s&&s.split(`
`).forEach(function(c){a=c.indexOf(":"),e=c.substring(0,a).trim().toLowerCase(),i=c.substring(a+1).trim(),!(!e||t[e]&&AT[e])&&(e==="set-cookie"?t[e]?t[e].push(i):t[e]=[i]:t[e]=t[e]?t[e]+", "+i:i)}),t},dp=Symbol("internals");function Ll(s){return s&&String(s).trim().toLowerCase()}function Vu(s){return s===!1||s==null?s:Y.isArray(s)?s.map(Vu):String(s)}function OT(s){const t=Object.create(null),e=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let i;for(;i=e.exec(s);)t[i[1]]=i[2];return t}const DT=s=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(s.trim());function fd(s,t,e,i,a){if(Y.isFunction(i))return i.call(this,t,e);if(a&&(t=e),!!Y.isString(t)){if(Y.isString(i))return t.indexOf(i)!==-1;if(Y.isRegExp(i))return i.test(t)}}function LT(s){return s.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,e,i)=>e.toUpperCase()+i)}function NT(s,t){const e=Y.toCamelCase(" "+t);["get","set","has"].forEach(i=>{Object.defineProperty(s,i+e,{value:function(a,o,c){return this[i].call(this,t,a,o,c)},configurable:!0})})}let tn=class{constructor(t){t&&this.set(t)}set(t,e,i){const a=this;function o(h,f,g){const m=Ll(f);if(!m)throw new Error("header name must be a non-empty string");const y=Y.findKey(a,m);(!y||a[y]===void 0||g===!0||g===void 0&&a[y]!==!1)&&(a[y||f]=Vu(h))}const c=(h,f)=>Y.forEach(h,(g,m)=>o(g,m,f));if(Y.isPlainObject(t)||t instanceof this.constructor)c(t,e);else if(Y.isString(t)&&(t=t.trim())&&!DT(t))c(MT(t),e);else if(Y.isHeaders(t))for(const[h,f]of t.entries())o(f,h,i);else t!=null&&o(e,t,i);return this}get(t,e){if(t=Ll(t),t){const i=Y.findKey(this,t);if(i){const a=this[i];if(!e)return a;if(e===!0)return OT(a);if(Y.isFunction(e))return e.call(this,a,i);if(Y.isRegExp(e))return e.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,e){if(t=Ll(t),t){const i=Y.findKey(this,t);return!!(i&&this[i]!==void 0&&(!e||fd(this,this[i],i,e)))}return!1}delete(t,e){const i=this;let a=!1;function o(c){if(c=Ll(c),c){const h=Y.findKey(i,c);h&&(!e||fd(i,i[h],h,e))&&(delete i[h],a=!0)}}return Y.isArray(t)?t.forEach(o):o(t),a}clear(t){const e=Object.keys(this);let i=e.length,a=!1;for(;i--;){const o=e[i];(!t||fd(this,this[o],o,t,!0))&&(delete this[o],a=!0)}return a}normalize(t){const e=this,i={};return Y.forEach(this,(a,o)=>{const c=Y.findKey(i,o);if(c){e[c]=Vu(a),delete e[o];return}const h=t?LT(o):String(o).trim();h!==o&&delete e[o],e[h]=Vu(a),i[h]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const e=Object.create(null);return Y.forEach(this,(i,a)=>{i!=null&&i!==!1&&(e[a]=t&&Y.isArray(i)?i.join(", "):i)}),e}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,e])=>t+": "+e).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...e){const i=new this(t);return e.forEach(a=>i.set(a)),i}static accessor(t){const i=(this[dp]=this[dp]={accessors:{}}).accessors,a=this.prototype;function o(c){const h=Ll(c);i[h]||(NT(a,c),i[h]=!0)}return Y.isArray(t)?t.forEach(o):o(t),this}};tn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(tn.prototype,({value:s},t)=>{let e=t[0].toUpperCase()+t.slice(1);return{get:()=>s,set(i){this[e]=i}}});Y.freezeMethods(tn);function dd(s,t){const e=this||co,i=t||e,a=tn.from(i.headers);let o=i.data;return Y.forEach(s,function(h){o=h.call(e,o,a.normalize(),t?t.status:void 0)}),a.normalize(),o}function s1(s){return!!(s&&s.__CANCEL__)}function wa(s,t,e){xt.call(this,s??"canceled",xt.ERR_CANCELED,t,e),this.name="CanceledError"}Y.inherits(wa,xt,{__CANCEL__:!0});function r1(s,t,e){const i=e.config.validateStatus;!e.status||!i||i(e.status)?s(e):t(new xt("Request failed with status code "+e.status,[xt.ERR_BAD_REQUEST,xt.ERR_BAD_RESPONSE][Math.floor(e.status/100)-4],e.config,e.request,e))}function IT(s){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(s);return t&&t[1]||""}function zT(s,t){s=s||10;const e=new Array(s),i=new Array(s);let a=0,o=0,c;return t=t!==void 0?t:1e3,function(f){const g=Date.now(),m=i[o];c||(c=g),e[a]=f,i[a]=g;let y=o,p=0;for(;y!==a;)p+=e[y++],y=y%s;if(a=(a+1)%s,a===o&&(o=(o+1)%s),g-c<t)return;const x=m&&g-m;return x?Math.round(p*1e3/x):void 0}}function kT(s,t){let e=0,i=1e3/t,a,o;const c=(g,m=Date.now())=>{e=m,a=null,o&&(clearTimeout(o),o=null),s.apply(null,g)};return[(...g)=>{const m=Date.now(),y=m-e;y>=i?c(g,m):(a=g,o||(o=setTimeout(()=>{o=null,c(a)},i-y)))},()=>a&&c(a)]}const Qu=(s,t,e=3)=>{let i=0;const a=zT(50,250);return kT(o=>{const c=o.loaded,h=o.lengthComputable?o.total:void 0,f=c-i,g=a(f),m=c<=h;i=c;const y={loaded:c,total:h,progress:h?c/h:void 0,bytes:f,rate:g||void 0,estimated:g&&h&&m?(h-c)/g:void 0,event:o,lengthComputable:h!=null,[t?"download":"upload"]:!0};s(y)},e)},gp=(s,t)=>{const e=s!=null;return[i=>t[0]({lengthComputable:e,total:s,loaded:i}),t[1]]},mp=s=>(...t)=>Y.asap(()=>s(...t)),FT=Fe.hasStandardBrowserEnv?((s,t)=>e=>(e=new URL(e,Fe.origin),s.protocol===e.protocol&&s.host===e.host&&(t||s.port===e.port)))(new URL(Fe.origin),Fe.navigator&&/(msie|trident)/i.test(Fe.navigator.userAgent)):()=>!0,jT=Fe.hasStandardBrowserEnv?{write(s,t,e,i,a,o){const c=[s+"="+encodeURIComponent(t)];Y.isNumber(e)&&c.push("expires="+new Date(e).toGMTString()),Y.isString(i)&&c.push("path="+i),Y.isString(a)&&c.push("domain="+a),o===!0&&c.push("secure"),document.cookie=c.join("; ")},read(s){const t=document.cookie.match(new RegExp("(^|;\\s*)("+s+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(s){this.write(s,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function UT(s){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(s)}function BT(s,t){return t?s.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):s}function a1(s,t,e){let i=!UT(t);return s&&(i||e==!1)?BT(s,t):t}const _p=s=>s instanceof tn?{...s}:s;function rr(s,t){t=t||{};const e={};function i(g,m,y,p){return Y.isPlainObject(g)&&Y.isPlainObject(m)?Y.merge.call({caseless:p},g,m):Y.isPlainObject(m)?Y.merge({},m):Y.isArray(m)?m.slice():m}function a(g,m,y,p){if(Y.isUndefined(m)){if(!Y.isUndefined(g))return i(void 0,g,y,p)}else return i(g,m,y,p)}function o(g,m){if(!Y.isUndefined(m))return i(void 0,m)}function c(g,m){if(Y.isUndefined(m)){if(!Y.isUndefined(g))return i(void 0,g)}else return i(void 0,m)}function h(g,m,y){if(y in t)return i(g,m);if(y in s)return i(void 0,g)}const f={url:o,method:o,data:o,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h,headers:(g,m,y)=>a(_p(g),_p(m),y,!0)};return Y.forEach(Object.keys(Object.assign({},s,t)),function(m){const y=f[m]||a,p=y(s[m],t[m],m);Y.isUndefined(p)&&y!==h||(e[m]=p)}),e}const l1=s=>{const t=rr({},s);let{data:e,withXSRFToken:i,xsrfHeaderName:a,xsrfCookieName:o,headers:c,auth:h}=t;t.headers=c=tn.from(c),t.url=e1(a1(t.baseURL,t.url,t.allowAbsoluteUrls),s.params,s.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let f;if(Y.isFormData(e)){if(Fe.hasStandardBrowserEnv||Fe.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if((f=c.getContentType())!==!1){const[g,...m]=f?f.split(";").map(y=>y.trim()).filter(Boolean):[];c.setContentType([g||"multipart/form-data",...m].join("; "))}}if(Fe.hasStandardBrowserEnv&&(i&&Y.isFunction(i)&&(i=i(t)),i||i!==!1&&FT(t.url))){const g=a&&o&&jT.read(o);g&&c.set(a,g)}return t},GT=typeof XMLHttpRequest<"u",PT=GT&&function(s){return new Promise(function(e,i){const a=l1(s);let o=a.data;const c=tn.from(a.headers).normalize();let{responseType:h,onUploadProgress:f,onDownloadProgress:g}=a,m,y,p,x,E;function R(){x&&x(),E&&E(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let S=new XMLHttpRequest;S.open(a.method.toUpperCase(),a.url,!0),S.timeout=a.timeout;function T(){if(!S)return;const w=tn.from("getAllResponseHeaders"in S&&S.getAllResponseHeaders()),A={data:!h||h==="text"||h==="json"?S.responseText:S.response,status:S.status,statusText:S.statusText,headers:w,config:s,request:S};r1(function(H){e(H),R()},function(H){i(H),R()},A),S=null}"onloadend"in S?S.onloadend=T:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(T)},S.onabort=function(){S&&(i(new xt("Request aborted",xt.ECONNABORTED,s,S)),S=null)},S.onerror=function(){i(new xt("Network Error",xt.ERR_NETWORK,s,S)),S=null},S.ontimeout=function(){let L=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const A=a.transitional||n1;a.timeoutErrorMessage&&(L=a.timeoutErrorMessage),i(new xt(L,A.clarifyTimeoutError?xt.ETIMEDOUT:xt.ECONNABORTED,s,S)),S=null},o===void 0&&c.setContentType(null),"setRequestHeader"in S&&Y.forEach(c.toJSON(),function(L,A){S.setRequestHeader(A,L)}),Y.isUndefined(a.withCredentials)||(S.withCredentials=!!a.withCredentials),h&&h!=="json"&&(S.responseType=a.responseType),g&&([p,E]=Qu(g,!0),S.addEventListener("progress",p)),f&&S.upload&&([y,x]=Qu(f),S.upload.addEventListener("progress",y),S.upload.addEventListener("loadend",x)),(a.cancelToken||a.signal)&&(m=w=>{S&&(i(!w||w.type?new wa(null,s,S):w),S.abort(),S=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const C=IT(a.url);if(C&&Fe.protocols.indexOf(C)===-1){i(new xt("Unsupported protocol "+C+":",xt.ERR_BAD_REQUEST,s));return}S.send(o||null)})},YT=(s,t)=>{const{length:e}=s=s?s.filter(Boolean):[];if(t||e){let i=new AbortController,a;const o=function(g){if(!a){a=!0,h();const m=g instanceof Error?g:this.reason;i.abort(m instanceof xt?m:new wa(m instanceof Error?m.message:m))}};let c=t&&setTimeout(()=>{c=null,o(new xt(`timeout ${t} of ms exceeded`,xt.ETIMEDOUT))},t);const h=()=>{s&&(c&&clearTimeout(c),c=null,s.forEach(g=>{g.unsubscribe?g.unsubscribe(o):g.removeEventListener("abort",o)}),s=null)};s.forEach(g=>g.addEventListener("abort",o));const{signal:f}=i;return f.unsubscribe=()=>Y.asap(h),f}},XT=function*(s,t){let e=s.byteLength;if(e<t){yield s;return}let i=0,a;for(;i<e;)a=i+t,yield s.slice(i,a),i=a},HT=async function*(s,t){for await(const e of qT(s))yield*XT(e,t)},qT=async function*(s){if(s[Symbol.asyncIterator]){yield*s;return}const t=s.getReader();try{for(;;){const{done:e,value:i}=await t.read();if(e)break;yield i}}finally{await t.cancel()}},yp=(s,t,e,i)=>{const a=HT(s,t);let o=0,c,h=f=>{c||(c=!0,i&&i(f))};return new ReadableStream({async pull(f){try{const{done:g,value:m}=await a.next();if(g){h(),f.close();return}let y=m.byteLength;if(e){let p=o+=y;e(p)}f.enqueue(new Uint8Array(m))}catch(g){throw h(g),g}},cancel(f){return h(f),a.return()}},{highWaterMark:2})},Sc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",o1=Sc&&typeof ReadableStream=="function",ZT=Sc&&(typeof TextEncoder=="function"?(s=>t=>s.encode(t))(new TextEncoder):async s=>new Uint8Array(await new Response(s).arrayBuffer())),u1=(s,...t)=>{try{return!!s(...t)}catch{return!1}},VT=o1&&u1(()=>{let s=!1;const t=new Request(Fe.origin,{body:new ReadableStream,method:"POST",get duplex(){return s=!0,"half"}}).headers.has("Content-Type");return s&&!t}),pp=64*1024,Vd=o1&&u1(()=>Y.isReadableStream(new Response("").body)),Ju={stream:Vd&&(s=>s.body)};Sc&&(s=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Ju[t]&&(Ju[t]=Y.isFunction(s[t])?e=>e[t]():(e,i)=>{throw new xt(`Response type '${t}' is not supported`,xt.ERR_NOT_SUPPORT,i)})})})(new Response);const KT=async s=>{if(s==null)return 0;if(Y.isBlob(s))return s.size;if(Y.isSpecCompliantForm(s))return(await new Request(Fe.origin,{method:"POST",body:s}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(s)||Y.isArrayBuffer(s))return s.byteLength;if(Y.isURLSearchParams(s)&&(s=s+""),Y.isString(s))return(await ZT(s)).byteLength},WT=async(s,t)=>{const e=Y.toFiniteNumber(s.getContentLength());return e??KT(t)},QT=Sc&&(async s=>{let{url:t,method:e,data:i,signal:a,cancelToken:o,timeout:c,onDownloadProgress:h,onUploadProgress:f,responseType:g,headers:m,withCredentials:y="same-origin",fetchOptions:p}=l1(s);g=g?(g+"").toLowerCase():"text";let x=YT([a,o&&o.toAbortSignal()],c),E;const R=x&&x.unsubscribe&&(()=>{x.unsubscribe()});let S;try{if(f&&VT&&e!=="get"&&e!=="head"&&(S=await WT(m,i))!==0){let A=new Request(t,{method:"POST",body:i,duplex:"half"}),G;if(Y.isFormData(i)&&(G=A.headers.get("content-type"))&&m.setContentType(G),A.body){const[H,Z]=gp(S,Qu(mp(f)));i=yp(A.body,pp,H,Z)}}Y.isString(y)||(y=y?"include":"omit");const T="credentials"in Request.prototype;E=new Request(t,{...p,signal:x,method:e.toUpperCase(),headers:m.normalize().toJSON(),body:i,duplex:"half",credentials:T?y:void 0});let C=await fetch(E);const w=Vd&&(g==="stream"||g==="response");if(Vd&&(h||w&&R)){const A={};["status","statusText","headers"].forEach(K=>{A[K]=C[K]});const G=Y.toFiniteNumber(C.headers.get("content-length")),[H,Z]=h&&gp(G,Qu(mp(h),!0))||[];C=new Response(yp(C.body,pp,H,()=>{Z&&Z(),R&&R()}),A)}g=g||"text";let L=await Ju[Y.findKey(Ju,g)||"text"](C,s);return!w&&R&&R(),await new Promise((A,G)=>{r1(A,G,{data:L,headers:tn.from(C.headers),status:C.status,statusText:C.statusText,config:s,request:E})})}catch(T){throw R&&R(),T&&T.name==="TypeError"&&/fetch/i.test(T.message)?Object.assign(new xt("Network Error",xt.ERR_NETWORK,s,E),{cause:T.cause||T}):xt.from(T,T&&T.code,s,E)}}),Kd={http:fT,xhr:PT,fetch:QT};Y.forEach(Kd,(s,t)=>{if(s){try{Object.defineProperty(s,"name",{value:t})}catch{}Object.defineProperty(s,"adapterName",{value:t})}});const Ep=s=>`- ${s}`,JT=s=>Y.isFunction(s)||s===null||s===!1,c1={getAdapter:s=>{s=Y.isArray(s)?s:[s];const{length:t}=s;let e,i;const a={};for(let o=0;o<t;o++){e=s[o];let c;if(i=e,!JT(e)&&(i=Kd[(c=String(e)).toLowerCase()],i===void 0))throw new xt(`Unknown adapter '${c}'`);if(i)break;a[c||"#"+o]=i}if(!i){const o=Object.entries(a).map(([h,f])=>`adapter ${h} `+(f===!1?"is not supported by the environment":"is not available in the build"));let c=t?o.length>1?`since :
`+o.map(Ep).join(`
`):" "+Ep(o[0]):"as no adapter specified";throw new xt("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return i},adapters:Kd};function gd(s){if(s.cancelToken&&s.cancelToken.throwIfRequested(),s.signal&&s.signal.aborted)throw new wa(null,s)}function vp(s){return gd(s),s.headers=tn.from(s.headers),s.data=dd.call(s,s.transformRequest),["post","put","patch"].indexOf(s.method)!==-1&&s.headers.setContentType("application/x-www-form-urlencoded",!1),c1.getAdapter(s.adapter||co.adapter)(s).then(function(i){return gd(s),i.data=dd.call(s,s.transformResponse,i),i.headers=tn.from(i.headers),i},function(i){return s1(i)||(gd(s),i&&i.response&&(i.response.data=dd.call(s,s.transformResponse,i.response),i.response.headers=tn.from(i.response.headers))),Promise.reject(i)})}const h1="1.8.4",bc={};["object","boolean","number","function","string","symbol"].forEach((s,t)=>{bc[s]=function(i){return typeof i===s||"a"+(t<1?"n ":" ")+s}});const xp={};bc.transitional=function(t,e,i){function a(o,c){return"[Axios v"+h1+"] Transitional option '"+o+"'"+c+(i?". "+i:"")}return(o,c,h)=>{if(t===!1)throw new xt(a(c," has been removed"+(e?" in "+e:"")),xt.ERR_DEPRECATED);return e&&!xp[c]&&(xp[c]=!0,console.warn(a(c," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(o,c,h):!0}};bc.spelling=function(t){return(e,i)=>(console.warn(`${i} is likely a misspelling of ${t}`),!0)};function $T(s,t,e){if(typeof s!="object")throw new xt("options must be an object",xt.ERR_BAD_OPTION_VALUE);const i=Object.keys(s);let a=i.length;for(;a-- >0;){const o=i[a],c=t[o];if(c){const h=s[o],f=h===void 0||c(h,o,s);if(f!==!0)throw new xt("option "+o+" must be "+f,xt.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new xt("Unknown option "+o,xt.ERR_BAD_OPTION)}}const Ku={assertOptions:$T,validators:bc},$n=Ku.validators;let ir=class{constructor(t){this.defaults=t,this.interceptors={request:new fp,response:new fp}}async request(t,e){try{return await this._request(t,e)}catch(i){if(i instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const o=a.stack?a.stack.replace(/^.+\n/,""):"";try{i.stack?o&&!String(i.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(i.stack+=`
`+o):i.stack=o}catch{}}throw i}}_request(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=rr(this.defaults,e);const{transitional:i,paramsSerializer:a,headers:o}=e;i!==void 0&&Ku.assertOptions(i,{silentJSONParsing:$n.transitional($n.boolean),forcedJSONParsing:$n.transitional($n.boolean),clarifyTimeoutError:$n.transitional($n.boolean)},!1),a!=null&&(Y.isFunction(a)?e.paramsSerializer={serialize:a}:Ku.assertOptions(a,{encode:$n.function,serialize:$n.function},!0)),e.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?e.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:e.allowAbsoluteUrls=!0),Ku.assertOptions(e,{baseUrl:$n.spelling("baseURL"),withXsrfToken:$n.spelling("withXSRFToken")},!0),e.method=(e.method||this.defaults.method||"get").toLowerCase();let c=o&&Y.merge(o.common,o[e.method]);o&&Y.forEach(["delete","get","head","post","put","patch","common"],E=>{delete o[E]}),e.headers=tn.concat(c,o);const h=[];let f=!0;this.interceptors.request.forEach(function(R){typeof R.runWhen=="function"&&R.runWhen(e)===!1||(f=f&&R.synchronous,h.unshift(R.fulfilled,R.rejected))});const g=[];this.interceptors.response.forEach(function(R){g.push(R.fulfilled,R.rejected)});let m,y=0,p;if(!f){const E=[vp.bind(this),void 0];for(E.unshift.apply(E,h),E.push.apply(E,g),p=E.length,m=Promise.resolve(e);y<p;)m=m.then(E[y++],E[y++]);return m}p=h.length;let x=e;for(y=0;y<p;){const E=h[y++],R=h[y++];try{x=E(x)}catch(S){R.call(this,S);break}}try{m=vp.call(this,x)}catch(E){return Promise.reject(E)}for(y=0,p=g.length;y<p;)m=m.then(g[y++],g[y++]);return m}getUri(t){t=rr(this.defaults,t);const e=a1(t.baseURL,t.url,t.allowAbsoluteUrls);return e1(e,t.params,t.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(t){ir.prototype[t]=function(e,i){return this.request(rr(i||{},{method:t,url:e,data:(i||{}).data}))}});Y.forEach(["post","put","patch"],function(t){function e(i){return function(o,c,h){return this.request(rr(h||{},{method:t,headers:i?{"Content-Type":"multipart/form-data"}:{},url:o,data:c}))}}ir.prototype[t]=e(),ir.prototype[t+"Form"]=e(!0)});let tC=class f1{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let e;this.promise=new Promise(function(o){e=o});const i=this;this.promise.then(a=>{if(!i._listeners)return;let o=i._listeners.length;for(;o-- >0;)i._listeners[o](a);i._listeners=null}),this.promise.then=a=>{let o;const c=new Promise(h=>{i.subscribe(h),o=h}).then(a);return c.cancel=function(){i.unsubscribe(o)},c},t(function(o,c,h){i.reason||(i.reason=new wa(o,c,h),e(i.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}toAbortSignal(){const t=new AbortController,e=i=>{t.abort(i)};return this.subscribe(e),t.signal.unsubscribe=()=>this.unsubscribe(e),t.signal}static source(){let t;return{token:new f1(function(a){t=a}),cancel:t}}};function eC(s){return function(e){return s.apply(null,e)}}function nC(s){return Y.isObject(s)&&s.isAxiosError===!0}const Wd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Wd).forEach(([s,t])=>{Wd[t]=s});function d1(s){const t=new ir(s),e=XE(ir.prototype.request,t);return Y.extend(e,ir.prototype,t,{allOwnKeys:!0}),Y.extend(e,t,null,{allOwnKeys:!0}),e.create=function(a){return d1(rr(s,a))},e}const ue=d1(co);ue.Axios=ir;ue.CanceledError=wa;ue.CancelToken=tC;ue.isCancel=s1;ue.VERSION=h1;ue.toFormData=xc;ue.AxiosError=xt;ue.Cancel=ue.CanceledError;ue.all=function(t){return Promise.all(t)};ue.spread=eC;ue.isAxiosError=nC;ue.mergeConfig=rr;ue.AxiosHeaders=tn;ue.formToJSON=s=>i1(Y.isHTMLForm(s)?new FormData(s):s);ue.getAdapter=c1.getAdapter;ue.HttpStatusCode=Wd;ue.default=ue;const{Axios:aO,AxiosError:lO,CanceledError:oO,isCancel:uO,CancelToken:cO,VERSION:hO,all:fO,Cancel:dO,isAxiosError:gO,spread:mO,toFormData:_O,AxiosHeaders:yO,HttpStatusCode:pO,formToJSON:EO,getAdapter:vO,mergeConfig:xO}=ue,Ve={ADD:"add",REMOVE:"remove"},ya={PROPERTYCHANGE:"propertychange"},vt={CHANGE:"change",ERROR:"error",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",TOUCHMOVE:"touchmove",WHEEL:"wheel"};class Rc{constructor(){this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.disposeInternal())}disposeInternal(){}}function iC(s,t,e){let i,a;e=e||Di;let o=0,c=s.length,h=!1;for(;o<c;)i=o+(c-o>>1),a=+e(s[i],t),a<0?o=i+1:(c=i,h=!a);return h?o:~o}function Di(s,t){return s>t?1:s<t?-1:0}function sC(s,t){return s<t?1:s>t?-1:0}function Sg(s,t,e){if(s[0]<=t)return 0;const i=s.length;if(t<=s[i-1])return i-1;if(typeof e=="function"){for(let a=1;a<i;++a){const o=s[a];if(o===t)return a;if(o<t)return e(t,s[a-1],o)>0?a-1:a}return i-1}if(e>0){for(let a=1;a<i;++a)if(s[a]<t)return a-1;return i-1}if(e<0){for(let a=1;a<i;++a)if(s[a]<=t)return a;return i-1}for(let a=1;a<i;++a){if(s[a]==t)return a;if(s[a]<t)return s[a-1]-t<t-s[a]?a-1:a}return i-1}function rC(s,t,e){for(;t<e;){const i=s[t];s[t]=s[e],s[e]=i,++t,--e}}function Tc(s,t){const e=Array.isArray(t)?t:[t],i=e.length;for(let a=0;a<i;a++)s[s.length]=e[a]}function As(s,t){const e=s.length;if(e!==t.length)return!1;for(let i=0;i<e;i++)if(s[i]!==t[i])return!1;return!0}function aC(s,t,e){const i=t||Di;return s.every(function(a,o){if(o===0)return!0;const c=i(s[o-1],a);return!(c>0||c===0)})}function Vl(){return!0}function Cc(){return!1}function Kl(){}function g1(s){let t,e,i;return function(){const a=Array.prototype.slice.call(arguments);return(!e||this!==i||!As(a,e))&&(i=this,e=a,t=s.apply(this,arguments)),t}}function lC(s){function t(){let e;try{e=s()}catch(i){return Promise.reject(i)}return e instanceof Promise?e:Promise.resolve(e)}return t()}function ho(s){for(const t in s)delete s[t]}function pa(s){let t;for(t in s)return!1;return!t}class Fi{constructor(t){this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}preventDefault(){this.defaultPrevented=!0}stopPropagation(){this.propagationStopped=!0}}class wc extends Rc{constructor(t){super(),this.eventTarget_=t,this.pendingRemovals_=null,this.dispatching_=null,this.listeners_=null}addEventListener(t,e){if(!t||!e)return;const i=this.listeners_||(this.listeners_={}),a=i[t]||(i[t]=[]);a.includes(e)||a.push(e)}dispatchEvent(t){const e=typeof t=="string",i=e?t:t.type,a=this.listeners_&&this.listeners_[i];if(!a)return;const o=e?new Fi(t):t;o.target||(o.target=this.eventTarget_||this);const c=this.dispatching_||(this.dispatching_={}),h=this.pendingRemovals_||(this.pendingRemovals_={});i in c||(c[i]=0,h[i]=0),++c[i];let f;for(let g=0,m=a.length;g<m;++g)if("handleEvent"in a[g]?f=a[g].handleEvent(o):f=a[g].call(this,o),f===!1||o.propagationStopped){f=!1;break}if(--c[i]===0){let g=h[i];for(delete h[i];g--;)this.removeEventListener(i,Kl);delete c[i]}return f}disposeInternal(){this.listeners_&&ho(this.listeners_)}getListeners(t){return this.listeners_&&this.listeners_[t]||void 0}hasListener(t){return this.listeners_?t?t in this.listeners_:Object.keys(this.listeners_).length>0:!1}removeEventListener(t,e){if(!this.listeners_)return;const i=this.listeners_[t];if(!i)return;const a=i.indexOf(e);a!==-1&&(this.pendingRemovals_&&t in this.pendingRemovals_?(i[a]=Kl,++this.pendingRemovals_[t]):(i.splice(a,1),i.length===0&&delete this.listeners_[t]))}}function zt(s,t,e,i,a){if(a){const c=e;e=function(h){return s.removeEventListener(t,e),c.call(i??this,h)}}else i&&i!==s&&(e=e.bind(i));const o={target:s,type:t,listener:e};return s.addEventListener(t,e),o}function $u(s,t,e,i){return zt(s,t,e,i,!0)}function Jt(s){s&&s.target&&(s.target.removeEventListener(s.type,s.listener),ho(s))}class fo extends wc{constructor(){super(),this.on=this.onInternal,this.once=this.onceInternal,this.un=this.unInternal,this.revision_=0}changed(){++this.revision_,this.dispatchEvent(vt.CHANGE)}getRevision(){return this.revision_}onInternal(t,e){if(Array.isArray(t)){const i=t.length,a=new Array(i);for(let o=0;o<i;++o)a[o]=zt(this,t[o],e);return a}return zt(this,t,e)}onceInternal(t,e){let i;if(Array.isArray(t)){const a=t.length;i=new Array(a);for(let o=0;o<a;++o)i[o]=$u(this,t[o],e)}else i=$u(this,t,e);return e.ol_key=i,i}unInternal(t,e){const i=e.ol_key;if(i)oC(i);else if(Array.isArray(t))for(let a=0,o=t.length;a<o;++a)this.removeEventListener(t[a],e);else this.removeEventListener(t,e)}}fo.prototype.on;fo.prototype.once;fo.prototype.un;function oC(s){if(Array.isArray(s))for(let t=0,e=s.length;t<e;++t)Jt(s[t]);else Jt(s)}function It(){throw new Error("Unimplemented abstract method.")}let uC=0;function jt(s){return s.ol_uid||(s.ol_uid=String(++uC))}class Sp extends Fi{constructor(t,e,i){super(t),this.key=e,this.oldValue=i}}class ri extends fo{constructor(t){super(),this.on,this.once,this.un,jt(this),this.values_=null,t!==void 0&&this.setProperties(t)}get(t){let e;return this.values_&&this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e}getKeys(){return this.values_&&Object.keys(this.values_)||[]}getProperties(){return this.values_&&Object.assign({},this.values_)||{}}getPropertiesInternal(){return this.values_}hasProperties(){return!!this.values_}notify(t,e){let i;i=`change:${t}`,this.hasListener(i)&&this.dispatchEvent(new Sp(i,t,e)),i=ya.PROPERTYCHANGE,this.hasListener(i)&&this.dispatchEvent(new Sp(i,t,e))}addChangeListener(t,e){this.addEventListener(`change:${t}`,e)}removeChangeListener(t,e){this.removeEventListener(`change:${t}`,e)}set(t,e,i){const a=this.values_||(this.values_={});if(i)a[t]=e;else{const o=a[t];a[t]=e,o!==e&&this.notify(t,o)}}setProperties(t,e){for(const i in t)this.set(i,t[i],e)}applyProperties(t){t.values_&&Object.assign(this.values_||(this.values_={}),t.values_)}unset(t,e){if(this.values_&&t in this.values_){const i=this.values_[t];delete this.values_[t],pa(this.values_)&&(this.values_=null),e||this.notify(t,i)}}}const bp={LENGTH:"length"};class Nu extends Fi{constructor(t,e,i){super(t),this.element=e,this.index=i}}class ni extends ri{constructor(t,e){if(super(),this.on,this.once,this.un,e=e||{},this.unique_=!!e.unique,this.array_=t||[],this.unique_)for(let i=0,a=this.array_.length;i<a;++i)this.assertUnique_(this.array_[i],i);this.updateLength_()}clear(){for(;this.getLength()>0;)this.pop()}extend(t){for(let e=0,i=t.length;e<i;++e)this.push(t[e]);return this}forEach(t){const e=this.array_;for(let i=0,a=e.length;i<a;++i)t(e[i],i,e)}getArray(){return this.array_}item(t){return this.array_[t]}getLength(){return this.get(bp.LENGTH)}insertAt(t,e){if(t<0||t>this.getLength())throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new Nu(Ve.ADD,e,t))}pop(){return this.removeAt(this.getLength()-1)}push(t){this.unique_&&this.assertUnique_(t);const e=this.getLength();return this.insertAt(e,t),this.getLength()}remove(t){const e=this.array_;for(let i=0,a=e.length;i<a;++i)if(e[i]===t)return this.removeAt(i)}removeAt(t){if(t<0||t>=this.getLength())return;const e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new Nu(Ve.REMOVE,e,t)),e}setAt(t,e){const i=this.getLength();if(t>=i){this.insertAt(t,e);return}if(t<0)throw new Error("Index out of bounds: "+t);this.unique_&&this.assertUnique_(e,t);const a=this.array_[t];this.array_[t]=e,this.dispatchEvent(new Nu(Ve.REMOVE,a,t)),this.dispatchEvent(new Nu(Ve.ADD,e,t))}updateLength_(){this.set(bp.LENGTH,this.array_.length)}assertUnique_(t,e){for(let i=0,a=this.array_.length;i<a;++i)if(this.array_[i]===t&&i!==e)throw new Error("Duplicate item added to a unique collection")}}class aa extends Fi{constructor(t,e,i){super(t),this.map=e,this.frameState=i!==void 0?i:null}}class ps extends aa{constructor(t,e,i,a,o,c){super(t,e,o),this.originalEvent=i,this.pixel_=null,this.coordinate_=null,this.dragging=a!==void 0?a:!1,this.activePointers=c}get pixel(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_}set pixel(t){this.pixel_=t}get coordinate(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_}set coordinate(t){this.coordinate_=t}preventDefault(){super.preventDefault(),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}stopPropagation(){super.stopPropagation(),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}const re={SINGLECLICK:"singleclick",CLICK:vt.CLICK,DBLCLICK:vt.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},ar=typeof navigator<"u"&&typeof navigator.userAgent<"u"?navigator.userAgent.toLowerCase():"",cC=ar.includes("safari")&&!ar.includes("chrom");cC&&(ar.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(ar));const hC=ar.includes("webkit")&&!ar.includes("edge"),m1=ar.includes("macintosh"),fC=typeof devicePixelRatio<"u"?devicePixelRatio:1,_1=typeof WorkerGlobalScope<"u"&&typeof OffscreenCanvas<"u"&&self instanceof WorkerGlobalScope,y1=typeof Image<"u"&&Image.prototype.decode,p1=function(){let s=!1;try{const t=Object.defineProperty({},"passive",{get:function(){s=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch{}return s}(),Qd={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown"};class dC extends wc{constructor(t,e){super(t),this.map_=t,this.clickTimeoutId_,this.emulateClicks_=!1,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=e===void 0?1:e,this.down_=null;const i=this.map_.getViewport();this.activePointers_=[],this.trackedTouches_={},this.element_=i,this.pointerdownListenerKey_=zt(i,Qd.POINTERDOWN,this.handlePointerDown_,this),this.originalPointerMoveEvent_,this.relayedListenerKey_=zt(i,Qd.POINTERMOVE,this.relayMoveEvent_,this),this.boundHandleTouchMove_=this.handleTouchMove_.bind(this),this.element_.addEventListener(vt.TOUCHMOVE,this.boundHandleTouchMove_,p1?{passive:!1}:!1)}emulateClick_(t){let e=new ps(re.CLICK,this.map_,t);this.dispatchEvent(e),this.clickTimeoutId_!==void 0?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new ps(re.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(()=>{this.clickTimeoutId_=void 0;const i=new ps(re.SINGLECLICK,this.map_,t);this.dispatchEvent(i)},250)}updateActivePointers_(t){const e=t,i=e.pointerId;if(e.type==re.POINTERUP||e.type==re.POINTERCANCEL){delete this.trackedTouches_[i];for(const a in this.trackedTouches_)if(this.trackedTouches_[a].target!==e.target){delete this.trackedTouches_[a];break}}else(e.type==re.POINTERDOWN||e.type==re.POINTERMOVE)&&(this.trackedTouches_[i]=e);this.activePointers_=Object.values(this.trackedTouches_)}handlePointerUp_(t){this.updateActivePointers_(t);const e=new ps(re.POINTERUP,this.map_,t,void 0,void 0,this.activePointers_);this.dispatchEvent(e),this.emulateClicks_&&!e.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(t)&&this.emulateClick_(this.down_),this.activePointers_.length===0&&(this.dragListenerKeys_.forEach(Jt),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}isMouseActionButton_(t){return t.button===0}handlePointerDown_(t){this.emulateClicks_=this.activePointers_.length===0,this.updateActivePointers_(t);const e=new ps(re.POINTERDOWN,this.map_,t,void 0,void 0,this.activePointers_);if(this.dispatchEvent(e),this.down_=new PointerEvent(t.type,t),Object.defineProperty(this.down_,"target",{writable:!1,value:t.target}),this.dragListenerKeys_.length===0){const i=this.map_.getOwnerDocument();this.dragListenerKeys_.push(zt(i,re.POINTERMOVE,this.handlePointerMove_,this),zt(i,re.POINTERUP,this.handlePointerUp_,this),zt(this.element_,re.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==i&&this.dragListenerKeys_.push(zt(this.element_.getRootNode(),re.POINTERUP,this.handlePointerUp_,this))}}handlePointerMove_(t){if(this.isMoving_(t)){this.updateActivePointers_(t),this.dragging_=!0;const e=new ps(re.POINTERDRAG,this.map_,t,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(e)}}relayMoveEvent_(t){this.originalPointerMoveEvent_=t;const e=!!(this.down_&&this.isMoving_(t));this.dispatchEvent(new ps(re.POINTERMOVE,this.map_,t,e))}handleTouchMove_(t){const e=this.originalPointerMoveEvent_;(!e||e.defaultPrevented)&&(typeof t.cancelable!="boolean"||t.cancelable===!0)&&t.preventDefault()}isMoving_(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_}disposeInternal(){this.relayedListenerKey_&&(Jt(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(vt.TOUCHMOVE,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(Jt(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(Jt),this.dragListenerKeys_.length=0,this.element_=null,super.disposeInternal()}}const Es={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend",LOADSTART:"loadstart",LOADEND:"loadend"},ze={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},mt={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4};function Bt(s,t){if(!s)throw new Error(t)}const tc=1/0;class gC{constructor(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}}clear(){this.elements_.length=0,this.priorities_.length=0,ho(this.queuedElements_)}dequeue(){const t=this.elements_,e=this.priorities_,i=t[0];t.length==1?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));const a=this.keyFunction_(i);return delete this.queuedElements_[a],i}enqueue(t){Bt(!(this.keyFunction_(t)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");const e=this.priorityFunction_(t);return e!=tc?(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0):!1}getCount(){return this.elements_.length}getLeftChildIndex_(t){return t*2+1}getRightChildIndex_(t){return t*2+2}getParentIndex_(t){return t-1>>1}heapify_(){let t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)}isEmpty(){return this.elements_.length===0}isKeyQueued(t){return t in this.queuedElements_}isQueued(t){return this.isKeyQueued(this.keyFunction_(t))}siftUp_(t){const e=this.elements_,i=this.priorities_,a=e.length,o=e[t],c=i[t],h=t;for(;t<a>>1;){const f=this.getLeftChildIndex_(t),g=this.getRightChildIndex_(t),m=g<a&&i[g]<i[f]?g:f;e[t]=e[m],i[t]=i[m],t=m}e[t]=o,i[t]=c,this.siftDown_(h,t)}siftDown_(t,e){const i=this.elements_,a=this.priorities_,o=i[e],c=a[e];for(;e>t;){const h=this.getParentIndex_(e);if(a[h]>c)i[e]=i[h],a[e]=a[h],e=h;else break}i[e]=o,a[e]=c}reprioritize(){const t=this.priorityFunction_,e=this.elements_,i=this.priorities_;let a=0;const o=e.length;let c,h,f;for(h=0;h<o;++h)c=e[h],f=t(c),f==tc?delete this.queuedElements_[this.keyFunction_(c)]:(i[a]=f,e[a++]=c);e.length=a,i.length=a,this.heapify_()}}class mC extends gC{constructor(t,e){super(i=>t.apply(null,i),i=>i[0].getKey()),this.boundHandleTileChange_=this.handleTileChange.bind(this),this.tileChangeCallback_=e,this.tilesLoading_=0,this.tilesLoadingKeys_={}}enqueue(t){const e=super.enqueue(t);return e&&t[0].addEventListener(vt.CHANGE,this.boundHandleTileChange_),e}getTilesLoading(){return this.tilesLoading_}handleTileChange(t){const e=t.target,i=e.getState();if(i===mt.LOADED||i===mt.ERROR||i===mt.EMPTY){i!==mt.ERROR&&e.removeEventListener(vt.CHANGE,this.boundHandleTileChange_);const a=e.getKey();a in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[a],--this.tilesLoading_),this.tileChangeCallback_()}}loadMoreTiles(t,e){let i=0;for(;this.tilesLoading_<t&&i<e&&this.getCount()>0;){const a=this.dequeue()[0],o=a.getKey();a.getState()===mt.IDLE&&!(o in this.tilesLoadingKeys_)&&(this.tilesLoadingKeys_[o]=!0,++this.tilesLoading_,++i,a.load())}}}function _C(s,t,e,i,a){if(!s||!(e in s.wantedTiles)||!s.wantedTiles[e][t.getKey()])return tc;const o=s.viewState.center,c=i[0]-o[0],h=i[1]-o[1];return 65536*Math.log(a)+Math.sqrt(c*c+h*h)/a}const ke={ANIMATING:0,INTERACTING:1},kn={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};function te(s,t,e){return Math.min(Math.max(s,t),e)}function yC(s,t,e,i,a,o){const c=a-e,h=o-i;if(c!==0||h!==0){const f=((s-e)*c+(t-i)*h)/(c*c+h*h);f>1?(e=a,i=o):f>0&&(e+=c*f,i+=h*f)}return fa(s,t,e,i)}function fa(s,t,e,i){const a=e-s,o=i-t;return a*a+o*o}function pC(s){const t=s.length;for(let i=0;i<t;i++){let a=i,o=Math.abs(s[i][i]);for(let h=i+1;h<t;h++){const f=Math.abs(s[h][i]);f>o&&(o=f,a=h)}if(o===0)return null;const c=s[a];s[a]=s[i],s[i]=c;for(let h=i+1;h<t;h++){const f=-s[h][i]/s[i][i];for(let g=i;g<t+1;g++)i==g?s[h][g]=0:s[h][g]+=f*s[i][g]}}const e=new Array(t);for(let i=t-1;i>=0;i--){e[i]=s[i][t]/s[i][i];for(let a=i-1;a>=0;a--)s[a][t]-=s[a][i]*e[i]}return e}function Rp(s){return s*180/Math.PI}function Rs(s){return s*Math.PI/180}function da(s,t){const e=s%t;return e*t<0?e+t:e}function fn(s,t,e){return s+e*(t-s)}function Ac(s,t){const e=Math.pow(10,t);return Math.round(s*e)/e}function Iu(s,t){return Math.floor(Ac(s,t))}function zu(s,t){return Math.ceil(Ac(s,t))}function Jd(s,t,e){if(s>=t&&s<e)return s;const i=e-t;return((s-t)%i+i)%i+t}function Tp(s,t,e){return function(i,a,o,c,h){if(!i)return;if(!a&&!t)return i;const f=t?0:o[0]*a,g=t?0:o[1]*a,m=h?h[0]:0,y=h?h[1]:0;let p=s[0]+f/2+m,x=s[2]-f/2+m,E=s[1]+g/2+y,R=s[3]-g/2+y;p>x&&(p=(x+p)/2,x=p),E>R&&(E=(R+E)/2,R=E);let S=te(i[0],p,x),T=te(i[1],E,R);if(c&&e&&a){const C=30*a;S+=-C*Math.log(1+Math.max(0,p-i[0])/C)+C*Math.log(1+Math.max(0,i[0]-x)/C),T+=-C*Math.log(1+Math.max(0,E-i[1])/C)+C*Math.log(1+Math.max(0,i[1]-R)/C)}return[S,T]}}function EC(s){return s}const be={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function Cp(s){const t=An();for(let e=0,i=s.length;e<i;++e)Xl(t,s[e]);return t}function bg(s,t,e){return e?(e[0]=s[0]-t,e[1]=s[1]-t,e[2]=s[2]+t,e[3]=s[3]+t,e):[s[0]-t,s[1]-t,s[2]+t,s[3]+t]}function E1(s,t){return t?(t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t):s.slice()}function Rg(s,t,e){let i,a;return t<s[0]?i=s[0]-t:s[2]<t?i=t-s[2]:i=0,e<s[1]?a=s[1]-e:s[3]<e?a=e-s[3]:a=0,i*i+a*a}function Ea(s,t){return v1(s,t[0],t[1])}function Fl(s,t){return s[0]<=t[0]&&t[2]<=s[2]&&s[1]<=t[1]&&t[3]<=s[3]}function v1(s,t,e){return s[0]<=t&&t<=s[2]&&s[1]<=e&&e<=s[3]}function $d(s,t){const e=s[0],i=s[1],a=s[2],o=s[3],c=t[0],h=t[1];let f=be.UNKNOWN;return c<e?f=f|be.LEFT:c>a&&(f=f|be.RIGHT),h<i?f=f|be.BELOW:h>o&&(f=f|be.ABOVE),f===be.UNKNOWN&&(f=be.INTERSECTING),f}function An(){return[1/0,1/0,-1/0,-1/0]}function Cs(s,t,e,i,a){return a?(a[0]=s,a[1]=t,a[2]=e,a[3]=i,a):[s,t,e,i]}function Mc(s){return Cs(1/0,1/0,-1/0,-1/0,s)}function x1(s,t){const e=s[0],i=s[1];return Cs(e,i,e,i,t)}function Tg(s,t,e,i,a){const o=Mc(a);return S1(o,s,t,e,i)}function Wl(s,t){return s[0]==t[0]&&s[2]==t[2]&&s[1]==t[1]&&s[3]==t[3]}function vC(s,t){return t[0]<s[0]&&(s[0]=t[0]),t[2]>s[2]&&(s[2]=t[2]),t[1]<s[1]&&(s[1]=t[1]),t[3]>s[3]&&(s[3]=t[3]),s}function Xl(s,t){t[0]<s[0]&&(s[0]=t[0]),t[0]>s[2]&&(s[2]=t[0]),t[1]<s[1]&&(s[1]=t[1]),t[1]>s[3]&&(s[3]=t[1])}function S1(s,t,e,i,a){for(;e<i;e+=a)xC(s,t[e],t[e+1]);return s}function xC(s,t,e){s[0]=Math.min(s[0],t),s[1]=Math.min(s[1],e),s[2]=Math.max(s[2],t),s[3]=Math.max(s[3],e)}function b1(s,t){let e;return e=t(Oc(s)),e||(e=t(Dc(s)),e)||(e=t(Lc(s)),e)||(e=t(hr(s)),e)?e:!1}function tg(s){let t=0;return Nc(s)||(t=Xt(s)*Ge(s)),t}function Oc(s){return[s[0],s[1]]}function Dc(s){return[s[2],s[1]]}function lr(s){return[(s[0]+s[2])/2,(s[1]+s[3])/2]}function SC(s,t){let e;if(t==="bottom-left")e=Oc(s);else if(t==="bottom-right")e=Dc(s);else if(t==="top-left")e=hr(s);else if(t==="top-right")e=Lc(s);else throw new Error("Invalid corner");return e}function eg(s,t,e,i,a){const[o,c,h,f,g,m,y,p]=R1(s,t,e,i);return Cs(Math.min(o,h,g,y),Math.min(c,f,m,p),Math.max(o,h,g,y),Math.max(c,f,m,p),a)}function R1(s,t,e,i){const a=t*i[0]/2,o=t*i[1]/2,c=Math.cos(e),h=Math.sin(e),f=a*c,g=a*h,m=o*c,y=o*h,p=s[0],x=s[1];return[p-f+y,x-g-m,p-f-y,x-g+m,p+f-y,x+g+m,p+f+y,x+g-m,p-f+y,x-g-m]}function Ge(s){return s[3]-s[1]}function sr(s,t,e){const i=An();return Qe(s,t)?(s[0]>t[0]?i[0]=s[0]:i[0]=t[0],s[1]>t[1]?i[1]=s[1]:i[1]=t[1],s[2]<t[2]?i[2]=s[2]:i[2]=t[2],s[3]<t[3]?i[3]=s[3]:i[3]=t[3]):Mc(i),i}function hr(s){return[s[0],s[3]]}function Lc(s){return[s[2],s[3]]}function Xt(s){return s[2]-s[0]}function Qe(s,t){return s[0]<=t[2]&&s[2]>=t[0]&&s[1]<=t[3]&&s[3]>=t[1]}function Nc(s){return s[2]<s[0]||s[3]<s[1]}function bC(s,t){return t?(t[0]=s[0],t[1]=s[1],t[2]=s[2],t[3]=s[3],t):s}function RC(s,t,e){let i=!1;const a=$d(s,t),o=$d(s,e);if(a===be.INTERSECTING||o===be.INTERSECTING)i=!0;else{const c=s[0],h=s[1],f=s[2],g=s[3],m=t[0],y=t[1],p=e[0],x=e[1],E=(x-y)/(p-m);let R,S;o&be.ABOVE&&!(a&be.ABOVE)&&(R=p-(x-g)/E,i=R>=c&&R<=f),!i&&o&be.RIGHT&&!(a&be.RIGHT)&&(S=x-(p-f)*E,i=S>=h&&S<=g),!i&&o&be.BELOW&&!(a&be.BELOW)&&(R=p-(x-h)/E,i=R>=c&&R<=f),!i&&o&be.LEFT&&!(a&be.LEFT)&&(S=x-(p-c)*E,i=S>=h&&S<=g)}return i}function T1(s,t){const e=t.getExtent(),i=lr(s);if(t.canWrapX()&&(i[0]<e[0]||i[0]>=e[2])){const a=Xt(e),c=Math.floor((i[0]-e[0])/a)*a;s[0]-=c,s[2]-=c}return s}function C1(s,t,e){if(t.canWrapX()){const i=t.getExtent();if(!isFinite(s[0])||!isFinite(s[2]))return[[i[0],s[1],i[2],s[3]]];T1(s,t);const a=Xt(i);if(Xt(s)>a&&!e)return[[i[0],s[1],i[2],s[3]]];if(s[0]<i[0])return[[s[0]+a,s[1],i[2],s[3]],[i[0],s[1],s[2],s[3]]];if(s[2]>i[2])return[[s[0],s[1],i[2],s[3]],[i[0],s[1],s[2]-a,s[3]]]}return[s]}function TC(s,t){return s[0]+=+t[0],s[1]+=+t[1],s}function ec(s,t){let e=!0;for(let i=s.length-1;i>=0;--i)if(s[i]!=t[i]){e=!1;break}return e}function Cg(s,t){const e=Math.cos(t),i=Math.sin(t),a=s[0]*e-s[1]*i,o=s[1]*e+s[0]*i;return s[0]=a,s[1]=o,s}function CC(s,t){return s[0]*=t,s[1]*=t,s}function w1(s,t){if(t.canWrapX()){const e=Xt(t.getExtent()),i=wC(s,t,e);i&&(s[0]-=i*e)}return s}function wC(s,t,e){const i=t.getExtent();let a=0;return t.canWrapX()&&(s[0]<i[0]||s[0]>i[2])&&(e=e||Xt(i),a=Math.floor((s[0]-i[0])/e)),a}function A1(s){return Math.pow(s,3)}function Aa(s){return 1-A1(1-s)}function AC(s){return 3*s*s-2*s*s*s}function MC(s){return s}const OC=63710088e-1;function wp(s,t,e){e=e||OC;const i=Rs(s[1]),a=Rs(t[1]),o=(a-i)/2,c=Rs(t[0]-s[0])/2,h=Math.sin(o)*Math.sin(o)+Math.sin(c)*Math.sin(c)*Math.cos(i)*Math.cos(a);return 2*e*Math.atan2(Math.sqrt(h),Math.sqrt(1-h))}function M1(...s){console.warn(...s)}const wg={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937};class Ag{constructor(t){this.code_=t.code,this.units_=t.units,this.extent_=t.extent!==void 0?t.extent:null,this.worldExtent_=t.worldExtent!==void 0?t.worldExtent:null,this.axisOrientation_=t.axisOrientation!==void 0?t.axisOrientation:"enu",this.global_=t.global!==void 0?t.global:!1,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}canWrapX(){return this.canWrapX_}getCode(){return this.code_}getExtent(){return this.extent_}getUnits(){return this.units_}getMetersPerUnit(){return this.metersPerUnit_||wg[this.units_]}getWorldExtent(){return this.worldExtent_}getAxisOrientation(){return this.axisOrientation_}isGlobal(){return this.global_}setGlobal(t){this.global_=t,this.canWrapX_=!!(t&&this.extent_)}getDefaultTileGrid(){return this.defaultTileGrid_}setDefaultTileGrid(t){this.defaultTileGrid_=t}setExtent(t){this.extent_=t,this.canWrapX_=!!(this.global_&&t)}setWorldExtent(t){this.worldExtent_=t}setGetPointResolution(t){this.getPointResolutionFunc_=t}getPointResolutionFunc(){return this.getPointResolutionFunc_}}const go=6378137,ca=Math.PI*go,DC=[-ca,-ca,ca,ca],LC=[-180,-85,180,85],ku=go*Math.log(Math.tan(Math.PI/2));class $r extends Ag{constructor(t){super({code:t,units:"m",extent:DC,global:!0,worldExtent:LC,getPointResolution:function(e,i){return e/Math.cosh(i[1]/go)}})}}const Ap=[new $r("EPSG:3857"),new $r("EPSG:102100"),new $r("EPSG:102113"),new $r("EPSG:900913"),new $r("http://www.opengis.net/def/crs/EPSG/0/3857"),new $r("http://www.opengis.net/gml/srs/epsg.xml#3857")];function NC(s,t,e,i){const a=s.length;e=e>1?e:2,i=i??e,t===void 0&&(e>2?t=s.slice():t=new Array(a));for(let o=0;o<a;o+=i){t[o]=ca*s[o]/180;let c=go*Math.log(Math.tan(Math.PI*(+s[o+1]+90)/360));c>ku?c=ku:c<-ku&&(c=-ku),t[o+1]=c}return t}function IC(s,t,e,i){const a=s.length;e=e>1?e:2,i=i??e,t===void 0&&(e>2?t=s.slice():t=new Array(a));for(let o=0;o<a;o+=i)t[o]=180*s[o]/ca,t[o+1]=360*Math.atan(Math.exp(s[o+1]/go))/Math.PI-90;return t}const zC=6378137,Mp=[-180,-90,180,90],kC=Math.PI*zC/180;class Vs extends Ag{constructor(t,e){super({code:t,units:"degrees",extent:Mp,axisOrientation:e,global:!0,metersPerUnit:kC,worldExtent:Mp})}}const Op=[new Vs("CRS:84"),new Vs("EPSG:4326","neu"),new Vs("urn:ogc:def:crs:OGC:1.3:CRS84"),new Vs("urn:ogc:def:crs:OGC:2:84"),new Vs("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new Vs("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Vs("http://www.opengis.net/def/crs/EPSG/0/4326","neu")];let ng={};function FC(s){return ng[s]||ng[s.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null}function jC(s,t){ng[s]=t}let ga={};function Ql(s,t,e){const i=s.getCode(),a=t.getCode();i in ga||(ga[i]={}),ga[i][a]=e}function md(s,t){return s in ga&&t in ga[s]?ga[s][t]:null}const nc=.9996,wn=.00669438,Ic=wn*wn,zc=Ic*wn,Js=wn/(1-wn),Dp=Math.sqrt(1-wn),va=(1-Dp)/(1+Dp),O1=va*va,Mg=O1*va,Og=Mg*va,D1=Og*va,L1=1-wn/4-3*Ic/64-5*zc/256,UC=3*wn/8+3*Ic/32+45*zc/1024,BC=15*Ic/256+45*zc/1024,GC=35*zc/3072,PC=3/2*va-27/32*Mg+269/512*D1,YC=21/16*O1-55/32*Og,XC=151/96*Mg-417/128*D1,HC=1097/512*Og,ic=6378137;function qC(s,t,e){const i=s-5e5,c=(e.north?t:t-1e7)/nc/(ic*L1),h=c+PC*Math.sin(2*c)+YC*Math.sin(4*c)+XC*Math.sin(6*c)+HC*Math.sin(8*c),f=Math.sin(h),g=f*f,m=Math.cos(h),y=f/m,p=y*y,x=p*p,E=1-wn*g,R=Math.sqrt(1-wn*g),S=ic/R,T=(1-wn)/E,C=Js*m**2,w=C*C,L=i/(S*nc),A=L*L,G=A*L,H=G*L,Z=H*L,K=Z*L,et=h-y/T*(A/2-H/24*(5+3*p+10*C-4*w-9*Js))+K/720*(61+90*p+298*C+45*x-252*Js-3*w);let ut=(L-G/6*(1+2*p+C)+Z/120*(5-2*C+28*p-3*w+8*Js+24*x))/m;return ut=Jd(ut+Rs(N1(e.number)),-Math.PI,Math.PI),[Rp(ut),Rp(et)]}const Lp=-80,Np=84,ZC=-180,VC=180;function KC(s,t,e){s=Jd(s,ZC,VC),t<Lp?t=Lp:t>Np&&(t=Np);const i=Rs(t),a=Math.sin(i),o=Math.cos(i),c=a/o,h=c*c,f=h*h,g=Rs(s),m=N1(e.number),y=Rs(m),p=ic/Math.sqrt(1-wn*a**2),x=Js*o**2,E=o*Jd(g-y,-Math.PI,Math.PI),R=E*E,S=R*E,T=S*E,C=T*E,w=C*E,L=ic*(L1*i-UC*Math.sin(2*i)+BC*Math.sin(4*i)-GC*Math.sin(6*i)),A=nc*p*(E+S/6*(1-h+x)+C/120*(5-18*h+f+72*x-58*Js))+5e5;let G=nc*(L+p*c*(R/2+T/24*(5-h+9*x+4*x**2)+w/720*(61-58*h+f+600*x-330*Js)));return e.north||(G+=1e7),[A,G]}function N1(s){return(s-1)*6-180+3}const WC=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function I1(s){let t=0;for(const a of WC){const o=s.match(a);if(o){t=parseInt(o[1]);break}}if(!t)return null;let e=0,i=!1;return t>32700&&t<32761?e=t-32700:t>32600&&t<32661&&(i=!0,e=t-32600),e?{number:e,north:i}:null}function Ip(s,t){return function(e,i,a,o){const c=e.length;a=a>1?a:2,o=o??a,i||(a>2?i=e.slice():i=new Array(c));for(let h=0;h<c;h+=o){const f=e[h],g=e[h+1],m=s(f,g,t);i[h]=m[0],i[h+1]=m[1]}return i}}function QC(s){return I1(s)?new Ag({code:s,units:"m"}):null}function JC(s){const t=I1(s.getCode());return t?{forward:Ip(KC,t),inverse:Ip(qC,t)}:null}const $C=[JC],tw=[QC];let ig=!0;function z1(s){ig=!1}function Dg(s,t){if(t!==void 0){for(let e=0,i=s.length;e<i;++e)t[e]=s[e];t=t}else t=s.slice();return t}function sg(s){jC(s.getCode(),s),Ql(s,s,Dg)}function ew(s){s.forEach(sg)}function en(s){if(typeof s!="string")return s;const t=FC(s);if(t)return t;for(const e of tw){const i=e(s);if(i)return i}return null}function zp(s,t,e,i){s=en(s);let a;const o=s.getPointResolutionFunc();if(o)a=o(t,e);else{const c=s.getUnits();if(c=="degrees"||i=="degrees")a=t;else{const h=Ng(s,en("EPSG:4326"));if(!h&&c!=="degrees")a=t*s.getMetersPerUnit();else{let g=[e[0]-t/2,e[1],e[0]+t/2,e[1],e[0],e[1]-t/2,e[0],e[1]+t/2];g=h(g,g,2);const m=wp(g.slice(0,2),g.slice(2,4)),y=wp(g.slice(4,6),g.slice(6,8));a=(m+y)/2}const f=s.getMetersPerUnit();f!==void 0&&(a/=f)}}return a}function kp(s){ew(s),s.forEach(function(t){s.forEach(function(e){t!==e&&Ql(t,e,Dg)})})}function nw(s,t,e,i){s.forEach(function(a){t.forEach(function(o){Ql(a,o,e),Ql(o,a,i)})})}function Lg(s,t){return s?typeof s=="string"?en(s):s:en(t)}function iw(s){return function(t,e,i,a){const o=t.length;i=i!==void 0?i:2,a=a??i,e=e!==void 0?e:new Array(o);for(let c=0;c<o;c+=a){const h=s(t.slice(c,c+i)),f=h.length;for(let g=0,m=a;g<m;++g)e[c+g]=g>=f?t[c+g]:h[g]}return e}}function _d(s,t){return z1(),Ig(s,"EPSG:4326","EPSG:3857")}function yd(s,t){if(s===t)return!0;const e=s.getUnits()===t.getUnits();return(s.getCode()===t.getCode()||Ng(s,t)===Dg)&&e}function Ng(s,t){const e=s.getCode(),i=t.getCode();let a=md(e,i);if(a)return a;let o=null,c=null;for(const f of $C)o||(o=f(s)),c||(c=f(t));if(!o&&!c)return null;const h="EPSG:4326";if(c)if(o)a=pd(o.inverse,c.forward);else{const f=md(e,h);f&&(a=pd(f,c.forward))}else{const f=md(h,i);f&&(a=pd(o.inverse,f))}return a&&(sg(s),sg(t),Ql(s,t,a)),a}function pd(s,t){return function(e,i,a,o){return i=s(e,i,a,o),t(i,i,a,o)}}function sc(s,t){const e=en(s),i=en(t);return Ng(e,i)}function Ig(s,t,e){const i=sc(t,e);if(!i){const a=en(t).getCode(),o=en(e).getCode();throw new Error(`No transform available between ${a} and ${o}`)}return i(s,void 0,s.length)}function rg(s,t){return s}function wi(s,t){return ig&&!ec(s,[0,0])&&s[0]>=-180&&s[0]<=180&&s[1]>=-90&&s[1]<=90&&(ig=!1,M1("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),s}function k1(s,t){return s}function xs(s,t){return s}function sw(){kp(Ap),kp(Op),nw(Op,Ap,NC,IC)}sw();new Array(6);function Bn(){return[1,0,0,1,0,0]}function rw(s,t){return s[0]=t[0],s[1]=t[1],s[2]=t[2],s[3]=t[3],s[4]=t[4],s[5]=t[5],s}function Re(s,t){const e=t[0],i=t[1];return t[0]=s[0]*e+s[2]*i+s[4],t[1]=s[1]*e+s[3]*i+s[5],t}function zi(s,t,e,i,a,o,c,h){const f=Math.sin(o),g=Math.cos(o);return s[0]=i*g,s[1]=a*f,s[2]=-i*f,s[3]=a*g,s[4]=c*i*g-h*i*f+t,s[5]=c*a*f+h*a*g+e,s}function F1(s,t){const e=aw(t);Bt(e!==0,"Transformation matrix cannot be inverted");const i=t[0],a=t[1],o=t[2],c=t[3],h=t[4],f=t[5];return s[0]=c/e,s[1]=-a/e,s[2]=-o/e,s[3]=i/e,s[4]=(o*f-c*h)/e,s[5]=-(i*f-a*h)/e,s}function aw(s){return s[0]*s[3]-s[1]*s[2]}const lw=[1e5,1e5,1e5,1e5,2,2];function ow(s){return"matrix("+s.join(", ")+")"}function Fp(s){return s.substring(7,s.length-1).split(",").map(parseFloat)}function uw(s,t){const e=Fp(s),i=Fp(t);for(let a=0;a<6;++a)if(Math.round((e[a]-i[a])*lw[a])!==0)return!1;return!0}function Ts(s,t,e,i,a,o,c){o=o||[],c=c||2;let h=0;for(let f=t;f<e;f+=i){const g=s[f],m=s[f+1];o[h++]=a[0]*g+a[2]*m+a[4],o[h++]=a[1]*g+a[3]*m+a[5];for(let y=2;y<c;y++)o[h++]=s[f+y]}return o&&o.length!=h&&(o.length=h),o}function j1(s,t,e,i,a,o,c){c=c||[];const h=Math.cos(a),f=Math.sin(a),g=o[0],m=o[1];let y=0;for(let p=t;p<e;p+=i){const x=s[p]-g,E=s[p+1]-m;c[y++]=g+x*h-E*f,c[y++]=m+x*f+E*h;for(let R=p+2;R<p+i;++R)c[y++]=s[R]}return c&&c.length!=y&&(c.length=y),c}function cw(s,t,e,i,a,o,c,h){h=h||[];const f=c[0],g=c[1];let m=0;for(let y=t;y<e;y+=i){const p=s[y]-f,x=s[y+1]-g;h[m++]=f+a*p,h[m++]=g+o*x;for(let E=y+2;E<y+i;++E)h[m++]=s[E]}return h&&h.length!=m&&(h.length=m),h}function hw(s,t,e,i,a,o,c){c=c||[];let h=0;for(let f=t;f<e;f+=i){c[h++]=s[f]+a,c[h++]=s[f+1]+o;for(let g=f+2;g<f+i;++g)c[h++]=s[g]}return c&&c.length!=h&&(c.length=h),c}const jp=Bn(),fw=[NaN,NaN];class dw extends ri{constructor(){super(),this.extent_=An(),this.extentRevision_=-1,this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0,this.simplifyTransformedInternal=g1((t,e,i)=>{if(!i)return this.getSimplifiedGeometry(e);const a=this.clone();return a.applyTransform(i),a.getSimplifiedGeometry(e)})}simplifyTransformed(t,e){return this.simplifyTransformedInternal(this.getRevision(),t,e)}clone(){return It()}closestPointXY(t,e,i,a){return It()}containsXY(t,e){return this.closestPointXY(t,e,fw,Number.MIN_VALUE)===0}getClosestPoint(t,e){return e=e||[NaN,NaN],this.closestPointXY(t[0],t[1],e,1/0),e}intersectsCoordinate(t){return this.containsXY(t[0],t[1])}computeExtent(t){return It()}getExtent(t){if(this.extentRevision_!=this.getRevision()){const e=this.computeExtent(this.extent_);(isNaN(e[0])||isNaN(e[1]))&&Mc(e),this.extentRevision_=this.getRevision()}return bC(this.extent_,t)}rotate(t,e){It()}scale(t,e,i){It()}simplify(t){return this.getSimplifiedGeometry(t*t)}getSimplifiedGeometry(t){return It()}getType(){return It()}applyTransform(t){It()}intersectsExtent(t){return It()}translate(t,e){It()}transform(t,e){const i=en(t),a=i.getUnits()=="tile-pixels"?function(o,c,h){const f=i.getExtent(),g=i.getWorldExtent(),m=Ge(g)/Ge(f);zi(jp,g[0],g[3],m,-m,0,0,0);const y=Ts(o,0,o.length,h,jp,c),p=sc(i,e);return p?p(y,y,h):y}:sc(i,e);return this.applyTransform(a),this}}class kc extends dw{constructor(){super(),this.layout="XY",this.stride=2,this.flatCoordinates}computeExtent(t){return Tg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinates(){return It()}getFirstCoordinate(){return this.flatCoordinates.slice(0,this.stride)}getFlatCoordinates(){return this.flatCoordinates}getLastCoordinate(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}getLayout(){return this.layout}getSimplifiedGeometry(t){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||this.simplifiedGeometryMaxMinSquaredTolerance!==0&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;const e=this.getSimplifiedGeometryInternal(t);return e.getFlatCoordinates().length<this.flatCoordinates.length?e:(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)}getSimplifiedGeometryInternal(t){return this}getStride(){return this.stride}setFlatCoordinates(t,e){this.stride=Up(t),this.layout=t,this.flatCoordinates=e}setCoordinates(t,e){It()}setLayout(t,e,i){let a;if(t)a=Up(t);else{for(let o=0;o<i;++o){if(e.length===0){this.layout="XY",this.stride=2;return}e=e[0]}a=e.length,t=gw(a)}this.layout=t,this.stride=a}applyTransform(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}rotate(t,e){const i=this.getFlatCoordinates();if(i){const a=this.getStride();j1(i,0,i.length,a,t,e,i),this.changed()}}scale(t,e,i){e===void 0&&(e=t),i||(i=lr(this.getExtent()));const a=this.getFlatCoordinates();if(a){const o=this.getStride();cw(a,0,a.length,o,t,e,i,a),this.changed()}}translate(t,e){const i=this.getFlatCoordinates();if(i){const a=this.getStride();hw(i,0,i.length,a,t,e,i),this.changed()}}}function gw(s){let t;return s==2?t="XY":s==3?t="XYZ":s==4&&(t="XYZM"),t}function Up(s){let t;return s=="XY"?t=2:s=="XYZ"||s=="XYM"?t=3:s=="XYZM"&&(t=4),t}function mw(s,t,e){const i=s.getFlatCoordinates();if(!i)return null;const a=s.getStride();return Ts(i,0,i.length,a,t,e)}function U1(s,t,e,i){let a=0;const o=s[e-i],c=s[e-i+1];let h=0,f=0;for(;t<e;t+=i){const g=s[t]-o,m=s[t+1]-c;a+=f*g-h*m,h=g,f=m}return a/2}function _w(s,t,e,i){let a=0;for(let o=0,c=e.length;o<c;++o){const h=e[o];a+=U1(s,t,h,i),t=h}return a}function Bp(s,t,e,i,a,o,c){const h=s[t],f=s[t+1],g=s[e]-h,m=s[e+1]-f;let y;if(g===0&&m===0)y=t;else{const p=((a-h)*g+(o-f)*m)/(g*g+m*m);if(p>1)y=e;else if(p>0){for(let x=0;x<i;++x)c[x]=fn(s[t+x],s[e+x],p);c.length=i;return}else y=t}for(let p=0;p<i;++p)c[p]=s[y+p];c.length=i}function zg(s,t,e,i,a){let o=s[t],c=s[t+1];for(t+=i;t<e;t+=i){const h=s[t],f=s[t+1],g=fa(o,c,h,f);g>a&&(a=g),o=h,c=f}return a}function yw(s,t,e,i,a){for(let o=0,c=e.length;o<c;++o){const h=e[o];a=zg(s,t,h,i,a),t=h}return a}function kg(s,t,e,i,a,o,c,h,f,g,m){if(t==e)return g;let y,p;if(a===0){if(p=fa(c,h,s[t],s[t+1]),p<g){for(y=0;y<i;++y)f[y]=s[t+y];return f.length=i,p}return g}m=m||[NaN,NaN];let x=t+i;for(;x<e;)if(Bp(s,x-i,x,i,c,h,m),p=fa(c,h,m[0],m[1]),p<g){for(g=p,y=0;y<i;++y)f[y]=m[y];f.length=i,x+=i}else x+=i*Math.max((Math.sqrt(p)-Math.sqrt(g))/a|0,1);if(o&&(Bp(s,e-i,t,i,c,h,m),p=fa(c,h,m[0],m[1]),p<g)){for(g=p,y=0;y<i;++y)f[y]=m[y];f.length=i}return g}function pw(s,t,e,i,a,o,c,h,f,g,m){m=m||[NaN,NaN];for(let y=0,p=e.length;y<p;++y){const x=e[y];g=kg(s,t,x,i,a,o,c,h,f,g,m),t=x}return g}function Ew(s,t,e,i){for(let a=0,o=e.length;a<o;++a)s[t++]=e[a];return t}function Fg(s,t,e,i){for(let a=0,o=e.length;a<o;++a){const c=e[a];for(let h=0;h<i;++h)s[t++]=c[h]}return t}function vw(s,t,e,i,a){a=a||[];let o=0;for(let c=0,h=e.length;c<h;++c){const f=Fg(s,t,e[c],i);a[o++]=f,t=f}return a.length=o,a}function $s(s,t,e,i,a){a=a!==void 0?a:[];let o=0;for(let c=t;c<e;c+=i)a[o++]=s.slice(c,c+i);return a.length=o,a}function rc(s,t,e,i,a){a=a!==void 0?a:[];let o=0;for(let c=0,h=e.length;c<h;++c){const f=e[c];a[o++]=$s(s,t,f,i,a[o]),t=f}return a.length=o,a}function Gp(s,t,e,i,a){a=a!==void 0?a:[];let o=0;for(let c=0,h=e.length;c<h;++c){const f=e[c];a[o++]=f.length===1&&f[0]===t?[]:rc(s,t,f,i,a[o]),t=f[f.length-1]}return a.length=o,a}function Fc(s,t,e,i,a,o,c){const h=(e-t)/i;if(h<3){for(;t<e;t+=i)o[c++]=s[t],o[c++]=s[t+1];return c}const f=new Array(h);f[0]=1,f[h-1]=1;const g=[t,e-i];let m=0;for(;g.length>0;){const y=g.pop(),p=g.pop();let x=0;const E=s[p],R=s[p+1],S=s[y],T=s[y+1];for(let C=p+i;C<y;C+=i){const w=s[C],L=s[C+1],A=yC(w,L,E,R,S,T);A>x&&(m=C,x=A)}x>a&&(f[(m-t)/i]=1,p+i<m&&g.push(p,m),m+i<y&&g.push(m,y))}for(let y=0;y<h;++y)f[y]&&(o[c++]=s[t+y*i],o[c++]=s[t+y*i+1]);return c}function xw(s,t,e,i,a,o,c,h){for(let f=0,g=e.length;f<g;++f){const m=e[f];c=Fc(s,t,m,i,a,o,c),h.push(c),t=m}return c}function Ws(s,t){return t*Math.round(s/t)}function Sw(s,t,e,i,a,o,c){if(t==e)return c;let h=Ws(s[t],a),f=Ws(s[t+1],a);t+=i,o[c++]=h,o[c++]=f;let g,m;do if(g=Ws(s[t],a),m=Ws(s[t+1],a),t+=i,t==e)return o[c++]=g,o[c++]=m,c;while(g==h&&m==f);for(;t<e;){const y=Ws(s[t],a),p=Ws(s[t+1],a);if(t+=i,y==g&&p==m)continue;const x=g-h,E=m-f,R=y-h,S=p-f;if(x*S==E*R&&(x<0&&R<x||x==R||x>0&&R>x)&&(E<0&&S<E||E==S||E>0&&S>E)){g=y,m=p;continue}o[c++]=g,o[c++]=m,h=g,f=m,g=y,m=p}return o[c++]=g,o[c++]=m,c}function B1(s,t,e,i,a,o,c,h){for(let f=0,g=e.length;f<g;++f){const m=e[f];c=Sw(s,t,m,i,a,o,c),h.push(c),t=m}return c}class Jl extends kc{constructor(t,e){super(),this.maxDelta_=-1,this.maxDeltaRevision_=-1,e!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}clone(){return new Jl(this.flatCoordinates.slice(),this.layout)}closestPointXY(t,e,i,a){return a<Rg(this.getExtent(),t,e)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(zg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),kg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,i,a))}getArea(){return U1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinates(){return $s(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getSimplifiedGeometryInternal(t){const e=[];return e.length=Fc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new Jl(e,"XY")}getType(){return"LinearRing"}intersectsExtent(t){return!1}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Fg(this.flatCoordinates,0,t,this.stride),this.changed()}}class jc extends kc{constructor(t,e){super(),this.setCoordinates(t,e)}clone(){const t=new jc(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,a){const o=this.flatCoordinates,c=fa(t,e,o[0],o[1]);if(c<a){const h=this.stride;for(let f=0;f<h;++f)i[f]=o[f];return i.length=h,c}return a}getCoordinates(){return this.flatCoordinates.slice()}computeExtent(t){return x1(this.flatCoordinates,t)}getType(){return"Point"}intersectsExtent(t){return v1(t,this.flatCoordinates[0],this.flatCoordinates[1])}setCoordinates(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Ew(this.flatCoordinates,0,t,this.stride),this.changed()}}function bw(s,t,e,i,a){return!b1(a,function(c){return!tr(s,t,e,i,c[0],c[1])})}function tr(s,t,e,i,a,o){let c=0,h=s[e-i],f=s[e-i+1];for(;t<e;t+=i){const g=s[t],m=s[t+1];f<=o?m>o&&(g-h)*(o-f)-(a-h)*(m-f)>0&&c++:m<=o&&(g-h)*(o-f)-(a-h)*(m-f)<0&&c--,h=g,f=m}return c!==0}function G1(s,t,e,i,a,o){if(e.length===0||!tr(s,t,e[0],i,a,o))return!1;for(let c=1,h=e.length;c<h;++c)if(tr(s,e[c-1],e[c],i,a,o))return!1;return!0}function jg(s,t,e,i,a,o,c){let h,f,g,m,y,p,x;const E=a[o+1],R=[];for(let C=0,w=e.length;C<w;++C){const L=e[C];for(m=s[L-i],p=s[L-i+1],h=t;h<L;h+=i)y=s[h],x=s[h+1],(E<=p&&x<=E||p<=E&&E<=x)&&(g=(E-p)/(x-p)*(y-m)+m,R.push(g)),m=y,p=x}let S=NaN,T=-1/0;for(R.sort(Di),m=R[0],h=1,f=R.length;h<f;++h){y=R[h];const C=Math.abs(y-m);C>T&&(g=(m+y)/2,G1(s,t,e,i,g,E)&&(S=g,T=C)),m=y}return isNaN(S)&&(S=a[o]),c?(c.push(S,E,T),c):[S,E,T]}function Rw(s,t,e,i,a){let o=[];for(let c=0,h=e.length;c<h;++c){const f=e[c];o=jg(s,t,f,i,a,2*c,o),t=f[f.length-1]}return o}function P1(s,t,e,i,a){let o;for(t+=i;t<e;t+=i)if(o=a(s.slice(t-i,t),s.slice(t,t+i)),o)return o;return!1}function Ug(s,t,e,i,a,o){return o=o??S1(An(),s,t,e,i),Qe(a,o)?o[0]>=a[0]&&o[2]<=a[2]||o[1]>=a[1]&&o[3]<=a[3]?!0:P1(s,t,e,i,function(c,h){return RC(a,c,h)}):!1}function Y1(s,t,e,i,a){return!!(Ug(s,t,e,i,a)||tr(s,t,e,i,a[0],a[1])||tr(s,t,e,i,a[0],a[3])||tr(s,t,e,i,a[2],a[1])||tr(s,t,e,i,a[2],a[3]))}function Tw(s,t,e,i,a){if(!Y1(s,t,e[0],i,a))return!1;if(e.length===1)return!0;for(let o=1,c=e.length;o<c;++o)if(bw(s,e[o-1],e[o],i,a)&&!Ug(s,e[o-1],e[o],i,a))return!1;return!0}function Cw(s,t,e,i){for(;t<e-i;){for(let a=0;a<i;++a){const o=s[t+a];s[t+a]=s[e-i+a],s[e-i+a]=o}t+=i,e-=i}}function Bg(s,t,e,i){let a=0,o=s[e-i],c=s[e-i+1];for(;t<e;t+=i){const h=s[t],f=s[t+1];a+=(h-o)*(f+c),o=h,c=f}return a===0?void 0:a>0}function ww(s,t,e,i,a){a=a!==void 0?a:!1;for(let o=0,c=e.length;o<c;++o){const h=e[o],f=Bg(s,t,h,i);if(o===0){if(a&&f||!a&&!f)return!1}else if(a&&!f||!a&&f)return!1;t=h}return!0}function Pp(s,t,e,i,a){a=a!==void 0?a:!1;for(let o=0,c=e.length;o<c;++o){const h=e[o],f=Bg(s,t,h,i);(o===0?a&&f||!a&&!f:a&&!f||!a&&f)&&Cw(s,t,h,i),t=h}return t}function Aw(s,t){const e=[];let i=0,a=0,o;for(let c=0,h=t.length;c<h;++c){const f=t[c],g=Bg(s,i,f,2);if(o===void 0&&(o=g),g===o)e.push(t.slice(a,c+1));else{if(e.length===0)continue;e[e.length-1].push(t[a])}a=c+1,i=f}return e}class $l extends kc{constructor(t,e,i){super(),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,e!==void 0&&i?(this.setFlatCoordinates(e,t),this.ends_=i):this.setCoordinates(t,e)}appendLinearRing(t){this.flatCoordinates?Tc(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}clone(){const t=new $l(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return t.applyProperties(this),t}closestPointXY(t,e,i,a){return a<Rg(this.getExtent(),t,e)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(yw(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),pw(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,i,a))}containsXY(t,e){return G1(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)}getArea(){return _w(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}getCoordinates(t){let e;return t!==void 0?(e=this.getOrientedFlatCoordinates().slice(),Pp(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,rc(e,0,this.ends_,this.stride)}getEnds(){return this.ends_}getFlatInteriorPoint(){if(this.flatInteriorPointRevision_!=this.getRevision()){const t=lr(this.getExtent());this.flatInteriorPoint_=jg(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}getInteriorPoint(){return new jc(this.getFlatInteriorPoint(),"XYM")}getLinearRingCount(){return this.ends_.length}getLinearRing(t){return t<0||this.ends_.length<=t?null:new Jl(this.flatCoordinates.slice(t===0?0:this.ends_[t-1],this.ends_[t]),this.layout)}getLinearRings(){const t=this.layout,e=this.flatCoordinates,i=this.ends_,a=[];let o=0;for(let c=0,h=i.length;c<h;++c){const f=i[c],g=new Jl(e.slice(o,f),t);a.push(g),o=f}return a}getOrientedFlatCoordinates(){if(this.orientedRevision_!=this.getRevision()){const t=this.flatCoordinates;ww(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=Pp(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}getSimplifiedGeometryInternal(t){const e=[],i=[];return e.length=B1(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,i),new $l(e,"XY",i)}getType(){return"Polygon"}intersectsExtent(t){return Tw(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)}setCoordinates(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);const i=vw(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=i.length===0?0:i[i.length-1],this.changed()}}function Yp(s){if(Nc(s))throw new Error("Cannot create polygon from empty extent");const t=s[0],e=s[1],i=s[2],a=s[3],o=[t,e,t,a,i,a,i,e,t,e];return new $l(o,"XY",[o.length])}function Gg(s,t,e,i){const a=Xt(t)/e[0],o=Ge(t)/e[1];return i?Math.min(s,Math.max(a,o)):Math.min(s,Math.min(a,o))}function Pg(s,t,e){let i=Math.min(s,t);const a=50;return i*=Math.log(1+a*Math.max(0,s/t-1))/a+1,e&&(i=Math.max(i,e),i/=Math.log(1+a*Math.max(0,e/s-1))/a+1),te(i,e/2,t*2)}function Mw(s,t,e,i){return t=t!==void 0?t:!0,function(a,o,c,h){if(a!==void 0){const f=s[0],g=s[s.length-1],m=e?Gg(f,e,c,i):f;if(h)return t?Pg(a,m,g):te(a,g,m);const y=Math.min(m,a),p=Math.floor(Sg(s,y,o));return s[p]>m&&p<s.length-1?s[p+1]:s[p]}}}function Ow(s,t,e,i,a,o){return i=i!==void 0?i:!0,e=e!==void 0?e:0,function(c,h,f,g){if(c!==void 0){const m=a?Gg(t,a,f,o):t;if(g)return i?Pg(c,m,e):te(c,e,m);const y=1e-9,p=Math.ceil(Math.log(t/m)/Math.log(s)-y),x=-h*(.5-y)+.5,E=Math.min(m,c),R=Math.floor(Math.log(t/E)/Math.log(s)+x),S=Math.max(p,R),T=t/Math.pow(s,S);return te(T,e,m)}}}function Xp(s,t,e,i,a){return e=e!==void 0?e:!0,function(o,c,h,f){if(o!==void 0){const g=i?Gg(s,i,h,a):s;return!e||!f?te(o,t,g):Pg(o,g,t)}}}function Yg(s){if(s!==void 0)return 0}function Hp(s){if(s!==void 0)return s}function Dw(s){const t=2*Math.PI/s;return function(e,i){if(i)return e;if(e!==void 0)return e=Math.floor(e/t+.5)*t,e}}function Lw(s){const t=Rs(5);return function(e,i){return i||e===void 0?e:Math.abs(e)<=t?0:e}}const Nw=42,Xg=256,Ed=0;class ti extends ri{constructor(t){super(),this.on,this.once,this.un,t=Object.assign({},t),this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.projection_=Lg(t.projection,"EPSG:3857"),this.viewportSize_=[100,100],this.targetCenter_=null,this.targetResolution_,this.targetRotation_,this.nextCenter_=null,this.nextResolution_,this.nextRotation_,this.cancelAnchor_=void 0,t.projection&&z1(),t.center&&(t.center=wi(t.center,this.projection_)),t.extent&&(t.extent=xs(t.extent,this.projection_)),this.applyOptions_(t)}applyOptions_(t){const e=Object.assign({},t);for(const h in kn)delete e[h];this.setProperties(e,!0);const i=zw(t);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=t.resolutions,this.padding_=t.padding,this.minZoom_=i.minZoom;const a=Iw(t),o=i.constraint,c=kw(t);this.constraints_={center:a,resolution:o,rotation:c},this.setRotation(t.rotation!==void 0?t.rotation:0),this.setCenterInternal(t.center!==void 0?t.center:null),t.resolution!==void 0?this.setResolution(t.resolution):t.zoom!==void 0&&this.setZoom(t.zoom)}get padding(){return this.padding_}set padding(t){let e=this.padding_;this.padding_=t;const i=this.getCenterInternal();if(i){const a=t||[0,0,0,0];e=e||[0,0,0,0];const o=this.getResolution(),c=o/2*(a[3]-e[3]+e[1]-a[1]),h=o/2*(a[0]-e[0]+e[2]-a[2]);this.setCenterInternal([i[0]+c,i[1]-h])}}getUpdatedOptions_(t){const e=this.getProperties();return e.resolution!==void 0?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenterInternal(),e.rotation=this.getRotation(),Object.assign({},e,t)}animate(t){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);const e=new Array(arguments.length);for(let i=0;i<e.length;++i){let a=arguments[i];a.center&&(a=Object.assign({},a),a.center=wi(a.center,this.getProjection())),a.anchor&&(a=Object.assign({},a),a.anchor=wi(a.anchor,this.getProjection())),e[i]=a}this.animateInternal.apply(this,e)}animateInternal(t){let e=arguments.length,i;e>1&&typeof arguments[e-1]=="function"&&(i=arguments[e-1],--e);let a=0;for(;a<e&&!this.isDef();++a){const m=arguments[a];m.center&&this.setCenterInternal(m.center),m.zoom!==void 0?this.setZoom(m.zoom):m.resolution&&this.setResolution(m.resolution),m.rotation!==void 0&&this.setRotation(m.rotation)}if(a===e){i&&Fu(i,!0);return}let o=Date.now(),c=this.targetCenter_.slice(),h=this.targetResolution_,f=this.targetRotation_;const g=[];for(;a<e;++a){const m=arguments[a],y={start:o,complete:!1,anchor:m.anchor,duration:m.duration!==void 0?m.duration:1e3,easing:m.easing||AC,callback:i};if(m.center&&(y.sourceCenter=c,y.targetCenter=m.center.slice(),c=y.targetCenter),m.zoom!==void 0?(y.sourceResolution=h,y.targetResolution=this.getResolutionForZoom(m.zoom),h=y.targetResolution):m.resolution&&(y.sourceResolution=h,y.targetResolution=m.resolution,h=y.targetResolution),m.rotation!==void 0){y.sourceRotation=f;const p=da(m.rotation-f+Math.PI,2*Math.PI)-Math.PI;y.targetRotation=f+p,f=y.targetRotation}Fw(y)?y.complete=!0:o+=y.duration,g.push(y)}this.animations_.push(g),this.setHint(ke.ANIMATING,1),this.updateAnimations_()}getAnimating(){return this.hints_[ke.ANIMATING]>0}getInteracting(){return this.hints_[ke.INTERACTING]>0}cancelAnimations(){this.setHint(ke.ANIMATING,-this.hints_[ke.ANIMATING]);let t;for(let e=0,i=this.animations_.length;e<i;++e){const a=this.animations_[e];if(a[0].callback&&Fu(a[0].callback,!1),!t)for(let o=0,c=a.length;o<c;++o){const h=a[o];if(!h.complete){t=h.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=t,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}updateAnimations_(){if(this.updateAnimationKey_!==void 0&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),!this.getAnimating())return;const t=Date.now();let e=!1;for(let i=this.animations_.length-1;i>=0;--i){const a=this.animations_[i];let o=!0;for(let c=0,h=a.length;c<h;++c){const f=a[c];if(f.complete)continue;const g=t-f.start;let m=f.duration>0?g/f.duration:1;m>=1?(f.complete=!0,m=1):o=!1;const y=f.easing(m);if(f.sourceCenter){const p=f.sourceCenter[0],x=f.sourceCenter[1],E=f.targetCenter[0],R=f.targetCenter[1];this.nextCenter_=f.targetCenter;const S=p+y*(E-p),T=x+y*(R-x);this.targetCenter_=[S,T]}if(f.sourceResolution&&f.targetResolution){const p=y===1?f.targetResolution:f.sourceResolution+y*(f.targetResolution-f.sourceResolution);if(f.anchor){const x=this.getViewportSize_(this.getRotation()),E=this.constraints_.resolution(p,0,x,!0);this.targetCenter_=this.calculateCenterZoom(E,f.anchor)}this.nextResolution_=f.targetResolution,this.targetResolution_=p,this.applyTargetState_(!0)}if(f.sourceRotation!==void 0&&f.targetRotation!==void 0){const p=y===1?da(f.targetRotation+Math.PI,2*Math.PI)-Math.PI:f.sourceRotation+y*(f.targetRotation-f.sourceRotation);if(f.anchor){const x=this.constraints_.rotation(p,!0);this.targetCenter_=this.calculateCenterRotate(x,f.anchor)}this.nextRotation_=f.targetRotation,this.targetRotation_=p}if(this.applyTargetState_(!0),e=!0,!f.complete)break}if(o){this.animations_[i]=null,this.setHint(ke.ANIMATING,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;const c=a[0].callback;c&&Fu(c,!0)}}this.animations_=this.animations_.filter(Boolean),e&&this.updateAnimationKey_===void 0&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}calculateCenterRotate(t,e){let i;const a=this.getCenterInternal();return a!==void 0&&(i=[a[0]-e[0],a[1]-e[1]],Cg(i,t-this.getRotation()),TC(i,e)),i}calculateCenterZoom(t,e){let i;const a=this.getCenterInternal(),o=this.getResolution();if(a!==void 0&&o!==void 0){const c=e[0]-t*(e[0]-a[0])/o,h=e[1]-t*(e[1]-a[1])/o;i=[c,h]}return i}getViewportSize_(t){const e=this.viewportSize_;if(t){const i=e[0],a=e[1];return[Math.abs(i*Math.cos(t))+Math.abs(a*Math.sin(t)),Math.abs(i*Math.sin(t))+Math.abs(a*Math.cos(t))]}return e}setViewportSize(t){this.viewportSize_=Array.isArray(t)?t.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}getCenter(){const t=this.getCenterInternal();return t&&rg(t,this.getProjection())}getCenterInternal(){return this.get(kn.CENTER)}getConstraints(){return this.constraints_}getConstrainResolution(){return this.get("constrainResolution")}getHints(t){return t!==void 0?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()}calculateExtent(t){const e=this.calculateExtentInternal(t);return k1(e,this.getProjection())}calculateExtentInternal(t){t=t||this.getViewportSizeMinusPadding_();const e=this.getCenterInternal();Bt(e,"The view center is not defined");const i=this.getResolution();Bt(i!==void 0,"The view resolution is not defined");const a=this.getRotation();return Bt(a!==void 0,"The view rotation is not defined"),eg(e,i,a,t)}getMaxResolution(){return this.maxResolution_}getMinResolution(){return this.minResolution_}getMaxZoom(){return this.getZoomForResolution(this.minResolution_)}setMaxZoom(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))}getMinZoom(){return this.getZoomForResolution(this.maxResolution_)}setMinZoom(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))}setConstrainResolution(t){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:t}))}getProjection(){return this.projection_}getResolution(){return this.get(kn.RESOLUTION)}getResolutions(){return this.resolutions_}getResolutionForExtent(t,e){return this.getResolutionForExtentInternal(xs(t,this.getProjection()),e)}getResolutionForExtentInternal(t,e){e=e||this.getViewportSizeMinusPadding_();const i=Xt(t)/e[0],a=Ge(t)/e[1];return Math.max(i,a)}getResolutionForValueFunction(t){t=t||2;const e=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,a=Math.log(e/i)/Math.log(t);return function(o){return e/Math.pow(t,o*a)}}getRotation(){return this.get(kn.ROTATION)}getValueForResolutionFunction(t){const e=Math.log(t||2),i=this.getConstrainedResolution(this.maxResolution_),a=this.minResolution_,o=Math.log(i/a)/e;return function(c){return Math.log(i/c)/e/o}}getViewportSizeMinusPadding_(t){let e=this.getViewportSize_(t);const i=this.padding_;return i&&(e=[e[0]-i[1]-i[3],e[1]-i[0]-i[2]]),e}getState(){const t=this.getProjection(),e=this.getResolution(),i=this.getRotation();let a=this.getCenterInternal();const o=this.padding_;if(o){const c=this.getViewportSizeMinusPadding_();a=vd(a,this.getViewportSize_(),[c[0]/2+o[3],c[1]/2+o[0]],e,i)}return{center:a.slice(0),projection:t!==void 0?t:null,resolution:e,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:i,zoom:this.getZoom()}}getViewStateAndExtent(){return{viewState:this.getState(),extent:this.calculateExtent()}}getZoom(){let t;const e=this.getResolution();return e!==void 0&&(t=this.getZoomForResolution(e)),t}getZoomForResolution(t){let e=this.minZoom_||0,i,a;if(this.resolutions_){const o=Sg(this.resolutions_,t,1);e=o,i=this.resolutions_[o],o==this.resolutions_.length-1?a=2:a=i/this.resolutions_[o+1]}else i=this.maxResolution_,a=this.zoomFactor_;return e+Math.log(i/t)/Math.log(a)}getResolutionForZoom(t){var e;if((e=this.resolutions_)!=null&&e.length){if(this.resolutions_.length===1)return this.resolutions_[0];const i=te(Math.floor(t),0,this.resolutions_.length-2),a=this.resolutions_[i]/this.resolutions_[i+1];return this.resolutions_[i]/Math.pow(a,te(t-i,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,t-this.minZoom_)}fit(t,e){let i;if(Bt(Array.isArray(t)||typeof t.getSimplifiedGeometry=="function","Invalid extent or geometry provided as `geometry`"),Array.isArray(t)){Bt(!Nc(t),"Cannot fit empty extent provided as `geometry`");const a=xs(t,this.getProjection());i=Yp(a)}else if(t.getType()==="Circle"){const a=xs(t.getExtent(),this.getProjection());i=Yp(a),i.rotate(this.getRotation(),lr(a))}else i=t;this.fitInternal(i,e)}rotatedExtentForGeometry(t){const e=this.getRotation(),i=Math.cos(e),a=Math.sin(-e),o=t.getFlatCoordinates(),c=t.getStride();let h=1/0,f=1/0,g=-1/0,m=-1/0;for(let y=0,p=o.length;y<p;y+=c){const x=o[y]*i-o[y+1]*a,E=o[y]*a+o[y+1]*i;h=Math.min(h,x),f=Math.min(f,E),g=Math.max(g,x),m=Math.max(m,E)}return[h,f,g,m]}fitInternal(t,e){e=e||{};let i=e.size;i||(i=this.getViewportSizeMinusPadding_());const a=e.padding!==void 0?e.padding:[0,0,0,0],o=e.nearest!==void 0?e.nearest:!1;let c;e.minResolution!==void 0?c=e.minResolution:e.maxZoom!==void 0?c=this.getResolutionForZoom(e.maxZoom):c=0;const h=this.rotatedExtentForGeometry(t);let f=this.getResolutionForExtentInternal(h,[i[0]-a[1]-a[3],i[1]-a[0]-a[2]]);f=isNaN(f)?c:Math.max(f,c),f=this.getConstrainedResolution(f,o?0:1);const g=this.getRotation(),m=Math.sin(g),y=Math.cos(g),p=lr(h);p[0]+=(a[1]-a[3])/2*f,p[1]+=(a[0]-a[2])/2*f;const x=p[0]*y-p[1]*m,E=p[1]*y+p[0]*m,R=this.getConstrainedCenter([x,E],f),S=e.callback?e.callback:Kl;e.duration!==void 0?this.animateInternal({resolution:f,center:R,duration:e.duration,easing:e.easing},S):(this.targetResolution_=f,this.targetCenter_=R,this.applyTargetState_(!1,!0),Fu(S,!0))}centerOn(t,e,i){this.centerOnInternal(wi(t,this.getProjection()),e,i)}centerOnInternal(t,e,i){this.setCenterInternal(vd(t,e,i,this.getResolution(),this.getRotation()))}calculateCenterShift(t,e,i,a){let o;const c=this.padding_;if(c&&t){const h=this.getViewportSizeMinusPadding_(-i),f=vd(t,a,[h[0]/2+c[3],h[1]/2+c[0]],e,i);o=[t[0]-f[0],t[1]-f[1]]}return o}isDef(){return!!this.getCenterInternal()&&this.getResolution()!==void 0}adjustCenter(t){const e=rg(this.targetCenter_,this.getProjection());this.setCenter([e[0]+t[0],e[1]+t[1]])}adjustCenterInternal(t){const e=this.targetCenter_;this.setCenterInternal([e[0]+t[0],e[1]+t[1]])}adjustResolution(t,e){e=e&&wi(e,this.getProjection()),this.adjustResolutionInternal(t,e)}adjustResolutionInternal(t,e){const i=this.getAnimating()||this.getInteracting(),a=this.getViewportSize_(this.getRotation()),o=this.constraints_.resolution(this.targetResolution_*t,0,a,i);e&&(this.targetCenter_=this.calculateCenterZoom(o,e)),this.targetResolution_*=t,this.applyTargetState_()}adjustZoom(t,e){this.adjustResolution(Math.pow(this.zoomFactor_,-t),e)}adjustRotation(t,e){e&&(e=wi(e,this.getProjection())),this.adjustRotationInternal(t,e)}adjustRotationInternal(t,e){const i=this.getAnimating()||this.getInteracting(),a=this.constraints_.rotation(this.targetRotation_+t,i);e&&(this.targetCenter_=this.calculateCenterRotate(a,e)),this.targetRotation_+=t,this.applyTargetState_()}setCenter(t){this.setCenterInternal(t&&wi(t,this.getProjection()))}setCenterInternal(t){this.targetCenter_=t,this.applyTargetState_()}setHint(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]}setResolution(t){this.targetResolution_=t,this.applyTargetState_()}setRotation(t){this.targetRotation_=t,this.applyTargetState_()}setZoom(t){this.setResolution(this.getResolutionForZoom(t))}applyTargetState_(t,e){const i=this.getAnimating()||this.getInteracting()||e,a=this.constraints_.rotation(this.targetRotation_,i),o=this.getViewportSize_(a),c=this.constraints_.resolution(this.targetResolution_,0,o,i),h=this.constraints_.center(this.targetCenter_,c,o,i,this.calculateCenterShift(this.targetCenter_,c,a,o));this.get(kn.ROTATION)!==a&&this.set(kn.ROTATION,a),this.get(kn.RESOLUTION)!==c&&(this.set(kn.RESOLUTION,c),this.set("zoom",this.getZoom(),!0)),(!h||!this.get(kn.CENTER)||!ec(this.get(kn.CENTER),h))&&this.set(kn.CENTER,h),this.getAnimating()&&!t&&this.cancelAnimations(),this.cancelAnchor_=void 0}resolveConstraints(t,e,i){t=t!==void 0?t:200;const a=e||0,o=this.constraints_.rotation(this.targetRotation_),c=this.getViewportSize_(o),h=this.constraints_.resolution(this.targetResolution_,a,c),f=this.constraints_.center(this.targetCenter_,h,c,!1,this.calculateCenterShift(this.targetCenter_,h,o,c));if(t===0&&!this.cancelAnchor_){this.targetResolution_=h,this.targetRotation_=o,this.targetCenter_=f,this.applyTargetState_();return}i=i||(t===0?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,(this.getResolution()!==h||this.getRotation()!==o||!this.getCenterInternal()||!ec(this.getCenterInternal(),f))&&(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:o,center:f,resolution:h,duration:t,easing:Aa,anchor:i}))}beginInteraction(){this.resolveConstraints(0),this.setHint(ke.INTERACTING,1)}endInteraction(t,e,i){i=i&&wi(i,this.getProjection()),this.endInteractionInternal(t,e,i)}endInteractionInternal(t,e,i){this.getInteracting()&&(this.setHint(ke.INTERACTING,-1),this.resolveConstraints(t,e,i))}getConstrainedCenter(t,e){const i=this.getViewportSize_(this.getRotation());return this.constraints_.center(t,e||this.getResolution(),i)}getConstrainedZoom(t,e){const i=this.getResolutionForZoom(t);return this.getZoomForResolution(this.getConstrainedResolution(i,e))}getConstrainedResolution(t,e){e=e||0;const i=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(t,e,i)}}function Fu(s,t){setTimeout(function(){s(t)},0)}function Iw(s){if(s.extent!==void 0){const e=s.smoothExtentConstraint!==void 0?s.smoothExtentConstraint:!0;return Tp(s.extent,s.constrainOnlyCenter,e)}const t=Lg(s.projection,"EPSG:3857");if(s.multiWorld!==!0&&t.isGlobal()){const e=t.getExtent().slice();return e[0]=-1/0,e[2]=1/0,Tp(e,!1,!1)}return EC}function zw(s){let t,e,i,c=s.minZoom!==void 0?s.minZoom:Ed,h=s.maxZoom!==void 0?s.maxZoom:28;const f=s.zoomFactor!==void 0?s.zoomFactor:2,g=s.multiWorld!==void 0?s.multiWorld:!1,m=s.smoothResolutionConstraint!==void 0?s.smoothResolutionConstraint:!0,y=s.showFullExtent!==void 0?s.showFullExtent:!1,p=Lg(s.projection,"EPSG:3857"),x=p.getExtent();let E=s.constrainOnlyCenter,R=s.extent;if(!g&&!R&&p.isGlobal()&&(E=!1,R=x),s.resolutions!==void 0){const S=s.resolutions;e=S[c],i=S[h]!==void 0?S[h]:S[S.length-1],s.constrainResolution?t=Mw(S,m,!E&&R,y):t=Xp(e,i,m,!E&&R,y)}else{const T=(x?Math.max(Xt(x),Ge(x)):360*wg.degrees/p.getMetersPerUnit())/Xg/Math.pow(2,Ed),C=T/Math.pow(2,28-Ed);e=s.maxResolution,e!==void 0?c=0:e=T/Math.pow(f,c),i=s.minResolution,i===void 0&&(s.maxZoom!==void 0?s.maxResolution!==void 0?i=e/Math.pow(f,h):i=T/Math.pow(f,h):i=C),h=c+Math.floor(Math.log(e/i)/Math.log(f)),i=e/Math.pow(f,h-c),s.constrainResolution?t=Ow(f,e,i,m,!E&&R,y):t=Xp(e,i,m,!E&&R,y)}return{constraint:t,maxResolution:e,minResolution:i,minZoom:c,zoomFactor:f}}function kw(s){if(s.enableRotation!==void 0?s.enableRotation:!0){const e=s.constrainRotation;return e===void 0||e===!0?Lw():e===!1?Hp:typeof e=="number"?Dw(e):Hp}return Yg}function Fw(s){return!(s.sourceCenter&&s.targetCenter&&!ec(s.sourceCenter,s.targetCenter)||s.sourceResolution!==s.targetResolution||s.sourceRotation!==s.targetRotation)}function vd(s,t,e,i,a){const o=Math.cos(-a);let c=Math.sin(-a),h=s[0]*o-s[1]*c,f=s[1]*o+s[0]*c;h+=(t[0]/2-e[0])*i,f+=(e[1]-t[1]/2)*i,c=-c;const g=h*o-f*c,m=f*o+h*c;return[g,m]}const ju="ol-hidden",Uc="ol-unselectable",Hg="ol-control",qp="ol-collapsed",jw=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))",`?\\s*([-,\\"\\'\\sa-z0-9]+?)\\s*$`].join(""),"i"),Zp=["style","variant","weight","size","lineHeight","family"],X1=function(s){const t=s.match(jw);if(!t)return null;const e={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"};for(let i=0,a=Zp.length;i<a;++i){const o=t[i+1];o!==void 0&&(e[Zp[i]]=o)}return e.families=e.family.split(/,\s?/),e};function _e(s,t,e,i){let a;return e&&e.length?a=e.shift():_1?a=new OffscreenCanvas(s||300,t||300):a=document.createElement("canvas"),s&&(a.width=s),t&&(a.height=t),a.getContext("2d",i)}let xd;function ac(){return xd||(xd=_e(1,1)),xd}function Bc(s){const t=s.canvas;t.width=1,t.height=1,s.clearRect(0,0,1,1)}function Vp(s,t){const e=t.parentNode;e&&e.replaceChild(s,t)}function Uw(s){for(;s.lastChild;)s.lastChild.remove()}function Bw(s,t){const e=s.childNodes;for(let i=0;;++i){const a=e[i],o=t[i];if(!a&&!o)break;if(a!==o){if(!a){s.appendChild(o);continue}if(!o){s.removeChild(a),--i;continue}s.insertBefore(o,a)}}}class qg extends ri{constructor(t){super();const e=t.element;e&&!t.target&&!e.style.pointerEvents&&(e.style.pointerEvents="auto"),this.element=e||null,this.target_=null,this.map_=null,this.listenerKeys=[],t.render&&(this.render=t.render),t.target&&this.setTarget(t.target)}disposeInternal(){var t;(t=this.element)==null||t.remove(),super.disposeInternal()}getMap(){return this.map_}setMap(t){var e;this.map_&&((e=this.element)==null||e.remove());for(let i=0,a=this.listenerKeys.length;i<a;++i)Jt(this.listenerKeys[i]);if(this.listenerKeys.length=0,this.map_=t,t){const i=this.target_??t.getOverlayContainerStopEvent();this.element&&i.appendChild(this.element),this.render!==Kl&&this.listenerKeys.push(zt(t,Es.POSTRENDER,this.render,this)),t.render()}}render(t){}setTarget(t){this.target_=typeof t=="string"?document.getElementById(t):t}}class Gw extends qg{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=t.collapsed!==void 0?t.collapsed:!0,this.userCollapsed_=this.collapsed_,this.overrideCollapsible_=t.collapsible!==void 0,this.collapsible_=t.collapsible!==void 0?t.collapsible:!0,this.collapsible_||(this.collapsed_=!1),this.attributions_=t.attributions;const e=t.className!==void 0?t.className:"ol-attribution",i=t.tipLabel!==void 0?t.tipLabel:"Attributions",a=t.expandClassName!==void 0?t.expandClassName:e+"-expand",o=t.collapseLabel!==void 0?t.collapseLabel:"",c=t.collapseClassName!==void 0?t.collapseClassName:e+"-collapse";typeof o=="string"?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o,this.collapseLabel_.className=c):this.collapseLabel_=o;const h=t.label!==void 0?t.label:"i";typeof h=="string"?(this.label_=document.createElement("span"),this.label_.textContent=h,this.label_.className=a):this.label_=h;const f=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_;this.toggleButton_=document.createElement("button"),this.toggleButton_.setAttribute("type","button"),this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_)),this.toggleButton_.title=i,this.toggleButton_.appendChild(f),this.toggleButton_.addEventListener(vt.CLICK,this.handleClick_.bind(this),!1);const g=e+" "+Uc+" "+Hg+(this.collapsed_&&this.collapsible_?" "+qp:"")+(this.collapsible_?"":" ol-uncollapsible"),m=this.element;m.className=g,m.appendChild(this.toggleButton_),m.appendChild(this.ulElement_),this.renderedAttributions_=[],this.renderedVisible_=!0}collectSourceAttributions_(t){const e=this.getMap().getAllLayers(),i=new Set(e.flatMap(a=>a.getAttributions(t)));if(this.attributions_!==void 0&&(Array.isArray(this.attributions_)?this.attributions_.forEach(a=>i.add(a)):i.add(this.attributions_)),!this.overrideCollapsible_){const a=!e.some(o=>{var c;return((c=o.getSource())==null?void 0:c.getAttributionsCollapsible())===!1});this.setCollapsible(a)}return Array.from(i)}async updateElement_(t){if(!t){this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1);return}const e=await Promise.all(this.collectSourceAttributions_(t).map(a=>lC(()=>a))),i=e.length>0;if(this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!As(e,this.renderedAttributions_)){Uw(this.ulElement_);for(let a=0,o=e.length;a<o;++a){const c=document.createElement("li");c.innerHTML=e[a],this.ulElement_.appendChild(c)}this.renderedAttributions_=e}}handleClick_(t){t.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}handleToggle_(){this.element.classList.toggle(qp),this.collapsed_?Vp(this.collapseLabel_,this.label_):Vp(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}getCollapsible(){return this.collapsible_}setCollapsible(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}setCollapsed(t){this.userCollapsed_=t,!(!this.collapsible_||this.collapsed_===t)&&this.handleToggle_()}getCollapsed(){return this.collapsed_}render(t){this.updateElement_(t.frameState)}}class Pw extends qg{constructor(t){t=t||{},super({element:document.createElement("div"),render:t.render,target:t.target});const e=t.className!==void 0?t.className:"ol-rotate",i=t.label!==void 0?t.label:"",a=t.compassClassName!==void 0?t.compassClassName:"ol-compass";this.label_=null,typeof i=="string"?(this.label_=document.createElement("span"),this.label_.className=a,this.label_.textContent=i):(this.label_=i,this.label_.classList.add(a));const o=t.tipLabel?t.tipLabel:"Reset rotation",c=document.createElement("button");c.className=e+"-reset",c.setAttribute("type","button"),c.title=o,c.appendChild(this.label_),c.addEventListener(vt.CLICK,this.handleClick_.bind(this),!1);const h=e+" "+Uc+" "+Hg,f=this.element;f.className=h,f.appendChild(c),this.callResetNorth_=t.resetNorth?t.resetNorth:void 0,this.duration_=t.duration!==void 0?t.duration:250,this.autoHide_=t.autoHide!==void 0?t.autoHide:!0,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(ju)}handleClick_(t){t.preventDefault(),this.callResetNorth_!==void 0?this.callResetNorth_():this.resetNorth_()}resetNorth_(){const e=this.getMap().getView();if(!e)return;const i=e.getRotation();i!==void 0&&(this.duration_>0&&i%(2*Math.PI)!==0?e.animate({rotation:0,duration:this.duration_,easing:Aa}):e.setRotation(0))}render(t){const e=t.frameState;if(!e)return;const i=e.viewState.rotation;if(i!=this.rotation_){const a="rotate("+i+"rad)";if(this.autoHide_){const o=this.element.classList.contains(ju);!o&&i===0?this.element.classList.add(ju):o&&i!==0&&this.element.classList.remove(ju)}this.label_.style.transform=a}this.rotation_=i}}class Yw extends qg{constructor(t){t=t||{},super({element:document.createElement("div"),target:t.target});const e=t.className!==void 0?t.className:"ol-zoom",i=t.delta!==void 0?t.delta:1,a=t.zoomInClassName!==void 0?t.zoomInClassName:e+"-in",o=t.zoomOutClassName!==void 0?t.zoomOutClassName:e+"-out",c=t.zoomInLabel!==void 0?t.zoomInLabel:"+",h=t.zoomOutLabel!==void 0?t.zoomOutLabel:"",f=t.zoomInTipLabel!==void 0?t.zoomInTipLabel:"Zoom in",g=t.zoomOutTipLabel!==void 0?t.zoomOutTipLabel:"Zoom out",m=document.createElement("button");m.className=a,m.setAttribute("type","button"),m.title=f,m.appendChild(typeof c=="string"?document.createTextNode(c):c),m.addEventListener(vt.CLICK,this.handleClick_.bind(this,i),!1);const y=document.createElement("button");y.className=o,y.setAttribute("type","button"),y.title=g,y.appendChild(typeof h=="string"?document.createTextNode(h):h),y.addEventListener(vt.CLICK,this.handleClick_.bind(this,-i),!1);const p=e+" "+Uc+" "+Hg,x=this.element;x.className=p,x.appendChild(m),x.appendChild(y),this.duration_=t.duration!==void 0?t.duration:250}handleClick_(t,e){e.preventDefault(),this.zoomByDelta_(t)}zoomByDelta_(t){const i=this.getMap().getView();if(!i)return;const a=i.getZoom();if(a!==void 0){const o=i.getConstrainedZoom(a+t);this.duration_>0?(i.getAnimating()&&i.cancelAnimations(),i.animate({zoom:o,duration:this.duration_,easing:Aa})):i.setZoom(o)}}}function Xw(s){s=s||{};const t=new ni;return(s.zoom!==void 0?s.zoom:!0)&&t.push(new Yw(s.zoomOptions)),(s.rotate!==void 0?s.rotate:!0)&&t.push(new Pw(s.rotateOptions)),(s.attribution!==void 0?s.attribution:!0)&&t.push(new Gw(s.attributionOptions)),t}class Hw{constructor(t,e,i){this.decay_=t,this.minVelocity_=e,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}begin(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}update(t,e){this.points_.push(t,e,Date.now())}end(){if(this.points_.length<6)return!1;const t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;let i=e-3;for(;i>0&&this.points_[i+2]>t;)i-=3;const a=this.points_[e+2]-this.points_[i+2];if(a<1e3/60)return!1;const o=this.points_[e]-this.points_[i],c=this.points_[e+1]-this.points_[i+1];return this.angle_=Math.atan2(c,o),this.initialVelocity_=Math.sqrt(o*o+c*c)/a,this.initialVelocity_>this.minVelocity_}getDistance(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}getAngle(){return this.angle_}}const Kp={ACTIVE:"active"};class mo extends ri{constructor(t){super(),this.on,this.once,this.un,t&&t.handleEvent&&(this.handleEvent=t.handleEvent),this.map_=null,this.setActive(!0)}getActive(){return this.get(Kp.ACTIVE)}getMap(){return this.map_}handleEvent(t){return!0}setActive(t){this.set(Kp.ACTIVE,t)}setMap(t){this.map_=t}}function qw(s,t,e){const i=s.getCenterInternal();if(i){const a=[i[0]+t[0],i[1]+t[1]];s.animateInternal({duration:e!==void 0?e:250,easing:MC,center:s.getConstrainedCenter(a)})}}function Zg(s,t,e,i){const a=s.getZoom();if(a===void 0)return;const o=s.getConstrainedZoom(a+t),c=s.getResolutionForZoom(o);s.getAnimating()&&s.cancelAnimations(),s.animate({resolution:c,anchor:e,duration:i!==void 0?i:250,easing:Aa})}class Zw extends mo{constructor(t){super(),t=t||{},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:250}handleEvent(t){let e=!1;if(t.type==re.DBLCLICK){const i=t.originalEvent,a=t.map,o=t.coordinate,c=i.shiftKey?-this.delta_:this.delta_,h=a.getView();Zg(h,c,o,this.duration_),i.preventDefault(),e=!0}return!e}}function ag(s){const t=arguments;return function(e){let i=!0;for(let a=0,o=t.length;a<o&&(i=i&&t[a](e),!!i);++a);return i}}const Vw=function(s){const t=s.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},Kw=function(s){const t=s.map.getTargetElement(),e=t.getRootNode(),i=s.map.getOwnerDocument().activeElement;return e instanceof ShadowRoot?e.host.contains(i):t.contains(i)},H1=function(s){const t=s.map.getTargetElement(),e=t.getRootNode();return(e instanceof ShadowRoot?e.host:t).hasAttribute("tabindex")?Kw(s):!0},Ww=Vl,q1=function(s){const t=s.originalEvent;return t instanceof PointerEvent&&t.button==0&&!(hC&&m1&&t.ctrlKey)},Z1=function(s){const t=s.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},Qw=function(s){const t=s.originalEvent;return m1?t.metaKey:t.ctrlKey},Jw=function(s){const t=s.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},V1=function(s){const t=s.originalEvent,e=t.target.tagName;return e!=="INPUT"&&e!=="SELECT"&&e!=="TEXTAREA"&&!t.target.isContentEditable},Sd=function(s){const t=s.originalEvent;return t instanceof PointerEvent&&t.pointerType=="mouse"},$w=function(s){const t=s.originalEvent;return t instanceof PointerEvent&&t.isPrimary&&t.button===0};class _o extends mo{constructor(t){t=t||{},super(t),t.handleDownEvent&&(this.handleDownEvent=t.handleDownEvent),t.handleDragEvent&&(this.handleDragEvent=t.handleDragEvent),t.handleMoveEvent&&(this.handleMoveEvent=t.handleMoveEvent),t.handleUpEvent&&(this.handleUpEvent=t.handleUpEvent),t.stopDown&&(this.stopDown=t.stopDown),this.handlingDownUpSequence=!1,this.targetPointers=[]}getPointerCount(){return this.targetPointers.length}handleDownEvent(t){return!1}handleDragEvent(t){}handleEvent(t){if(!t.originalEvent)return!0;let e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==re.POINTERDRAG)this.handleDragEvent(t),t.originalEvent.preventDefault();else if(t.type==re.POINTERUP){const i=this.handleUpEvent(t);this.handlingDownUpSequence=i&&this.targetPointers.length>0}}else if(t.type==re.POINTERDOWN){const i=this.handleDownEvent(t);this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==re.POINTERMOVE&&this.handleMoveEvent(t);return!e}handleMoveEvent(t){}handleUpEvent(t){return!1}stopDown(t){return t}updateTrackedPointers_(t){t.activePointers&&(this.targetPointers=t.activePointers)}}function Vg(s){const t=s.length;let e=0,i=0;for(let a=0;a<t;a++)e+=s[a].clientX,i+=s[a].clientY;return{clientX:e/t,clientY:i/t}}class tA extends _o{constructor(t){super({stopDown:Cc}),t=t||{},this.kinetic_=t.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1;const e=t.condition?t.condition:ag(Z1,$w);this.condition_=t.onFocusOnly?ag(H1,e):e,this.noKinetic_=!1}handleDragEvent(t){const e=t.map;this.panning_||(this.panning_=!0,e.getView().beginInteraction());const i=this.targetPointers,a=e.getEventPixel(Vg(i));if(i.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(a[0],a[1]),this.lastCentroid){const o=[this.lastCentroid[0]-a[0],a[1]-this.lastCentroid[1]],h=t.map.getView();CC(o,h.getResolution()),Cg(o,h.getRotation()),h.adjustCenterInternal(o)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=a,this.lastPointersCount_=i.length,t.originalEvent.preventDefault()}handleUpEvent(t){const e=t.map,i=e.getView();if(this.targetPointers.length===0){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){const a=this.kinetic_.getDistance(),o=this.kinetic_.getAngle(),c=i.getCenterInternal(),h=e.getPixelFromCoordinateInternal(c),f=e.getCoordinateFromPixelInternal([h[0]-a*Math.cos(o),h[1]-a*Math.sin(o)]);i.animateInternal({center:i.getConstrainedCenter(f),duration:500,easing:Aa})}return this.panning_&&(this.panning_=!1,i.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}handleDownEvent(t){if(this.targetPointers.length>0&&this.condition_(t)){const i=t.map.getView();return this.lastCentroid=null,i.getAnimating()&&i.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}class eA extends _o{constructor(t){t=t||{},super({stopDown:Cc}),this.condition_=t.condition?t.condition:Vw,this.lastAngle_=void 0,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){if(!Sd(t))return;const e=t.map,i=e.getView();if(i.getConstraints().rotation===Yg)return;const a=e.getSize(),o=t.pixel,c=Math.atan2(a[1]/2-o[1],o[0]-a[0]/2);if(this.lastAngle_!==void 0){const h=c-this.lastAngle_;i.adjustRotationInternal(-h)}this.lastAngle_=c}handleUpEvent(t){return Sd(t)?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){return Sd(t)&&q1(t)&&this.condition_(t)?(t.map.getView().beginInteraction(),this.lastAngle_=void 0,!0):!1}}class nA extends Rc{constructor(t){super(),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.style.pointerEvents="auto",this.element_.className="ol-box "+t,this.map_=null,this.startPixel_=null,this.endPixel_=null}disposeInternal(){this.setMap(null)}render_(){const t=this.startPixel_,e=this.endPixel_,i="px",a=this.element_.style;a.left=Math.min(t[0],e[0])+i,a.top=Math.min(t[1],e[1])+i,a.width=Math.abs(e[0]-t[0])+i,a.height=Math.abs(e[1]-t[1])+i}setMap(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);const e=this.element_.style;e.left="inherit",e.top="inherit",e.width="inherit",e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}setPixels(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()}createOrUpdateGeometry(){if(!this.map_)return;const t=this.startPixel_,e=this.endPixel_,a=[t,[t[0],e[1]],e,[e[0],t[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);a[4]=a[0].slice(),this.geometry_?this.geometry_.setCoordinates([a]):this.geometry_=new $l([a])}getGeometry(){return this.geometry_}}const ta={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend",BOXCANCEL:"boxcancel"};class Nl extends Fi{constructor(t,e,i){super(t),this.coordinate=e,this.mapBrowserEvent=i}}class iA extends _o{constructor(t){super(),this.on,this.once,this.un,t=t??{},this.box_=new nA(t.className||"ol-dragbox"),this.minArea_=t.minArea??64,t.onBoxEnd&&(this.onBoxEnd=t.onBoxEnd),this.startPixel_=null,this.condition_=t.condition??q1,this.boxEndCondition_=t.boxEndCondition??this.defaultBoxEndCondition}defaultBoxEndCondition(t,e,i){const a=i[0]-e[0],o=i[1]-e[1];return a*a+o*o>=this.minArea_}getGeometry(){return this.box_.getGeometry()}handleDragEvent(t){this.startPixel_&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Nl(ta.BOXDRAG,t.coordinate,t)))}handleUpEvent(t){if(!this.startPixel_)return!1;const e=this.boxEndCondition_(t,this.startPixel_,t.pixel);return e&&this.onBoxEnd(t),this.dispatchEvent(new Nl(e?ta.BOXEND:ta.BOXCANCEL,t.coordinate,t)),this.box_.setMap(null),this.startPixel_=null,!1}handleDownEvent(t){return this.condition_(t)?(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Nl(ta.BOXSTART,t.coordinate,t)),!0):!1}onBoxEnd(t){}setActive(t){t||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Nl(ta.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setActive(t)}setMap(t){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new Nl(ta.BOXCANCEL,this.startPixel_,null)),this.startPixel_=null)),super.setMap(t)}}class sA extends iA{constructor(t){t=t||{};const e=t.condition?t.condition:Jw;super({condition:e,className:t.className||"ol-dragzoom",minArea:t.minArea}),this.duration_=t.duration!==void 0?t.duration:200,this.out_=t.out!==void 0?t.out:!1}onBoxEnd(t){const i=this.getMap().getView();let a=this.getGeometry();if(this.out_){const o=i.rotatedExtentForGeometry(a),c=i.getResolutionForExtentInternal(o),h=i.getResolution()/c;a=a.clone(),a.scale(h*h)}i.fitInternal(a,{duration:this.duration_,easing:Aa})}}const Ks={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",DOWN:"ArrowDown"};class rA extends mo{constructor(t){super(),t=t||{},this.defaultCondition_=function(e){return Z1(e)&&V1(e)},this.condition_=t.condition!==void 0?t.condition:this.defaultCondition_,this.duration_=t.duration!==void 0?t.duration:100,this.pixelDelta_=t.pixelDelta!==void 0?t.pixelDelta:128}handleEvent(t){let e=!1;if(t.type==vt.KEYDOWN){const i=t.originalEvent,a=i.key;if(this.condition_(t)&&(a==Ks.DOWN||a==Ks.LEFT||a==Ks.RIGHT||a==Ks.UP)){const c=t.map.getView(),h=c.getResolution()*this.pixelDelta_;let f=0,g=0;a==Ks.DOWN?g=-h:a==Ks.LEFT?f=-h:a==Ks.RIGHT?f=h:g=h;const m=[f,g];Cg(m,c.getRotation()),qw(c,m,this.duration_),i.preventDefault(),e=!0}}return!e}}class aA extends mo{constructor(t){super(),t=t||{},this.condition_=t.condition?t.condition:function(e){return!Qw(e)&&V1(e)},this.delta_=t.delta?t.delta:1,this.duration_=t.duration!==void 0?t.duration:100}handleEvent(t){let e=!1;if(t.type==vt.KEYDOWN||t.type==vt.KEYPRESS){const i=t.originalEvent,a=i.key;if(this.condition_(t)&&(a==="+"||a==="-")){const o=t.map,c=a==="+"?this.delta_:-this.delta_,h=o.getView();Zg(h,c,void 0,this.duration_),i.preventDefault(),e=!0}}return!e}}class lA extends mo{constructor(t){t=t||{},super(t),this.totalDelta_=0,this.lastDelta_=0,this.maxDelta_=t.maxDelta!==void 0?t.maxDelta:1,this.duration_=t.duration!==void 0?t.duration:250,this.timeout_=t.timeout!==void 0?t.timeout:80,this.useAnchor_=t.useAnchor!==void 0?t.useAnchor:!0,this.constrainResolution_=t.constrainResolution!==void 0?t.constrainResolution:!1;const e=t.condition?t.condition:Ww;this.condition_=t.onFocusOnly?ag(H1,e):e,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.deltaPerZoom_=300}endInteraction_(){this.trackpadTimeoutId_=void 0;const t=this.getMap();if(!t)return;t.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null)}handleEvent(t){if(!this.condition_(t)||t.type!==vt.WHEEL)return!0;const i=t.map,a=t.originalEvent;a.preventDefault(),this.useAnchor_&&(this.lastAnchor_=t.pixel);let o;if(t.type==vt.WHEEL&&(o=a.deltaY,a.deltaMode===WheelEvent.DOM_DELTA_LINE&&(o*=40)),o===0)return!1;this.lastDelta_=o;const c=Date.now();this.startTime_===void 0&&(this.startTime_=c),(!this.mode_||c-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(o)<4?"trackpad":"wheel");const h=i.getView();if(this.mode_==="trackpad"&&!(h.getConstrainResolution()||this.constrainResolution_))return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(h.getAnimating()&&h.cancelAnimations(),h.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),h.adjustZoom(-o/this.deltaPerZoom_,this.lastAnchor_?i.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=c,!1;this.totalDelta_+=o;const f=Math.max(this.timeout_-(c-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,i),f),!1}handleWheelZoom_(t){const e=t.getView();e.getAnimating()&&e.cancelAnimations();let i=-te(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(e.getConstrainResolution()||this.constrainResolution_)&&(i=i?i>0?1:-1:0),Zg(e,i,this.lastAnchor_?t.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}setMouseAnchor(t){this.useAnchor_=t,t||(this.lastAnchor_=null)}}class oA extends _o{constructor(t){t=t||{};const e=t;e.stopDown||(e.stopDown=Cc),super(e),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=t.threshold!==void 0?t.threshold:.3,this.duration_=t.duration!==void 0?t.duration:250}handleDragEvent(t){let e=0;const i=this.targetPointers[0],a=this.targetPointers[1],o=Math.atan2(a.clientY-i.clientY,a.clientX-i.clientX);if(this.lastAngle_!==void 0){const f=o-this.lastAngle_;this.rotationDelta_+=f,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=f}this.lastAngle_=o;const c=t.map,h=c.getView();h.getConstraints().rotation!==Yg&&(this.anchor_=c.getCoordinateFromPixelInternal(c.getEventPixel(Vg(this.targetPointers))),this.rotating_&&(c.render(),h.adjustRotationInternal(e,this.anchor_)))}handleUpEvent(t){return this.targetPointers.length<2?(t.map.getView().endInteraction(this.duration_),!1):!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}class uA extends _o{constructor(t){t=t||{};const e=t;e.stopDown||(e.stopDown=Cc),super(e),this.anchor_=null,this.duration_=t.duration!==void 0?t.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}handleDragEvent(t){let e=1;const i=this.targetPointers[0],a=this.targetPointers[1],o=i.clientX-a.clientX,c=i.clientY-a.clientY,h=Math.sqrt(o*o+c*c);this.lastDistance_!==void 0&&(e=this.lastDistance_/h),this.lastDistance_=h;const f=t.map,g=f.getView();e!=1&&(this.lastScaleDelta_=e),this.anchor_=f.getCoordinateFromPixelInternal(f.getEventPixel(Vg(this.targetPointers))),f.render(),g.adjustResolutionInternal(e,this.anchor_)}handleUpEvent(t){if(this.targetPointers.length<2){const i=t.map.getView(),a=this.lastScaleDelta_>1?1:-1;return i.endInteraction(this.duration_,a),!1}return!0}handleDownEvent(t){if(this.targetPointers.length>=2){const e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().beginInteraction(),!0}return!1}}function cA(s){s=s||{};const t=new ni,e=new Hw(-.005,.05,100);return(s.altShiftDragRotate!==void 0?s.altShiftDragRotate:!0)&&t.push(new eA),(s.doubleClickZoom!==void 0?s.doubleClickZoom:!0)&&t.push(new Zw({delta:s.zoomDelta,duration:s.zoomDuration})),(s.dragPan!==void 0?s.dragPan:!0)&&t.push(new tA({onFocusOnly:s.onFocusOnly,kinetic:e})),(s.pinchRotate!==void 0?s.pinchRotate:!0)&&t.push(new oA),(s.pinchZoom!==void 0?s.pinchZoom:!0)&&t.push(new uA({duration:s.zoomDuration})),(s.keyboard!==void 0?s.keyboard:!0)&&(t.push(new rA),t.push(new aA({delta:s.zoomDelta,duration:s.zoomDuration}))),(s.mouseWheelZoom!==void 0?s.mouseWheelZoom:!0)&&t.push(new lA({onFocusOnly:s.onFocusOnly,duration:s.zoomDuration})),(s.shiftDragZoom!==void 0?s.shiftDragZoom:!0)&&t.push(new sA({duration:s.zoomDuration})),t}const Yt={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",MAX_ZOOM:"maxZoom",MIN_ZOOM:"minZoom",SOURCE:"source",MAP:"map"};class K1 extends ri{constructor(t){super(),this.on,this.once,this.un,this.background_=t.background;const e=Object.assign({},t);typeof t.properties=="object"&&(delete e.properties,Object.assign(e,t.properties)),e[Yt.OPACITY]=t.opacity!==void 0?t.opacity:1,Bt(typeof e[Yt.OPACITY]=="number","Layer opacity must be a number"),e[Yt.VISIBLE]=t.visible!==void 0?t.visible:!0,e[Yt.Z_INDEX]=t.zIndex,e[Yt.MAX_RESOLUTION]=t.maxResolution!==void 0?t.maxResolution:1/0,e[Yt.MIN_RESOLUTION]=t.minResolution!==void 0?t.minResolution:0,e[Yt.MIN_ZOOM]=t.minZoom!==void 0?t.minZoom:-1/0,e[Yt.MAX_ZOOM]=t.maxZoom!==void 0?t.maxZoom:1/0,this.className_=e.className!==void 0?e.className:"ol-layer",delete e.className,this.setProperties(e),this.state_=null}getBackground(){return this.background_}getClassName(){return this.className_}getLayerState(t){const e=this.state_||{layer:this,managed:t===void 0?!0:t},i=this.getZIndex();return e.opacity=te(Math.round(this.getOpacity()*100)/100,0,1),e.visible=this.getVisible(),e.extent=this.getExtent(),e.zIndex=i===void 0&&!e.managed?1/0:i,e.maxResolution=this.getMaxResolution(),e.minResolution=Math.max(this.getMinResolution(),0),e.minZoom=this.getMinZoom(),e.maxZoom=this.getMaxZoom(),this.state_=e,e}getLayersArray(t){return It()}getLayerStatesArray(t){return It()}getExtent(){return this.get(Yt.EXTENT)}getMaxResolution(){return this.get(Yt.MAX_RESOLUTION)}getMinResolution(){return this.get(Yt.MIN_RESOLUTION)}getMinZoom(){return this.get(Yt.MIN_ZOOM)}getMaxZoom(){return this.get(Yt.MAX_ZOOM)}getOpacity(){return this.get(Yt.OPACITY)}getSourceState(){return It()}getVisible(){return this.get(Yt.VISIBLE)}getZIndex(){return this.get(Yt.Z_INDEX)}setBackground(t){this.background_=t,this.changed()}setExtent(t){this.set(Yt.EXTENT,t)}setMaxResolution(t){this.set(Yt.MAX_RESOLUTION,t)}setMinResolution(t){this.set(Yt.MIN_RESOLUTION,t)}setMaxZoom(t){this.set(Yt.MAX_ZOOM,t)}setMinZoom(t){this.set(Yt.MIN_ZOOM,t)}setOpacity(t){Bt(typeof t=="number","Layer opacity must be a number"),this.set(Yt.OPACITY,t)}setVisible(t){this.set(Yt.VISIBLE,t)}setZIndex(t){this.set(Yt.Z_INDEX,t)}disposeInternal(){this.state_&&(this.state_.layer=null,this.state_=null),super.disposeInternal()}}class vs extends Fi{constructor(t,e){super(t),this.layer=e}}const bd={LAYERS:"layers"};class Ma extends K1{constructor(t){t=t||{};const e=Object.assign({},t);delete e.layers;let i=t.layers;super(e),this.on,this.once,this.un,this.layersListenerKeys_=[],this.listenerKeys_={},this.addChangeListener(bd.LAYERS,this.handleLayersChanged_),i?Array.isArray(i)?i=new ni(i.slice(),{unique:!0}):Bt(typeof i.getArray=="function","Expected `layers` to be an array or a `Collection`"):i=new ni(void 0,{unique:!0}),this.setLayers(i)}handleLayerChange_(){this.changed()}handleLayersChanged_(){this.layersListenerKeys_.forEach(Jt),this.layersListenerKeys_.length=0;const t=this.getLayers();this.layersListenerKeys_.push(zt(t,Ve.ADD,this.handleLayersAdd_,this),zt(t,Ve.REMOVE,this.handleLayersRemove_,this));for(const i in this.listenerKeys_)this.listenerKeys_[i].forEach(Jt);ho(this.listenerKeys_);const e=t.getArray();for(let i=0,a=e.length;i<a;i++){const o=e[i];this.registerLayerListeners_(o),this.dispatchEvent(new vs("addlayer",o))}this.changed()}registerLayerListeners_(t){const e=[zt(t,ya.PROPERTYCHANGE,this.handleLayerChange_,this),zt(t,vt.CHANGE,this.handleLayerChange_,this)];t instanceof Ma&&e.push(zt(t,"addlayer",this.handleLayerGroupAdd_,this),zt(t,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[jt(t)]=e}handleLayerGroupAdd_(t){this.dispatchEvent(new vs("addlayer",t.layer))}handleLayerGroupRemove_(t){this.dispatchEvent(new vs("removelayer",t.layer))}handleLayersAdd_(t){const e=t.element;this.registerLayerListeners_(e),this.dispatchEvent(new vs("addlayer",e)),this.changed()}handleLayersRemove_(t){const e=t.element,i=jt(e);this.listenerKeys_[i].forEach(Jt),delete this.listenerKeys_[i],this.dispatchEvent(new vs("removelayer",e)),this.changed()}getLayers(){return this.get(bd.LAYERS)}setLayers(t){const e=this.getLayers();if(e){const i=e.getArray();for(let a=0,o=i.length;a<o;++a)this.dispatchEvent(new vs("removelayer",i[a]))}this.set(bd.LAYERS,t)}getLayersArray(t){return t=t!==void 0?t:[],this.getLayers().forEach(function(e){e.getLayersArray(t)}),t}getLayerStatesArray(t){const e=t!==void 0?t:[],i=e.length;this.getLayers().forEach(function(c){c.getLayerStatesArray(e)});const a=this.getLayerState();let o=a.zIndex;!t&&a.zIndex===void 0&&(o=0);for(let c=i,h=e.length;c<h;c++){const f=e[c];f.opacity*=a.opacity,f.visible=f.visible&&a.visible,f.maxResolution=Math.min(f.maxResolution,a.maxResolution),f.minResolution=Math.max(f.minResolution,a.minResolution),f.minZoom=Math.max(f.minZoom,a.minZoom),f.maxZoom=Math.min(f.maxZoom,a.maxZoom),a.extent!==void 0&&(f.extent!==void 0?f.extent=sr(f.extent,a.extent):f.extent=a.extent),f.zIndex===void 0&&(f.zIndex=o)}return e}getSourceState(){return"ready"}}const Tn={PRERENDER:"prerender",POSTRENDER:"postrender",PRECOMPOSE:"precompose",POSTCOMPOSE:"postcompose",RENDERCOMPLETE:"rendercomplete"};class Gc extends K1{constructor(t){const e=Object.assign({},t);delete e.source,super(e),this.on,this.once,this.un,this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,this.renderer_=null,this.sourceReady_=!1,this.rendered=!1,t.render&&(this.render=t.render),t.map&&this.setMap(t.map),this.addChangeListener(Yt.SOURCE,this.handleSourcePropertyChange_);const i=t.source?t.source:null;this.setSource(i)}getLayersArray(t){return t=t||[],t.push(this),t}getLayerStatesArray(t){return t=t||[],t.push(this.getLayerState()),t}getSource(){return this.get(Yt.SOURCE)||null}getRenderSource(){return this.getSource()}getSourceState(){const t=this.getSource();return t?t.getState():"undefined"}handleSourceChange_(){this.changed(),!(this.sourceReady_||this.getSource().getState()!=="ready")&&(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}handleSourcePropertyChange_(){this.sourceChangeKey_&&(Jt(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;const t=this.getSource();t&&(this.sourceChangeKey_=zt(t,vt.CHANGE,this.handleSourceChange_,this),t.getState()==="ready"&&(this.sourceReady_=!0,setTimeout(()=>{this.dispatchEvent("sourceready")},0)),this.clearRenderer()),this.changed()}getFeatures(t){return this.renderer_?this.renderer_.getFeatures(t):Promise.resolve([])}getData(t){return!this.renderer_||!this.rendered?null:this.renderer_.getData(t)}isVisible(t){let e;const i=this.getMapInternal();!t&&i&&(t=i.getView()),t instanceof ti?e={viewState:t.getState(),extent:t.calculateExtent()}:e=t,!e.layerStatesArray&&i&&(e.layerStatesArray=i.getLayerGroup().getLayerStatesArray());let a;if(e.layerStatesArray){if(a=e.layerStatesArray.find(c=>c.layer===this),!a)return!1}else a=this.getLayerState();const o=this.getExtent();return Kg(a,e.viewState)&&(!o||Qe(o,e.extent))}getAttributions(t){var o;if(!this.isVisible(t))return[];const e=(o=this.getSource())==null?void 0:o.getAttributions();if(!e)return[];const i=t instanceof ti?t.getViewStateAndExtent():t;let a=e(i);return Array.isArray(a)||(a=[a]),a}render(t,e){const i=this.getRenderer();return i.prepareFrame(t)?(this.rendered=!0,i.renderFrame(t,e)):null}unrender(){this.rendered=!1}getDeclutter(){}renderDeclutter(t,e){}renderDeferred(t){const e=this.getRenderer();e&&e.renderDeferred(t)}setMapInternal(t){t||this.unrender(),this.set(Yt.MAP,t)}getMapInternal(){return this.get(Yt.MAP)}setMap(t){this.mapPrecomposeKey_&&(Jt(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(Jt(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=zt(t,Tn.PRECOMPOSE,this.handlePrecompose_,this),this.mapRenderKey_=zt(this,vt.CHANGE,t.render,t),this.changed())}handlePrecompose_(t){const e=t.frameState.layerStatesArray,i=this.getLayerState(!1);Bt(!e.some(a=>a.layer===i.layer),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),e.push(i)}setSource(t){this.set(Yt.SOURCE,t)}getRenderer(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}hasRenderer(){return!!this.renderer_}createRenderer(){return null}clearRenderer(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}disposeInternal(){this.clearRenderer(),this.setSource(null),super.disposeInternal()}}function Kg(s,t){if(!s.visible)return!1;const e=t.resolution;if(e<s.minResolution||e>=s.maxResolution)return!1;const i=t.zoom;return i>s.minZoom&&i<=s.maxZoom}function W1(s,t,e=0,i=s.length-1,a=hA){for(;i>e;){if(i-e>600){const f=i-e+1,g=t-e+1,m=Math.log(f),y=.5*Math.exp(2*m/3),p=.5*Math.sqrt(m*y*(f-y)/f)*(g-f/2<0?-1:1),x=Math.max(e,Math.floor(t-g*y/f+p)),E=Math.min(i,Math.floor(t+(f-g)*y/f+p));W1(s,t,x,E,a)}const o=s[t];let c=e,h=i;for(Il(s,e,t),a(s[i],o)>0&&Il(s,e,i);c<h;){for(Il(s,c,h),c++,h--;a(s[c],o)<0;)c++;for(;a(s[h],o)>0;)h--}a(s[e],o)===0?Il(s,e,h):(h++,Il(s,h,i)),h<=t&&(e=h+1),t<=h&&(i=h-1)}}function Il(s,t,e){const i=s[t];s[t]=s[e],s[e]=i}function hA(s,t){return s<t?-1:s>t?1:0}let Q1=class{constructor(t=9){this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(t){let e=this.data;const i=[];if(!Bu(t,e))return i;const a=this.toBBox,o=[];for(;e;){for(let c=0;c<e.children.length;c++){const h=e.children[c],f=e.leaf?a(h):h;Bu(t,f)&&(e.leaf?i.push(h):Td(t,f)?this._all(h,i):o.push(h))}e=o.pop()}return i}collides(t){let e=this.data;if(!Bu(t,e))return!1;const i=[];for(;e;){for(let a=0;a<e.children.length;a++){const o=e.children[a],c=e.leaf?this.toBBox(o):o;if(Bu(t,c)){if(e.leaf||Td(t,c))return!0;i.push(o)}}e=i.pop()}return!1}load(t){if(!(t&&t.length))return this;if(t.length<this._minEntries){for(let i=0;i<t.length;i++)this.insert(t[i]);return this}let e=this._build(t.slice(),0,t.length-1,0);if(!this.data.children.length)this.data=e;else if(this.data.height===e.height)this._splitRoot(this.data,e);else{if(this.data.height<e.height){const i=this.data;this.data=e,e=i}this._insert(e,this.data.height-e.height-1,!0)}return this}insert(t){return t&&this._insert(t,this.data.height-1),this}clear(){return this.data=la([]),this}remove(t,e){if(!t)return this;let i=this.data;const a=this.toBBox(t),o=[],c=[];let h,f,g;for(;i||o.length;){if(i||(i=o.pop(),f=o[o.length-1],h=c.pop(),g=!0),i.leaf){const m=fA(t,i.children,e);if(m!==-1)return i.children.splice(m,1),o.push(i),this._condense(o),this}!g&&!i.leaf&&Td(i,a)?(o.push(i),c.push(h),h=0,f=i,i=i.children[0]):f?(h++,i=f.children[h],g=!1):i=null}return this}toBBox(t){return t}compareMinX(t,e){return t.minX-e.minX}compareMinY(t,e){return t.minY-e.minY}toJSON(){return this.data}fromJSON(t){return this.data=t,this}_all(t,e){const i=[];for(;t;)t.leaf?e.push(...t.children):i.push(...t.children),t=i.pop();return e}_build(t,e,i,a){const o=i-e+1;let c=this._maxEntries,h;if(o<=c)return h=la(t.slice(e,i+1)),ea(h,this.toBBox),h;a||(a=Math.ceil(Math.log(o)/Math.log(c)),c=Math.ceil(o/Math.pow(c,a-1))),h=la([]),h.leaf=!1,h.height=a;const f=Math.ceil(o/c),g=f*Math.ceil(Math.sqrt(c));Wp(t,e,i,g,this.compareMinX);for(let m=e;m<=i;m+=g){const y=Math.min(m+g-1,i);Wp(t,m,y,f,this.compareMinY);for(let p=m;p<=y;p+=f){const x=Math.min(p+f-1,y);h.children.push(this._build(t,p,x,a-1))}}return ea(h,this.toBBox),h}_chooseSubtree(t,e,i,a){for(;a.push(e),!(e.leaf||a.length-1===i);){let o=1/0,c=1/0,h;for(let f=0;f<e.children.length;f++){const g=e.children[f],m=Rd(g),y=mA(t,g)-m;y<c?(c=y,o=m<o?m:o,h=g):y===c&&m<o&&(o=m,h=g)}e=h||e.children[0]}return e}_insert(t,e,i){const a=i?t:this.toBBox(t),o=[],c=this._chooseSubtree(a,this.data,e,o);for(c.children.push(t),Ul(c,a);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(a,o,e)}_split(t,e){const i=t[e],a=i.children.length,o=this._minEntries;this._chooseSplitAxis(i,o,a);const c=this._chooseSplitIndex(i,o,a),h=la(i.children.splice(c,i.children.length-c));h.height=i.height,h.leaf=i.leaf,ea(i,this.toBBox),ea(h,this.toBBox),e?t[e-1].children.push(h):this._splitRoot(i,h)}_splitRoot(t,e){this.data=la([t,e]),this.data.height=t.height+1,this.data.leaf=!1,ea(this.data,this.toBBox)}_chooseSplitIndex(t,e,i){let a,o=1/0,c=1/0;for(let h=e;h<=i-e;h++){const f=jl(t,0,h,this.toBBox),g=jl(t,h,i,this.toBBox),m=_A(f,g),y=Rd(f)+Rd(g);m<o?(o=m,a=h,c=y<c?y:c):m===o&&y<c&&(c=y,a=h)}return a||i-e}_chooseSplitAxis(t,e,i){const a=t.leaf?this.compareMinX:dA,o=t.leaf?this.compareMinY:gA,c=this._allDistMargin(t,e,i,a),h=this._allDistMargin(t,e,i,o);c<h&&t.children.sort(a)}_allDistMargin(t,e,i,a){t.children.sort(a);const o=this.toBBox,c=jl(t,0,e,o),h=jl(t,i-e,i,o);let f=Uu(c)+Uu(h);for(let g=e;g<i-e;g++){const m=t.children[g];Ul(c,t.leaf?o(m):m),f+=Uu(c)}for(let g=i-e-1;g>=e;g--){const m=t.children[g];Ul(h,t.leaf?o(m):m),f+=Uu(h)}return f}_adjustParentBBoxes(t,e,i){for(let a=i;a>=0;a--)Ul(e[a],t)}_condense(t){for(let e=t.length-1,i;e>=0;e--)t[e].children.length===0?e>0?(i=t[e-1].children,i.splice(i.indexOf(t[e]),1)):this.clear():ea(t[e],this.toBBox)}};function fA(s,t,e){if(!e)return t.indexOf(s);for(let i=0;i<t.length;i++)if(e(s,t[i]))return i;return-1}function ea(s,t){jl(s,0,s.children.length,t,s)}function jl(s,t,e,i,a){a||(a=la(null)),a.minX=1/0,a.minY=1/0,a.maxX=-1/0,a.maxY=-1/0;for(let o=t;o<e;o++){const c=s.children[o];Ul(a,s.leaf?i(c):c)}return a}function Ul(s,t){return s.minX=Math.min(s.minX,t.minX),s.minY=Math.min(s.minY,t.minY),s.maxX=Math.max(s.maxX,t.maxX),s.maxY=Math.max(s.maxY,t.maxY),s}function dA(s,t){return s.minX-t.minX}function gA(s,t){return s.minY-t.minY}function Rd(s){return(s.maxX-s.minX)*(s.maxY-s.minY)}function Uu(s){return s.maxX-s.minX+(s.maxY-s.minY)}function mA(s,t){return(Math.max(t.maxX,s.maxX)-Math.min(t.minX,s.minX))*(Math.max(t.maxY,s.maxY)-Math.min(t.minY,s.minY))}function _A(s,t){const e=Math.max(s.minX,t.minX),i=Math.max(s.minY,t.minY),a=Math.min(s.maxX,t.maxX),o=Math.min(s.maxY,t.maxY);return Math.max(0,a-e)*Math.max(0,o-i)}function Td(s,t){return s.minX<=t.minX&&s.minY<=t.minY&&t.maxX<=s.maxX&&t.maxY<=s.maxY}function Bu(s,t){return t.minX<=s.maxX&&t.minY<=s.maxY&&t.maxX>=s.minX&&t.maxY>=s.minY}function la(s){return{children:s,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Wp(s,t,e,i,a){const o=[t,e];for(;o.length;){if(e=o.pop(),t=o.pop(),e-t<=i)continue;const c=t+Math.ceil((e-t)/i/2)*i;W1(s,c,t,e,a),o.push(t,c,c,e)}}const Wg=[NaN,NaN,NaN,0];let Cd;function yA(){return Cd||(Cd=_e(1,1,void 0,{willReadFrequently:!0,desynchronized:!0})),Cd}const pA=/^rgba?\(\s*(\d+%?)\s+(\d+%?)\s+(\d+%?)(?:\s*\/\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,EA=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,vA=/^rgba?\(\s*(\d+%)\s*,\s*(\d+%)\s*,\s*(\d+%)(?:\s*,\s*(\d+%|\d*\.\d+|[01]))?\s*\)$/i,xA=/^#([\da-f]{3,4}|[\da-f]{6}|[\da-f]{8})$/i;function Gu(s,t){return s.endsWith("%")?Number(s.substring(0,s.length-1))/t:Number(s)}function Hl(s){throw new Error('failed to parse "'+s+'" as color')}function J1(s){if(s.toLowerCase().startsWith("rgb")){const o=s.match(EA)||s.match(pA)||s.match(vA);if(o){const c=o[4],h=100/255;return[te(Gu(o[1],h)+.5|0,0,255),te(Gu(o[2],h)+.5|0,0,255),te(Gu(o[3],h)+.5|0,0,255),c!==void 0?te(Gu(c,100),0,1):1]}Hl(s)}if(s.startsWith("#")){if(xA.test(s)){const o=s.substring(1),c=o.length<=4?1:2,h=[0,0,0,255];for(let f=0,g=o.length;f<g;f+=c){let m=parseInt(o.substring(f,f+c),16);c===1&&(m+=m<<4),h[f/c]=m}return h[3]=h[3]/255,h}Hl(s)}const t=yA();t.fillStyle="#abcdef";let e=t.fillStyle;t.fillStyle=s,t.fillStyle===e&&(t.fillStyle="#fedcba",e=t.fillStyle,t.fillStyle=s,t.fillStyle===e&&Hl(s));const i=t.fillStyle;if(i.startsWith("#")||i.startsWith("rgba"))return J1(i);t.clearRect(0,0,1,1),t.fillRect(0,0,1,1);const a=Array.from(t.getImageData(0,0,1,1).data);return a[3]=Ac(a[3]/255,3),a}function SA(s){return typeof s=="string"?s:Jg(s)}const bA=1024,zl={};let wd=0;function RA(s){if(s.length===4)return s;const t=s.slice();return t[3]=1,t}function Ad(s){return s>.0031308?Math.pow(s,1/2.4)*269.025-14.025:s*3294.6}function Md(s){return s>.2068965?Math.pow(s,3):(s-4/29)*(108/841)}function Od(s){return s>10.314724?Math.pow((s+14.025)/269.025,2.4):s/3294.6}function Dd(s){return s>.0088564?Math.pow(s,1/3):s/(108/841)+4/29}function Qp(s){const t=Od(s[0]),e=Od(s[1]),i=Od(s[2]),a=Dd(t*.222488403+e*.716873169+i*.06060791),o=500*(Dd(t*.452247074+e*.399439023+i*.148375274)-a),c=200*(a-Dd(t*.016863605+e*.117638439+i*.865350722)),h=Math.atan2(c,o)*(180/Math.PI);return[116*a-16,Math.sqrt(o*o+c*c),h<0?h+360:h,s[3]]}function TA(s){const t=(s[0]+16)/116,e=s[1],i=s[2]*Math.PI/180,a=Md(t),o=Md(t+e/500*Math.cos(i)),c=Md(t-e/200*Math.sin(i)),h=Ad(o*3.021973625-a*1.617392459-c*.404875592),f=Ad(o*-.943766287+a*1.916279586+c*.027607165),g=Ad(o*.069407491-a*.22898585+c*1.159737864);return[te(h+.5|0,0,255),te(f+.5|0,0,255),te(g+.5|0,0,255),s[3]]}function Qg(s){if(s==="none")return Wg;if(zl.hasOwnProperty(s))return zl[s];if(wd>=bA){let e=0;for(const i in zl)(e++&3)===0&&(delete zl[i],--wd)}const t=J1(s);t.length!==4&&Hl(s);for(const e of t)isNaN(e)&&Hl(s);return zl[s]=t,++wd,t}function xa(s){return Array.isArray(s)?s:Qg(s)}function Jg(s){let t=s[0];t!=(t|0)&&(t=t+.5|0);let e=s[1];e!=(e|0)&&(e=e+.5|0);let i=s[2];i!=(i|0)&&(i=i+.5|0);const a=s[3]===void 0?1:Math.round(s[3]*1e3)/1e3;return"rgba("+t+","+e+","+i+","+a+")"}function Jp(s){return s[0]>0&&s[1]>0}function CA(s,t,e){return e===void 0&&(e=[0,0]),e[0]=s[0]*t+.5|0,e[1]=s[1]*t+.5|0,e}function $e(s,t){return Array.isArray(s)?s:(t===void 0?t=[s,s]:(t[0]=s,t[1]=s),t)}let fr=0;const Be=1<<fr++,Dt=1<<fr++,Ke=1<<fr++,jn=1<<fr++,or=1<<fr++,Bl=1<<fr++,Pu=Math.pow(2,fr)-1,$g={[Be]:"boolean",[Dt]:"number",[Ke]:"string",[jn]:"color",[or]:"number[]",[Bl]:"size"},wA=Object.keys($g).map(Number).sort(Di);function AA(s){return s in $g}function Gl(s){const t=[];for(const e of wA)Pl(s,e)&&t.push($g[e]);return t.length===0?"untyped":t.length<3?t.join(" or "):t.slice(0,-1).join(", ")+", or "+t[t.length-1]}function Pl(s,t){return(s&t)===t}function ds(s,t){return s===t}class me{constructor(t,e){if(!AA(t))throw new Error(`literal expressions must have a specific type, got ${Gl(t)}`);this.type=t,this.value=e}}class MA{constructor(t,e,...i){this.type=t,this.operator=e,this.args=i}}function $1(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1,mapState:!1}}function Oe(s,t,e){switch(typeof s){case"boolean":{if(ds(t,Ke))return new me(Ke,s?"true":"false");if(!Pl(t,Be))throw new Error(`got a boolean, but expected ${Gl(t)}`);return new me(Be,s)}case"number":{if(ds(t,Bl))return new me(Bl,$e(s));if(ds(t,Be))return new me(Be,!!s);if(ds(t,Ke))return new me(Ke,s.toString());if(!Pl(t,Dt))throw new Error(`got a number, but expected ${Gl(t)}`);return new me(Dt,s)}case"string":{if(ds(t,jn))return new me(jn,Qg(s));if(ds(t,Be))return new me(Be,!!s);if(!Pl(t,Ke))throw new Error(`got a string, but expected ${Gl(t)}`);return new me(Ke,s)}}if(!Array.isArray(s))throw new Error("expression must be an array or a primitive value");if(s.length===0)throw new Error("empty expression");if(typeof s[0]=="string")return BA(s,t,e);for(const i of s)if(typeof i!="number")throw new Error("expected an array of numbers");if(ds(t,Bl)){if(s.length!==2)throw new Error(`expected an array of two values for a size, got ${s.length}`);return new me(Bl,s)}if(ds(t,jn)){if(s.length===3)return new me(jn,[...s,1]);if(s.length===4)return new me(jn,s);throw new Error(`expected an array of 3 or 4 values for a color, got ${s.length}`)}if(!Pl(t,or))throw new Error(`got an array of numbers, but expected ${Gl(t)}`);return new me(or,s)}const V={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},OA={[V.Get]:Et(bt(1,1/0),$p),[V.Var]:Et(bt(1,1),DA),[V.Has]:Et(bt(1,1/0),$p),[V.Id]:Et(LA,na),[V.Concat]:Et(bt(2,1/0),Ft(Ke)),[V.GeometryType]:Et(NA,na),[V.LineMetric]:Et(na),[V.Resolution]:Et(Ld,na),[V.Zoom]:Et(Ld,na),[V.Time]:Et(Ld,na),[V.Any]:Et(bt(2,1/0),Ft(Be)),[V.All]:Et(bt(2,1/0),Ft(Be)),[V.Not]:Et(bt(1,1),Ft(Be)),[V.Equal]:Et(bt(2,2),Ft(Pu)),[V.NotEqual]:Et(bt(2,2),Ft(Pu)),[V.GreaterThan]:Et(bt(2,2),Ft(Dt)),[V.GreaterThanOrEqualTo]:Et(bt(2,2),Ft(Dt)),[V.LessThan]:Et(bt(2,2),Ft(Dt)),[V.LessThanOrEqualTo]:Et(bt(2,2),Ft(Dt)),[V.Multiply]:Et(bt(2,1/0),tE),[V.Coalesce]:Et(bt(2,1/0),tE),[V.Divide]:Et(bt(2,2),Ft(Dt)),[V.Add]:Et(bt(2,1/0),Ft(Dt)),[V.Subtract]:Et(bt(2,2),Ft(Dt)),[V.Clamp]:Et(bt(3,3),Ft(Dt)),[V.Mod]:Et(bt(2,2),Ft(Dt)),[V.Pow]:Et(bt(2,2),Ft(Dt)),[V.Abs]:Et(bt(1,1),Ft(Dt)),[V.Floor]:Et(bt(1,1),Ft(Dt)),[V.Ceil]:Et(bt(1,1),Ft(Dt)),[V.Round]:Et(bt(1,1),Ft(Dt)),[V.Sin]:Et(bt(1,1),Ft(Dt)),[V.Cos]:Et(bt(1,1),Ft(Dt)),[V.Atan]:Et(bt(1,2),Ft(Dt)),[V.Sqrt]:Et(bt(1,1),Ft(Dt)),[V.Match]:Et(bt(4,1/0),eE,zA),[V.Between]:Et(bt(3,3),Ft(Dt)),[V.Interpolate]:Et(bt(6,1/0),eE,kA),[V.Case]:Et(bt(3,1/0),IA,FA),[V.In]:Et(bt(2,2),jA),[V.Number]:Et(bt(1,1/0),Ft(Pu)),[V.String]:Et(bt(1,1/0),Ft(Pu)),[V.Array]:Et(bt(1,1/0),Ft(Dt)),[V.Color]:Et(bt(1,4),Ft(Dt)),[V.Band]:Et(bt(1,3),Ft(Dt)),[V.Palette]:Et(bt(2,2),UA),[V.ToString]:Et(bt(1,1),Ft(Be|Dt|Ke|jn))};function $p(s,t,e){const i=s.length-1,a=new Array(i);for(let o=0;o<i;++o){const c=s[o+1];switch(typeof c){case"number":{a[o]=new me(Dt,c);break}case"string":{a[o]=new me(Ke,c);break}default:throw new Error(`expected a string key or numeric array index for a get operation, got ${c}`)}o===0&&e.properties.add(String(c))}return a}function DA(s,t,e){const i=s[1];if(typeof i!="string")throw new Error("expected a string argument for var operation");return e.variables.add(i),[new me(Ke,i)]}function LA(s,t,e){e.featureId=!0}function NA(s,t,e){e.geometryType=!0}function Ld(s,t,e){e.mapState=!0}function na(s,t,e){const i=s[0];if(s.length!==1)throw new Error(`expected no arguments for ${i} operation`);return[]}function bt(s,t){return function(e,i,a){const o=e[0],c=e.length-1;if(s===t){if(c!==s){const h=s===1?"":"s";throw new Error(`expected ${s} argument${h} for ${o}, got ${c}`)}}else if(c<s||c>t){const h=t===1/0?`${s} or more`:`${s} to ${t}`;throw new Error(`expected ${h} arguments for ${o}, got ${c}`)}}}function tE(s,t,e){const i=s.length-1,a=new Array(i);for(let o=0;o<i;++o){const c=Oe(s[o+1],t,e);a[o]=c}return a}function Ft(s){return function(t,e,i){const a=t.length-1,o=new Array(a);for(let c=0;c<a;++c){const h=Oe(t[c+1],s,i);o[c]=h}return o}}function IA(s,t,e){const i=s[0],a=s.length-1;if(a%2===0)throw new Error(`expected an odd number of arguments for ${i}, got ${a} instead`)}function eE(s,t,e){const i=s[0],a=s.length-1;if(a%2===1)throw new Error(`expected an even number of arguments for operation ${i}, got ${a} instead`)}function zA(s,t,e){const i=s.length-1,a=Ke|Dt|Be,o=Oe(s[1],a,e),c=Oe(s[s.length-1],t,e),h=new Array(i-2);for(let f=0;f<i-2;f+=2){try{const g=Oe(s[f+2],o.type,e);h[f]=g}catch(g){throw new Error(`failed to parse argument ${f+1} of match expression: ${g.message}`)}try{const g=Oe(s[f+3],c.type,e);h[f+1]=g}catch(g){throw new Error(`failed to parse argument ${f+2} of match expression: ${g.message}`)}}return[o,...h,c]}function kA(s,t,e){const i=s[1];let a;switch(i[0]){case"linear":a=1;break;case"exponential":const f=i[1];if(typeof f!="number"||f<=0)throw new Error(`expected a number base for exponential interpolation, got ${JSON.stringify(f)} instead`);a=f;break;default:throw new Error(`invalid interpolation type: ${JSON.stringify(i)}`)}const o=new me(Dt,a);let c;try{c=Oe(s[2],Dt,e)}catch(f){throw new Error(`failed to parse argument 1 in interpolate expression: ${f.message}`)}const h=new Array(s.length-3);for(let f=0;f<h.length;f+=2){try{const g=Oe(s[f+3],Dt,e);h[f]=g}catch(g){throw new Error(`failed to parse argument ${f+2} for interpolate expression: ${g.message}`)}try{const g=Oe(s[f+4],t,e);h[f+1]=g}catch(g){throw new Error(`failed to parse argument ${f+3} for interpolate expression: ${g.message}`)}}return[o,c,...h]}function FA(s,t,e){const i=Oe(s[s.length-1],t,e),a=new Array(s.length-1);for(let o=0;o<a.length-1;o+=2){try{const c=Oe(s[o+1],Be,e);a[o]=c}catch(c){throw new Error(`failed to parse argument ${o} of case expression: ${c.message}`)}try{const c=Oe(s[o+2],i.type,e);a[o+1]=c}catch(c){throw new Error(`failed to parse argument ${o+1} of case expression: ${c.message}`)}}return a[a.length-1]=i,a}function jA(s,t,e){let i=s[2];if(!Array.isArray(i))throw new Error('the second argument for the "in" operator must be an array');let a;if(typeof i[0]=="string"){if(i[0]!=="literal")throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(i[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');i=i[1],a=Ke}else a=Dt;const o=new Array(i.length);for(let h=0;h<o.length;h++)try{const f=Oe(i[h],a,e);o[h]=f}catch(f){throw new Error(`failed to parse haystack item ${h} for "in" expression: ${f.message}`)}return[Oe(s[1],a,e),...o]}function UA(s,t,e){let i;try{i=Oe(s[1],Dt,e)}catch(c){throw new Error(`failed to parse first argument in palette expression: ${c.message}`)}const a=s[2];if(!Array.isArray(a))throw new Error("the second argument of palette must be an array");const o=new Array(a.length);for(let c=0;c<o.length;c++){let h;try{h=Oe(a[c],jn,e)}catch(f){throw new Error(`failed to parse color at index ${c} in palette expression: ${f.message}`)}if(!(h instanceof me))throw new Error(`the palette color at index ${c} must be a literal value`);o[c]=h}return[i,...o]}function Et(...s){return function(t,e,i){const a=t[0];let o;for(let c=0;c<s.length;c++){const h=s[c](t,e,i);if(c==s.length-1){if(!h)throw new Error("expected last argument validator to return the parsed args");o=h}}return new MA(e,a,...o)}}function BA(s,t,e){const i=s[0],a=OA[i];if(!a)throw new Error(`unknown operator: ${i}`);return a(s,t,e)}function tv(s){if(!s)return"";const t=s.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return tv(s.getGeometries()[0]);default:return""}}function ev(){return{variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""}}function ji(s,t,e){const i=Oe(s,t,e);return Pn(i)}function Pn(s,t){if(s instanceof me){if(s.type===jn&&typeof s.value=="string"){const i=Qg(s.value);return function(){return i}}return function(){return s.value}}const e=s.operator;switch(e){case V.Number:case V.String:case V.Coalesce:return GA(s);case V.Get:case V.Var:case V.Has:return PA(s);case V.Id:return i=>i.featureId;case V.GeometryType:return i=>i.geometryType;case V.Concat:{const i=s.args.map(a=>Pn(a));return a=>"".concat(...i.map(o=>o(a).toString()))}case V.Resolution:return i=>i.resolution;case V.Any:case V.All:case V.Between:case V.In:case V.Not:return XA(s);case V.Equal:case V.NotEqual:case V.LessThan:case V.LessThanOrEqualTo:case V.GreaterThan:case V.GreaterThanOrEqualTo:return YA(s);case V.Multiply:case V.Divide:case V.Add:case V.Subtract:case V.Clamp:case V.Mod:case V.Pow:case V.Abs:case V.Floor:case V.Ceil:case V.Round:case V.Sin:case V.Cos:case V.Atan:case V.Sqrt:return HA(s);case V.Case:return qA(s);case V.Match:return ZA(s);case V.Interpolate:return VA(s);case V.ToString:return KA(s);default:throw new Error(`Unsupported operator ${e}`)}}function GA(s,t){const e=s.operator,i=s.args.length,a=new Array(i);for(let o=0;o<i;++o)a[o]=Pn(s.args[o]);switch(e){case V.Coalesce:return o=>{for(let c=0;c<i;++c){const h=a[c](o);if(typeof h<"u"&&h!==null)return h}throw new Error("Expected one of the values to be non-null")};case V.Number:case V.String:return o=>{for(let c=0;c<i;++c){const h=a[c](o);if(typeof h===e)return h}throw new Error(`Expected one of the values to be a ${e}`)};default:throw new Error(`Unsupported assertion operator ${e}`)}}function PA(s,t){const i=s.args[0].value;switch(s.operator){case V.Get:return a=>{const o=s.args;let c=a.properties[i];for(let h=1,f=o.length;h<f;++h){const m=o[h].value;c=c[m]}return c};case V.Var:return a=>a.variables[i];case V.Has:return a=>{const o=s.args;if(!(i in a.properties))return!1;let c=a.properties[i];for(let h=1,f=o.length;h<f;++h){const m=o[h].value;if(!c||!Object.hasOwn(c,m))return!1;c=c[m]}return!0};default:throw new Error(`Unsupported accessor operator ${s.operator}`)}}function YA(s,t){const e=s.operator,i=Pn(s.args[0]),a=Pn(s.args[1]);switch(e){case V.Equal:return o=>i(o)===a(o);case V.NotEqual:return o=>i(o)!==a(o);case V.LessThan:return o=>i(o)<a(o);case V.LessThanOrEqualTo:return o=>i(o)<=a(o);case V.GreaterThan:return o=>i(o)>a(o);case V.GreaterThanOrEqualTo:return o=>i(o)>=a(o);default:throw new Error(`Unsupported comparison operator ${e}`)}}function XA(s,t){const e=s.operator,i=s.args.length,a=new Array(i);for(let o=0;o<i;++o)a[o]=Pn(s.args[o]);switch(e){case V.Any:return o=>{for(let c=0;c<i;++c)if(a[c](o))return!0;return!1};case V.All:return o=>{for(let c=0;c<i;++c)if(!a[c](o))return!1;return!0};case V.Between:return o=>{const c=a[0](o),h=a[1](o),f=a[2](o);return c>=h&&c<=f};case V.In:return o=>{const c=a[0](o);for(let h=1;h<i;++h)if(c===a[h](o))return!0;return!1};case V.Not:return o=>!a[0](o);default:throw new Error(`Unsupported logical operator ${e}`)}}function HA(s,t){const e=s.operator,i=s.args.length,a=new Array(i);for(let o=0;o<i;++o)a[o]=Pn(s.args[o]);switch(e){case V.Multiply:return o=>{let c=1;for(let h=0;h<i;++h)c*=a[h](o);return c};case V.Divide:return o=>a[0](o)/a[1](o);case V.Add:return o=>{let c=0;for(let h=0;h<i;++h)c+=a[h](o);return c};case V.Subtract:return o=>a[0](o)-a[1](o);case V.Clamp:return o=>{const c=a[0](o),h=a[1](o);if(c<h)return h;const f=a[2](o);return c>f?f:c};case V.Mod:return o=>a[0](o)%a[1](o);case V.Pow:return o=>Math.pow(a[0](o),a[1](o));case V.Abs:return o=>Math.abs(a[0](o));case V.Floor:return o=>Math.floor(a[0](o));case V.Ceil:return o=>Math.ceil(a[0](o));case V.Round:return o=>Math.round(a[0](o));case V.Sin:return o=>Math.sin(a[0](o));case V.Cos:return o=>Math.cos(a[0](o));case V.Atan:return i===2?o=>Math.atan2(a[0](o),a[1](o)):o=>Math.atan(a[0](o));case V.Sqrt:return o=>Math.sqrt(a[0](o));default:throw new Error(`Unsupported numeric operator ${e}`)}}function qA(s,t){const e=s.args.length,i=new Array(e);for(let a=0;a<e;++a)i[a]=Pn(s.args[a]);return a=>{for(let o=0;o<e-1;o+=2)if(i[o](a))return i[o+1](a);return i[e-1](a)}}function ZA(s,t){const e=s.args.length,i=new Array(e);for(let a=0;a<e;++a)i[a]=Pn(s.args[a]);return a=>{const o=i[0](a);for(let c=1;c<e-1;c+=2)if(o===i[c](a))return i[c+1](a);return i[e-1](a)}}function VA(s,t){const e=s.args.length,i=new Array(e);for(let a=0;a<e;++a)i[a]=Pn(s.args[a]);return a=>{const o=i[0](a),c=i[1](a);let h,f;for(let g=2;g<e;g+=2){const m=i[g](a);let y=i[g+1](a);const p=Array.isArray(y);if(p&&(y=RA(y)),m>=c)return g===2?y:p?WA(o,c,h,f,m,y):Yl(o,c,h,f,m,y);h=m,f=y}return f}}function KA(s,t){const e=s.operator,i=s.args.length,a=new Array(i);for(let o=0;o<i;++o)a[o]=Pn(s.args[o]);switch(e){case V.ToString:return o=>{const c=a[0](o);return s.args[0].type===jn?Jg(c):c.toString()};default:throw new Error(`Unsupported convert operator ${e}`)}}function Yl(s,t,e,i,a,o){const c=a-e;if(c===0)return i;const h=t-e,f=s===1?h/c:(Math.pow(s,h)-1)/(Math.pow(s,c)-1);return i+f*(o-i)}function WA(s,t,e,i,a,o){if(a-e===0)return i;const h=Qp(i),f=Qp(o);let g=f[2]-h[2];g>180?g-=360:g<-180&&(g+=360);const m=[Yl(s,t,e,h[0],a,f[0]),Yl(s,t,e,h[1],a,f[1]),h[2]+Yl(s,t,e,0,a,g),Yl(s,t,e,i[3],a,o[3])];return TA(m)}const Rt={IDLE:0,LOADING:1,LOADED:2,ERROR:3};function QA(s,t,e){const i=s;let a=!0,o=!1,c=!1;const h=[$u(i,vt.LOAD,function(){c=!0,o||t()})];return i.src&&y1?(o=!0,i.decode().then(function(){a&&t()}).catch(function(f){a&&(c?t():e())})):h.push($u(i,vt.ERROR,e)),function(){a=!1,h.forEach(Jt)}}function JA(s,t){return new Promise((e,i)=>{function a(){c(),e(s)}function o(){c(),i(new Error("Image load error"))}function c(){s.removeEventListener("load",a),s.removeEventListener("error",o)}s.addEventListener("load",a),s.addEventListener("error",o)})}function $A(s,t){return t&&(s.src=t),s.src&&y1?new Promise((e,i)=>s.decode().then(()=>e(s)).catch(a=>s.complete&&s.width?e(s):i(a))):JA(s)}class t2{constructor(){this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}clear(){this.cache_={},this.patternCache_={},this.cacheSize_=0}canExpireCache(){return this.cacheSize_>this.maxCacheSize_}expire(){if(this.canExpireCache()){let t=0;for(const e in this.cache_){const i=this.cache_[e];(t++&3)===0&&!i.hasListener()&&(delete this.cache_[e],delete this.patternCache_[e],--this.cacheSize_)}}}get(t,e,i){const a=Nd(t,e,i);return a in this.cache_?this.cache_[a]:null}getPattern(t,e,i){const a=Nd(t,e,i);return a in this.patternCache_?this.patternCache_[a]:null}set(t,e,i,a,o){const c=Nd(t,e,i),h=c in this.cache_;this.cache_[c]=a,o&&(a.getImageState()===Rt.IDLE&&a.load(),a.getImageState()===Rt.LOADING?a.ready().then(()=>{this.patternCache_[c]=ac().createPattern(a.getImage(1),"repeat")}):this.patternCache_[c]=ac().createPattern(a.getImage(1),"repeat")),h||++this.cacheSize_}setSize(t){this.maxCacheSize_=t,this.expire()}}function Nd(s,t,e){const i=e?xa(e):"null";return t+":"+s+":"+i}const Cn=new t2;let kl=null;class nv extends wc{constructor(t,e,i,a,o){super(),this.hitDetectionImage_=null,this.image_=t,this.crossOrigin_=i,this.canvas_={},this.color_=o,this.imageState_=a===void 0?Rt.IDLE:a,this.size_=t&&t.width&&t.height?[t.width,t.height]:null,this.src_=e,this.tainted_,this.ready_=null}initializeImage_(){this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)}isTainted_(){if(this.tainted_===void 0&&this.imageState_===Rt.LOADED){kl||(kl=_e(1,1,void 0,{willReadFrequently:!0})),kl.drawImage(this.image_,0,0);try{kl.getImageData(0,0,1,1),this.tainted_=!1}catch{kl=null,this.tainted_=!0}}return this.tainted_===!0}dispatchChangeEvent_(){this.dispatchEvent(vt.CHANGE)}handleImageError_(){this.imageState_=Rt.ERROR,this.dispatchChangeEvent_()}handleImageLoad_(){this.imageState_=Rt.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}getImage(t){return this.image_||this.initializeImage_(),this.replaceColor_(t),this.canvas_[t]?this.canvas_[t]:this.image_}getPixelRatio(t){return this.replaceColor_(t),this.canvas_[t]?t:1}getImageState(){return this.imageState_}getHitDetectionImage(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){const t=this.size_[0],e=this.size_[1],i=_e(t,e);i.fillRect(0,0,t,e),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}getSize(){return this.size_}getSrc(){return this.src_}load(){if(this.imageState_===Rt.IDLE){this.image_||this.initializeImage_(),this.imageState_=Rt.LOADING;try{this.src_!==void 0&&(this.image_.src=this.src_)}catch{this.handleImageError_()}this.image_ instanceof HTMLImageElement&&$A(this.image_,this.src_).then(t=>{this.image_=t,this.handleImageLoad_()}).catch(this.handleImageError_.bind(this))}}replaceColor_(t){if(!this.color_||this.canvas_[t]||this.imageState_!==Rt.LOADED)return;const e=this.image_,i=_e(Math.ceil(e.width*t),Math.ceil(e.height*t)),a=i.canvas;i.scale(t,t),i.drawImage(e,0,0),i.globalCompositeOperation="multiply",i.fillStyle=SA(this.color_),i.fillRect(0,0,a.width/t,a.height/t),i.globalCompositeOperation="destination-in",i.drawImage(e,0,0),this.canvas_[t]=a}ready(){return this.ready_||(this.ready_=new Promise(t=>{if(this.imageState_===Rt.LOADED||this.imageState_===Rt.ERROR)t();else{const e=()=>{(this.imageState_===Rt.LOADED||this.imageState_===Rt.ERROR)&&(this.removeEventListener(vt.CHANGE,e),t())};this.addEventListener(vt.CHANGE,e)}})),this.ready_}}function tm(s,t,e,i,a,o){let c=t===void 0?void 0:Cn.get(t,e,a);return c||(c=new nv(s,s&&"src"in s?s.src||void 0:t,e,i,a),Cn.set(t,e,a,c,o)),o&&c&&!Cn.getPattern(t,e,a)&&Cn.set(t,e,a,c,o),c}function ii(s){return s?Array.isArray(s)?Jg(s):typeof s=="object"&&"src"in s?e2(s):s:null}function e2(s){if(!s.offset||!s.size)return Cn.getPattern(s.src,"anonymous",s.color);const t=s.src+":"+s.offset,e=Cn.getPattern(t,void 0,s.color);if(e)return e;const i=Cn.get(s.src,"anonymous",null);if(i.getImageState()!==Rt.LOADED)return null;const a=_e(s.size[0],s.size[1]);return a.drawImage(i.getImage(1),s.offset[0],s.offset[1],s.size[0],s.size[1],0,0,s.size[0],s.size[1]),tm(a.canvas,t,void 0,Rt.LOADED,s.color,!0),Cn.getPattern(t,void 0,s.color)}const iv="10px sans-serif",We="#000",Sa="round",Li=[],Ni=0,ba="round",to=10,eo="#000",no="center",lc="middle",er=[0,0,0,0],io=1,Ai=new ri;let oa=null,lg;const og={},n2=function(){const t="32px ",e=["monospace","serif"],i=e.length,a="wmytzilWMYTZIL@#/&?$%10";let o,c;function h(g,m,y){let p=!0;for(let x=0;x<i;++x){const E=e[x];if(c=oc(g+" "+m+" "+t+E,a),y!=E){const R=oc(g+" "+m+" "+t+y+","+E,a);p=p&&R!=c}}return!!p}function f(){let g=!0;const m=Ai.getKeys();for(let y=0,p=m.length;y<p;++y){const x=m[y];if(Ai.get(x)<100){const[E,R,S]=x.split(`
`);h(E,R,S)?(ho(og),oa=null,lg=void 0,Ai.set(x,100)):(Ai.set(x,Ai.get(x)+1,!0),g=!1)}}g&&(clearInterval(o),o=void 0)}return function(g){const m=X1(g);if(!m)return;const y=m.families;for(let p=0,x=y.length;p<x;++p){const E=y[p],R=m.style+`
`+m.weight+`
`+E;Ai.get(R)===void 0&&(Ai.set(R,100,!0),h(m.style,m.weight,E)||(Ai.set(R,0,!0),o===void 0&&(o=setInterval(f,32))))}}}(),i2=function(){let s;return function(t){let e=og[t];if(e==null){if(_1){const i=X1(t),a=sv(t,"g");e=(isNaN(Number(i.lineHeight))?1.2:Number(i.lineHeight))*(a.actualBoundingBoxAscent+a.actualBoundingBoxDescent)}else s||(s=document.createElement("div"),s.innerHTML="M",s.style.minHeight="0",s.style.maxHeight="none",s.style.height="auto",s.style.padding="0",s.style.border="none",s.style.position="absolute",s.style.display="block",s.style.left="-99999px"),s.style.font=t,document.body.appendChild(s),e=s.offsetHeight,document.body.removeChild(s);og[t]=e}return e}}();function sv(s,t){return oa||(oa=_e(1,1)),s!=lg&&(oa.font=s,lg=oa.font),oa.measureText(t)}function oc(s,t){return sv(s,t).width}function nE(s,t,e){if(t in e)return e[t];const i=t.split(`
`).reduce((a,o)=>Math.max(a,oc(s,o)),0);return e[t]=i,i}function s2(s,t){const e=[],i=[],a=[];let o=0,c=0,h=0,f=0;for(let g=0,m=t.length;g<=m;g+=2){const y=t[g];if(y===`
`||g===m){o=Math.max(o,c),a.push(c),c=0,h+=f,f=0;continue}const p=t[g+1]||s.font,x=oc(p,y);e.push(x),c+=x;const E=i2(p);i.push(E),f=Math.max(f,E)}return{width:o,height:h,widths:e,heights:i,lineWidths:a}}function r2(s,t,e,i,a,o,c,h,f,g,m){s.save(),e!==1&&(s.globalAlpha===void 0?s.globalAlpha=y=>y.globalAlpha*=e:s.globalAlpha*=e),t&&s.transform.apply(s,t),i.contextInstructions?(s.translate(f,g),s.scale(m[0],m[1]),a2(i,s)):m[0]<0||m[1]<0?(s.translate(f,g),s.scale(m[0],m[1]),s.drawImage(i,a,o,c,h,0,0,c,h)):s.drawImage(i,a,o,c,h,f,g,c*m[0],h*m[1]),s.restore()}function a2(s,t){const e=s.contextInstructions;for(let i=0,a=e.length;i<a;i+=2)Array.isArray(e[i+1])?t[e[i]].apply(t,e[i+1]):t[e[i]]=e[i+1]}class Pc{constructor(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=$e(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new Pc({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getOpacity(){return this.opacity_}getRotateWithView(){return this.rotateWithView_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getDisplacement(){return this.displacement_}getDeclutterMode(){return this.declutterMode_}getAnchor(){return It()}getImage(t){return It()}getHitDetectionImage(){return It()}getPixelRatio(t){return 1}getImageState(){return It()}getImageSize(){return It()}getOrigin(){return It()}getSize(){return It()}setDisplacement(t){this.displacement_=t}setOpacity(t){this.opacity_=t}setRotateWithView(t){this.rotateWithView_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=$e(t)}listenImageChange(t){It()}load(){It()}unlistenImageChange(t){It()}ready(){return Promise.resolve()}}class Yc extends Pc{constructor(t){super({opacity:1,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,rotation:t.rotation!==void 0?t.rotation:0,scale:t.scale!==void 0?t.scale:1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode}),this.hitDetectionCanvas_=null,this.fill_=t.fill!==void 0?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius=t.radius,this.radius2_=t.radius2,this.angle_=t.angle!==void 0?t.angle:0,this.stroke_=t.stroke!==void 0?t.stroke:null,this.size_,this.renderOptions_,this.imageState_=this.fill_&&this.fill_.loading()?Rt.LOADING:Rt.LOADED,this.imageState_===Rt.LOADING&&this.ready().then(()=>this.imageState_=Rt.LOADED),this.render()}clone(){const t=this.getScale(),e=new Yc({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(t)?t.slice():t,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}getAnchor(){const t=this.size_,e=this.getDisplacement(),i=this.getScaleArray();return[t[0]/2-e[0]/i[0],t[1]/2+e[1]/i[1]]}getAngle(){return this.angle_}getFill(){return this.fill_}setFill(t){this.fill_=t,this.render()}getHitDetectionImage(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}getImage(t){var o,c;const e=(o=this.fill_)==null?void 0:o.getKey(),i=`${t},${this.angle_},${this.radius},${this.radius2_},${this.points_},${e}`+Object.values(this.renderOptions_).join(",");let a=(c=Cn.get(i,null,null))==null?void 0:c.getImage(1);if(!a){const h=this.renderOptions_,f=Math.ceil(h.size*t),g=_e(f,f);this.draw_(h,g,t),a=g.canvas,Cn.set(i,null,null,new nv(a,void 0,null,Rt.LOADED,null))}return a}getPixelRatio(t){return t}getImageSize(){return this.size_}getImageState(){return this.imageState_}getOrigin(){return this.origin_}getPoints(){return this.points_}getRadius(){return this.radius}getRadius2(){return this.radius2_}getSize(){return this.size_}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t,this.render()}listenImageChange(t){}load(){}unlistenImageChange(t){}calculateLineJoinSize_(t,e,i){if(e===0||this.points_===1/0||t!=="bevel"&&t!=="miter")return e;let a=this.radius,o=this.radius2_===void 0?a:this.radius2_;if(a<o){const G=a;a=o,o=G}const c=this.radius2_===void 0?this.points_:this.points_*2,h=2*Math.PI/c,f=o*Math.sin(h),g=Math.sqrt(o*o-f*f),m=a-g,y=Math.sqrt(f*f+m*m),p=y/f;if(t==="miter"&&p<=i)return p*e;const x=e/2/p,E=e/2*(m/y),S=Math.sqrt((a+x)*(a+x)+E*E)-a;if(this.radius2_===void 0||t==="bevel")return S*2;const T=a*Math.sin(h),C=Math.sqrt(a*a-T*T),w=o-C,A=Math.sqrt(T*T+w*w)/T;if(A<=i){const G=A*e/2-o-a;return 2*Math.max(S,G)}return S*2}createRenderOptions(){let t=Sa,e=ba,i=0,a=null,o=0,c,h=0;this.stroke_&&(c=ii(this.stroke_.getColor()??eo),h=this.stroke_.getWidth()??io,a=this.stroke_.getLineDash(),o=this.stroke_.getLineDashOffset()??0,e=this.stroke_.getLineJoin()??ba,t=this.stroke_.getLineCap()??Sa,i=this.stroke_.getMiterLimit()??to);const f=this.calculateLineJoinSize_(e,h,i),g=Math.max(this.radius,this.radius2_||0),m=Math.ceil(2*g+f);return{strokeStyle:c,strokeWidth:h,size:m,lineCap:t,lineDash:a,lineDashOffset:o,lineJoin:e,miterLimit:i}}render(){this.renderOptions_=this.createRenderOptions();const t=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[t,t]}draw_(t,e,i){if(e.scale(i,i),e.translate(t.size/2,t.size/2),this.createPath_(e),this.fill_){let a=this.fill_.getColor();a===null&&(a=We),e.fillStyle=ii(a),e.fill()}t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}createHitDetectionCanvas_(t){let e;if(this.fill_){let i=this.fill_.getColor(),a=0;typeof i=="string"&&(i=xa(i)),i===null?a=1:Array.isArray(i)&&(a=i.length===4?i[3]:1),a===0&&(e=_e(t.size,t.size),this.drawHitDetectionCanvas_(t,e))}return e?e.canvas:this.getImage(1)}createPath_(t){let e=this.points_;const i=this.radius;if(e===1/0)t.arc(0,0,i,0,2*Math.PI);else{const a=this.radius2_===void 0?i:this.radius2_;this.radius2_!==void 0&&(e*=2);const o=this.angle_-Math.PI/2,c=2*Math.PI/e;for(let h=0;h<e;h++){const f=o+h*c,g=h%2===0?i:a;t.lineTo(g*Math.cos(f),g*Math.sin(f))}t.closePath()}}drawHitDetectionCanvas_(t,e){e.translate(t.size/2,t.size/2),this.createPath_(e),e.fillStyle=We,e.fill(),t.strokeStyle&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke())}ready(){return this.fill_?this.fill_.ready():Promise.resolve()}}class Ra extends Yc{constructor(t){t=t||{radius:5},super({points:1/0,fill:t.fill,radius:t.radius,stroke:t.stroke,scale:t.scale!==void 0?t.scale:1,rotation:t.rotation!==void 0?t.rotation:0,rotateWithView:t.rotateWithView!==void 0?t.rotateWithView:!1,displacement:t.displacement!==void 0?t.displacement:[0,0],declutterMode:t.declutterMode})}clone(){const t=this.getScale(),e=new Ra({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return e.setOpacity(this.getOpacity()),e}setRadius(t){this.radius=t,this.render()}}class ur{constructor(t){t=t||{},this.patternImage_=null,this.color_=null,t.color!==void 0&&this.setColor(t.color)}clone(){const t=this.getColor();return new ur({color:Array.isArray(t)?t.slice():t||void 0})}getColor(){return this.color_}setColor(t){if(t!==null&&typeof t=="object"&&"src"in t){const e=tm(null,t.src,"anonymous",void 0,t.offset?null:t.color?t.color:null,!(t.offset&&t.size));e.ready().then(()=>{this.patternImage_=null}),e.getImageState()===Rt.IDLE&&e.load(),e.getImageState()===Rt.LOADING&&(this.patternImage_=e)}this.color_=t}getKey(){const t=this.getColor();return t?t instanceof CanvasPattern||t instanceof CanvasGradient?jt(t):typeof t=="object"&&"src"in t?t.src+":"+t.offset:xa(t).toString():""}loading(){return!!this.patternImage_}ready(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}function iE(s,t,e,i){return e!==void 0&&i!==void 0?[e/s,i/t]:e!==void 0?e/s:i!==void 0?i/t:1}class Xc extends Pc{constructor(t){t=t||{};const e=t.opacity!==void 0?t.opacity:1,i=t.rotation!==void 0?t.rotation:0,a=t.scale!==void 0?t.scale:1,o=t.rotateWithView!==void 0?t.rotateWithView:!1;super({opacity:e,rotation:i,scale:a,displacement:t.displacement!==void 0?t.displacement:[0,0],rotateWithView:o,declutterMode:t.declutterMode}),this.anchor_=t.anchor!==void 0?t.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=t.anchorOrigin!==void 0?t.anchorOrigin:"top-left",this.anchorXUnits_=t.anchorXUnits!==void 0?t.anchorXUnits:"fraction",this.anchorYUnits_=t.anchorYUnits!==void 0?t.anchorYUnits:"fraction",this.crossOrigin_=t.crossOrigin!==void 0?t.crossOrigin:null;const c=t.img!==void 0?t.img:null;let h=t.src;Bt(!(h!==void 0&&c),"`image` and `src` cannot be provided at the same time"),(h===void 0||h.length===0)&&c&&(h=c.src||jt(c)),Bt(h!==void 0&&h.length>0,"A defined and non-empty `src` or `image` must be provided"),Bt(!((t.width!==void 0||t.height!==void 0)&&t.scale!==void 0),"`width` or `height` cannot be provided together with `scale`");let f;if(t.src!==void 0?f=Rt.IDLE:c!==void 0&&("complete"in c?c.complete?f=c.src?Rt.LOADED:Rt.IDLE:f=Rt.LOADING:f=Rt.LOADED),this.color_=t.color!==void 0?xa(t.color):null,this.iconImage_=tm(c,h,this.crossOrigin_,f,this.color_),this.offset_=t.offset!==void 0?t.offset:[0,0],this.offsetOrigin_=t.offsetOrigin!==void 0?t.offsetOrigin:"top-left",this.origin_=null,this.size_=t.size!==void 0?t.size:null,this.initialOptions_,t.width!==void 0||t.height!==void 0){let g,m;if(t.size)[g,m]=t.size;else{const y=this.getImage(1);if(y.width&&y.height)g=y.width,m=y.height;else if(y instanceof HTMLImageElement){this.initialOptions_=t;const p=()=>{if(this.unlistenImageChange(p),!this.initialOptions_)return;const x=this.iconImage_.getSize();this.setScale(iE(x[0],x[1],t.width,t.height))};this.listenImageChange(p);return}}g!==void 0&&this.setScale(iE(g,m,t.width,t.height))}}clone(){let t,e,i;return this.initialOptions_?(e=this.initialOptions_.width,i=this.initialOptions_.height):(t=this.getScale(),t=Array.isArray(t)?t.slice():t),new Xc({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:t,width:e,height:i,size:this.size_!==null?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}getAnchor(){let t=this.normalizedAnchor_;if(!t){t=this.anchor_;const a=this.getSize();if(this.anchorXUnits_=="fraction"||this.anchorYUnits_=="fraction"){if(!a)return null;t=this.anchor_.slice(),this.anchorXUnits_=="fraction"&&(t[0]*=a[0]),this.anchorYUnits_=="fraction"&&(t[1]*=a[1])}if(this.anchorOrigin_!="top-left"){if(!a)return null;t===this.anchor_&&(t=this.anchor_.slice()),(this.anchorOrigin_=="top-right"||this.anchorOrigin_=="bottom-right")&&(t[0]=-t[0]+a[0]),(this.anchorOrigin_=="bottom-left"||this.anchorOrigin_=="bottom-right")&&(t[1]=-t[1]+a[1])}this.normalizedAnchor_=t}const e=this.getDisplacement(),i=this.getScaleArray();return[t[0]-e[0]/i[0],t[1]+e[1]/i[1]]}setAnchor(t){this.anchor_=t,this.normalizedAnchor_=null}getColor(){return this.color_}getImage(t){return this.iconImage_.getImage(t)}getPixelRatio(t){return this.iconImage_.getPixelRatio(t)}getImageSize(){return this.iconImage_.getSize()}getImageState(){return this.iconImage_.getImageState()}getHitDetectionImage(){return this.iconImage_.getHitDetectionImage()}getOrigin(){if(this.origin_)return this.origin_;let t=this.offset_;if(this.offsetOrigin_!="top-left"){const e=this.getSize(),i=this.iconImage_.getSize();if(!e||!i)return null;t=t.slice(),(this.offsetOrigin_=="top-right"||this.offsetOrigin_=="bottom-right")&&(t[0]=i[0]-e[0]-t[0]),(this.offsetOrigin_=="bottom-left"||this.offsetOrigin_=="bottom-right")&&(t[1]=i[1]-e[1]-t[1])}return this.origin_=t,this.origin_}getSrc(){return this.iconImage_.getSrc()}getSize(){return this.size_?this.size_:this.iconImage_.getSize()}getWidth(){const t=this.getScaleArray();if(this.size_)return this.size_[0]*t[0];if(this.iconImage_.getImageState()==Rt.LOADED)return this.iconImage_.getSize()[0]*t[0]}getHeight(){const t=this.getScaleArray();if(this.size_)return this.size_[1]*t[1];if(this.iconImage_.getImageState()==Rt.LOADED)return this.iconImage_.getSize()[1]*t[1]}setScale(t){delete this.initialOptions_,super.setScale(t)}listenImageChange(t){this.iconImage_.addEventListener(vt.CHANGE,t)}load(){this.iconImage_.load()}unlistenImageChange(t){this.iconImage_.removeEventListener(vt.CHANGE,t)}ready(){return this.iconImage_.ready()}}class Ss{constructor(t){t=t||{},this.color_=t.color!==void 0?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=t.lineDash!==void 0?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}clone(){const t=this.getColor();return new Ss({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}getColor(){return this.color_}getLineCap(){return this.lineCap_}getLineDash(){return this.lineDash_}getLineDashOffset(){return this.lineDashOffset_}getLineJoin(){return this.lineJoin_}getMiterLimit(){return this.miterLimit_}getWidth(){return this.width_}setColor(t){this.color_=t}setLineCap(t){this.lineCap_=t}setLineDash(t){this.lineDash_=t}setLineDashOffset(t){this.lineDashOffset_=t}setLineJoin(t){this.lineJoin_=t}setMiterLimit(t){this.miterLimit_=t}setWidth(t){this.width_=t}}class Un{constructor(t){t=t||{},this.geometry_=null,this.geometryFunction_=sE,t.geometry!==void 0&&this.setGeometry(t.geometry),this.fill_=t.fill!==void 0?t.fill:null,this.image_=t.image!==void 0?t.image:null,this.renderer_=t.renderer!==void 0?t.renderer:null,this.hitDetectionRenderer_=t.hitDetectionRenderer!==void 0?t.hitDetectionRenderer:null,this.stroke_=t.stroke!==void 0?t.stroke:null,this.text_=t.text!==void 0?t.text:null,this.zIndex_=t.zIndex}clone(){let t=this.getGeometry();return t&&typeof t=="object"&&(t=t.clone()),new Un({geometry:t??void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:this.getRenderer()??void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}getRenderer(){return this.renderer_}setRenderer(t){this.renderer_=t}setHitDetectionRenderer(t){this.hitDetectionRenderer_=t}getHitDetectionRenderer(){return this.hitDetectionRenderer_}getGeometry(){return this.geometry_}getGeometryFunction(){return this.geometryFunction_}getFill(){return this.fill_}setFill(t){this.fill_=t}getImage(){return this.image_}setImage(t){this.image_=t}getStroke(){return this.stroke_}setStroke(t){this.stroke_=t}getText(){return this.text_}setText(t){this.text_=t}getZIndex(){return this.zIndex_}setGeometry(t){typeof t=="function"?this.geometryFunction_=t:typeof t=="string"?this.geometryFunction_=function(e){return e.get(t)}:t?t!==void 0&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=sE,this.geometry_=t}setZIndex(t){this.zIndex_=t}}function l2(s){let t;if(typeof s=="function")t=s;else{let e;Array.isArray(s)?e=s:(Bt(typeof s.getZIndex=="function","Expected an `Style` or an array of `Style`"),e=[s]),t=function(){return e}}return t}let Id=null;function rv(s,t){if(!Id){const e=new ur({color:"rgba(255,255,255,0.4)"}),i=new Ss({color:"#3399CC",width:1.25});Id=[new Un({image:new Ra({fill:e,stroke:i,radius:5}),fill:e,stroke:i})]}return Id}function sE(s){return s.getGeometry()}const o2="#333";class em{constructor(t){t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.keepUpright_=t.keepUpright,this.scale_=t.scale,this.scaleArray_=$e(t.scale!==void 0?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=t.fill!==void 0?t.fill:new ur({color:o2}),this.maxAngle_=t.maxAngle!==void 0?t.maxAngle:Math.PI/4,this.placement_=t.placement!==void 0?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=t.stroke!==void 0?t.stroke:null,this.offsetX_=t.offsetX!==void 0?t.offsetX:0,this.offsetY_=t.offsetY!==void 0?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=t.padding===void 0?null:t.padding,this.declutterMode_=t.declutterMode}clone(){const t=this.getScale();return new em({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}getOverflow(){return this.overflow_}getFont(){return this.font_}getMaxAngle(){return this.maxAngle_}getPlacement(){return this.placement_}getRepeat(){return this.repeat_}getOffsetX(){return this.offsetX_}getOffsetY(){return this.offsetY_}getFill(){return this.fill_}getRotateWithView(){return this.rotateWithView_}getKeepUpright(){return this.keepUpright_}getRotation(){return this.rotation_}getScale(){return this.scale_}getScaleArray(){return this.scaleArray_}getStroke(){return this.stroke_}getText(){return this.text_}getTextAlign(){return this.textAlign_}getJustify(){return this.justify_}getTextBaseline(){return this.textBaseline_}getBackgroundFill(){return this.backgroundFill_}getBackgroundStroke(){return this.backgroundStroke_}getPadding(){return this.padding_}getDeclutterMode(){return this.declutterMode_}setOverflow(t){this.overflow_=t}setFont(t){this.font_=t}setMaxAngle(t){this.maxAngle_=t}setOffsetX(t){this.offsetX_=t}setOffsetY(t){this.offsetY_=t}setPlacement(t){this.placement_=t}setRepeat(t){this.repeat_=t}setRotateWithView(t){this.rotateWithView_=t}setKeepUpright(t){this.keepUpright_=t}setFill(t){this.fill_=t}setRotation(t){this.rotation_=t}setScale(t){this.scale_=t,this.scaleArray_=$e(t!==void 0?t:1)}setStroke(t){this.stroke_=t}setText(t){this.text_=t}setTextAlign(t){this.textAlign_=t}setJustify(t){this.justify_=t}setTextBaseline(t){this.textBaseline_=t}setBackgroundFill(t){this.backgroundFill_=t}setBackgroundStroke(t){this.backgroundStroke_=t}setPadding(t){this.padding_=t}}function u2(s){return!0}function c2(s){const t=$1(),e=h2(s,t),i=ev();return function(a,o){if(i.properties=a.getPropertiesInternal(),i.resolution=o,t.featureId){const c=a.getId();c!==void 0?i.featureId=c:i.featureId=null}return t.geometryType&&(i.geometryType=tv(a.getGeometry())),e(i)}}function rE(s){const t=$1(),e=s.length,i=new Array(e);for(let c=0;c<e;++c)i[c]=ug(s[c],t);const a=ev(),o=new Array(e);return function(c,h){if(a.properties=c.getPropertiesInternal(),a.resolution=h,t.featureId){const g=c.getId();g!==void 0?a.featureId=g:a.featureId=null}let f=0;for(let g=0;g<e;++g){const m=i[g](a);m&&(o[f]=m,f+=1)}return o.length=f,o}}function h2(s,t){const e=s.length,i=new Array(e);for(let a=0;a<e;++a){const o=s[a],c="filter"in o?ji(o.filter,Be,t):u2;let h;if(Array.isArray(o.style)){const f=o.style.length;h=new Array(f);for(let g=0;g<f;++g)h[g]=ug(o.style[g],t)}else h=[ug(o.style,t)];i[a]={filter:c,styles:h}}return function(a){const o=[];let c=!1;for(let h=0;h<e;++h){const f=i[h].filter;if(f(a)&&!(s[h].else&&c)){c=!0;for(const g of i[h].styles){const m=g(a);m&&o.push(m)}}}return o}}function ug(s,t){const e=so(s,"",t),i=ro(s,"",t),a=f2(s,t),o=d2(s,t),c=Je(s,"z-index",t);if(!e&&!i&&!a&&!o&&!pa(s))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(s));const h=new Un;return function(f){let g=!0;if(e){const m=e(f);m&&(g=!1),h.setFill(m)}if(i){const m=i(f);m&&(g=!1),h.setStroke(m)}if(a){const m=a(f);m&&(g=!1),h.setText(m)}if(o){const m=o(f);m&&(g=!1),h.setImage(m)}return c&&h.setZIndex(c(f)),g?null:h}}function so(s,t,e){let i;if(t+"fill-pattern-src"in s)i=y2(s,t+"fill-",e);else{if(s[t+"fill-color"]==="none")return o=>null;i=nm(s,t+"fill-color",e)}if(!i)return null;const a=new ur;return function(o){const c=i(o);return c===Wg?null:(a.setColor(c),a)}}function ro(s,t,e){const i=Je(s,t+"stroke-width",e),a=nm(s,t+"stroke-color",e);if(!i&&!a)return null;const o=Mi(s,t+"stroke-line-cap",e),c=Mi(s,t+"stroke-line-join",e),h=av(s,t+"stroke-line-dash",e),f=Je(s,t+"stroke-line-dash-offset",e),g=Je(s,t+"stroke-miter-limit",e),m=new Ss;return function(y){if(a){const p=a(y);if(p===Wg)return null;m.setColor(p)}if(i&&m.setWidth(i(y)),o){const p=o(y);if(p!=="butt"&&p!=="round"&&p!=="square")throw new Error("Expected butt, round, or square line cap");m.setLineCap(p)}if(c){const p=c(y);if(p!=="bevel"&&p!=="round"&&p!=="miter")throw new Error("Expected bevel, round, or miter line join");m.setLineJoin(p)}return h&&m.setLineDash(h(y)),f&&m.setLineDashOffset(f(y)),g&&m.setMiterLimit(g(y)),m}}function f2(s,t){const e="text-",i=Mi(s,e+"value",t);if(!i)return null;const a=so(s,e,t),o=so(s,e+"background-",t),c=ro(s,e,t),h=ro(s,e+"background-",t),f=Mi(s,e+"font",t),g=Je(s,e+"max-angle",t),m=Je(s,e+"offset-x",t),y=Je(s,e+"offset-y",t),p=ma(s,e+"overflow",t),x=Mi(s,e+"placement",t),E=Je(s,e+"repeat",t),R=Hc(s,e+"scale",t),S=ma(s,e+"rotate-with-view",t),T=Je(s,e+"rotation",t),C=Mi(s,e+"align",t),w=Mi(s,e+"justify",t),L=Mi(s,e+"baseline",t),A=ma(s,e+"keep-upright",t),G=av(s,e+"padding",t),H=qc(s,e+"declutter-mode"),Z=new em({declutterMode:H});return function(K){if(Z.setText(i(K)),a&&Z.setFill(a(K)),o&&Z.setBackgroundFill(o(K)),c&&Z.setStroke(c(K)),h&&Z.setBackgroundStroke(h(K)),f&&Z.setFont(f(K)),g&&Z.setMaxAngle(g(K)),m&&Z.setOffsetX(m(K)),y&&Z.setOffsetY(y(K)),p&&Z.setOverflow(p(K)),x){const et=x(K);if(et!=="point"&&et!=="line")throw new Error("Expected point or line for text-placement");Z.setPlacement(et)}if(E&&Z.setRepeat(E(K)),R&&Z.setScale(R(K)),S&&Z.setRotateWithView(S(K)),T&&Z.setRotation(T(K)),C){const et=C(K);if(et!=="left"&&et!=="center"&&et!=="right"&&et!=="end"&&et!=="start")throw new Error("Expected left, right, center, start, or end for text-align");Z.setTextAlign(et)}if(w){const et=w(K);if(et!=="left"&&et!=="right"&&et!=="center")throw new Error("Expected left, right, or center for text-justify");Z.setJustify(et)}if(L){const et=L(K);if(et!=="bottom"&&et!=="top"&&et!=="middle"&&et!=="alphabetic"&&et!=="hanging")throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");Z.setTextBaseline(et)}return G&&Z.setPadding(G(K)),A&&Z.setKeepUpright(A(K)),Z}}function d2(s,t){return"icon-src"in s?g2(s,t):"shape-points"in s?m2(s,t):"circle-radius"in s?_2(s,t):null}function g2(s,t){const e="icon-",i=e+"src",a=lv(s[i],i),o=uc(s,e+"anchor",t),c=Hc(s,e+"scale",t),h=Je(s,e+"opacity",t),f=uc(s,e+"displacement",t),g=Je(s,e+"rotation",t),m=ma(s,e+"rotate-with-view",t),y=lE(s,e+"anchor-origin"),p=oE(s,e+"anchor-x-units"),x=oE(s,e+"anchor-y-units"),E=x2(s,e+"color"),R=E2(s,e+"cross-origin"),S=v2(s,e+"offset"),T=lE(s,e+"offset-origin"),C=cc(s,e+"width"),w=cc(s,e+"height"),L=p2(s,e+"size"),A=qc(s,e+"declutter-mode"),G=new Xc({src:a,anchorOrigin:y,anchorXUnits:p,anchorYUnits:x,color:E,crossOrigin:R,offset:S,offsetOrigin:T,height:w,width:C,size:L,declutterMode:A});return function(H){return h&&G.setOpacity(h(H)),f&&G.setDisplacement(f(H)),g&&G.setRotation(g(H)),m&&G.setRotateWithView(m(H)),c&&G.setScale(c(H)),o&&G.setAnchor(o(H)),G}}function m2(s,t){const e="shape-",i=e+"points",a=e+"radius",o=cg(s[i],i),c=cg(s[a],a),h=so(s,e,t),f=ro(s,e,t),g=Hc(s,e+"scale",t),m=uc(s,e+"displacement",t),y=Je(s,e+"rotation",t),p=ma(s,e+"rotate-with-view",t),x=cc(s,e+"radius2"),E=cc(s,e+"angle"),R=qc(s,e+"declutter-mode"),S=new Yc({points:o,radius:c,radius2:x,angle:E,declutterMode:R});return function(T){return h&&S.setFill(h(T)),f&&S.setStroke(f(T)),m&&S.setDisplacement(m(T)),y&&S.setRotation(y(T)),p&&S.setRotateWithView(p(T)),g&&S.setScale(g(T)),S}}function _2(s,t){const e="circle-",i=so(s,e,t),a=ro(s,e,t),o=Je(s,e+"radius",t),c=Hc(s,e+"scale",t),h=uc(s,e+"displacement",t),f=Je(s,e+"rotation",t),g=ma(s,e+"rotate-with-view",t),m=qc(s,e+"declutter-mode"),y=new Ra({radius:5,declutterMode:m});return function(p){return o&&y.setRadius(o(p)),i&&y.setFill(i(p)),a&&y.setStroke(a(p)),h&&y.setDisplacement(h(p)),f&&y.setRotation(f(p)),g&&y.setRotateWithView(g(p)),c&&y.setScale(c(p)),y}}function Je(s,t,e){if(!(t in s))return;const i=ji(s[t],Dt,e);return function(a){return cg(i(a),t)}}function Mi(s,t,e){if(!(t in s))return null;const i=ji(s[t],Ke,e);return function(a){return lv(i(a),t)}}function y2(s,t,e){const i=Mi(s,t+"pattern-src",e),a=aE(s,t+"pattern-offset",e),o=aE(s,t+"pattern-size",e),c=nm(s,t+"color",e);return function(h){return{src:i(h),offset:a&&a(h),size:o&&o(h),color:c&&c(h)}}}function ma(s,t,e){if(!(t in s))return null;const i=ji(s[t],Be,e);return function(a){const o=i(a);if(typeof o!="boolean")throw new Error(`Expected a boolean for ${t}`);return o}}function nm(s,t,e){if(!(t in s))return null;const i=ji(s[t],jn,e);return function(a){return ov(i(a),t)}}function av(s,t,e){if(!(t in s))return null;const i=ji(s[t],or,e);return function(a){return yo(i(a),t)}}function uc(s,t,e){if(!(t in s))return null;const i=ji(s[t],or,e);return function(a){const o=yo(i(a),t);if(o.length!==2)throw new Error(`Expected two numbers for ${t}`);return o}}function aE(s,t,e){if(!(t in s))return null;const i=ji(s[t],or,e);return function(a){return uv(i(a),t)}}function Hc(s,t,e){if(!(t in s))return null;const i=ji(s[t],or|Dt,e);return function(a){return S2(i(a),t)}}function cc(s,t){const e=s[t];if(e!==void 0){if(typeof e!="number")throw new Error(`Expected a number for ${t}`);return e}}function p2(s,t){const e=s[t];if(e!==void 0){if(typeof e=="number")return $e(e);if(!Array.isArray(e))throw new Error(`Expected a number or size array for ${t}`);if(e.length!==2||typeof e[0]!="number"||typeof e[1]!="number")throw new Error(`Expected a number or size array for ${t}`);return e}}function E2(s,t){const e=s[t];if(e!==void 0){if(typeof e!="string")throw new Error(`Expected a string for ${t}`);return e}}function lE(s,t){const e=s[t];if(e!==void 0){if(e!=="bottom-left"&&e!=="bottom-right"&&e!=="top-left"&&e!=="top-right")throw new Error(`Expected bottom-left, bottom-right, top-left, or top-right for ${t}`);return e}}function oE(s,t){const e=s[t];if(e!==void 0){if(e!=="pixels"&&e!=="fraction")throw new Error(`Expected pixels or fraction for ${t}`);return e}}function v2(s,t){const e=s[t];if(e!==void 0)return yo(e,t)}function qc(s,t){const e=s[t];if(e!==void 0){if(typeof e!="string")throw new Error(`Expected a string for ${t}`);if(e!=="declutter"&&e!=="obstacle"&&e!=="none")throw new Error(`Expected declutter, obstacle, or none for ${t}`);return e}}function x2(s,t){const e=s[t];if(e!==void 0)return ov(e,t)}function yo(s,t){if(!Array.isArray(s))throw new Error(`Expected an array for ${t}`);const e=s.length;for(let i=0;i<e;++i)if(typeof s[i]!="number")throw new Error(`Expected an array of numbers for ${t}`);return s}function lv(s,t){if(typeof s!="string")throw new Error(`Expected a string for ${t}`);return s}function cg(s,t){if(typeof s!="number")throw new Error(`Expected a number for ${t}`);return s}function ov(s,t){if(typeof s=="string")return s;const e=yo(s,t),i=e.length;if(i<3||i>4)throw new Error(`Expected a color with 3 or 4 values for ${t}`);return e}function uv(s,t){const e=yo(s,t);if(e.length!==2)throw new Error(`Expected an array of two numbers for ${t}`);return e}function S2(s,t){return typeof s=="number"?s:uv(s,t)}const uE={RENDER_ORDER:"renderOrder"};class cv extends Gc{constructor(t){t=t||{};const e=Object.assign({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,super(e),this.declutter_=t.declutter?String(t.declutter):void 0,this.renderBuffer_=t.renderBuffer!==void 0?t.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(t.style),this.updateWhileAnimating_=t.updateWhileAnimating!==void 0?t.updateWhileAnimating:!1,this.updateWhileInteracting_=t.updateWhileInteracting!==void 0?t.updateWhileInteracting:!1}getDeclutter(){return this.declutter_}getFeatures(t){return super.getFeatures(t)}getRenderBuffer(){return this.renderBuffer_}getRenderOrder(){return this.get(uE.RENDER_ORDER)}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}getUpdateWhileAnimating(){return this.updateWhileAnimating_}getUpdateWhileInteracting(){return this.updateWhileInteracting_}renderDeclutter(t,e){const i=this.getDeclutter();i in t.declutter||(t.declutter[i]=new Q1(9)),this.getRenderer().renderDeclutter(t,e)}setRenderOrder(t){this.set(uE.RENDER_ORDER,t)}setStyle(t){this.style_=t===void 0?rv:t;const e=b2(t);this.styleFunction_=t===null?void 0:l2(e),this.changed()}setDeclutter(t){this.declutter_=t?String(t):void 0,this.changed()}}function b2(s){if(s===void 0)return rv;if(!s)return null;if(typeof s=="function"||s instanceof Un)return s;if(!Array.isArray(s))return rE([s]);if(s.length===0)return[];const t=s.length,e=s[0];if(e instanceof Un){const a=new Array(t);for(let o=0;o<t;++o){const c=s[o];if(!(c instanceof Un))throw new Error("Expected a list of style instances");a[o]=c}return a}if("style"in e){const a=new Array(t);for(let o=0;o<t;++o){const c=s[o];if(!("style"in c))throw new Error("Expected a list of rules with a style property");a[o]=c}return c2(a)}return rE(s)}class hv extends Fi{constructor(t,e,i,a){super(t),this.inversePixelTransform=e,this.frameState=i,this.context=a}}class R2 extends Rc{constructor(t){super(),this.map_=t}dispatchRenderEvent(t,e){It()}calculateMatrices2D(t){const e=t.viewState,i=t.coordinateToPixelTransform,a=t.pixelToCoordinateTransform;zi(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),F1(a,i)}forEachFeatureAtCoordinate(t,e,i,a,o,c,h,f){let g;const m=e.viewState;function y(L,A,G,H){return o.call(c,A,L?G:null,H)}const p=m.projection,x=w1(t.slice(),p),E=[[0,0]];if(p.canWrapX()&&a){const L=p.getExtent(),A=Xt(L);E.push([-A,0],[A,0])}const R=e.layerStatesArray,S=R.length,T=[],C=[];for(let L=0;L<E.length;L++)for(let A=S-1;A>=0;--A){const G=R[A],H=G.layer;if(H.hasRenderer()&&Kg(G,m)&&h.call(f,H)){const Z=H.getRenderer(),K=H.getSource();if(Z&&K){const et=K.getWrapX()?x:t,ut=y.bind(null,G.managed);C[0]=et[0]+E[L][0],C[1]=et[1]+E[L][1],g=Z.forEachFeatureAtCoordinate(C,e,i,ut,T)}if(g)return g}}if(T.length===0)return;const w=1/T.length;return T.forEach((L,A)=>L.distanceSq+=A*w),T.sort((L,A)=>L.distanceSq-A.distanceSq),T.some(L=>g=L.callback(L.feature,L.layer,L.geometry)),g}hasFeatureAtCoordinate(t,e,i,a,o,c){return this.forEachFeatureAtCoordinate(t,e,i,a,Vl,this,o,c)!==void 0}getMap(){return this.map_}renderFrame(t){It()}scheduleExpireIconCache(t){Cn.canExpireCache()&&t.postRenderFunctions.push(T2)}}function T2(s,t){Cn.expire()}class C2 extends R2{constructor(t){super(t),this.fontChangeListenerKey_=zt(Ai,ya.PROPERTYCHANGE,t.redrawText,t),this.element_=document.createElement("div");const e=this.element_.style;e.position="absolute",e.width="100%",e.height="100%",e.zIndex="0",this.element_.className=Uc+" ol-layers";const i=t.getViewport();i.insertBefore(this.element_,i.firstChild||null),this.children_=[],this.renderedVisible_=!0}dispatchRenderEvent(t,e){const i=this.getMap();if(i.hasListener(t)){const a=new hv(t,void 0,e);i.dispatchEvent(a)}}disposeInternal(){Jt(this.fontChangeListenerKey_),this.element_.remove(),super.disposeInternal()}renderFrame(t){if(!t){this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1);return}this.calculateMatrices2D(t),this.dispatchRenderEvent(Tn.PRECOMPOSE,t);const e=t.layerStatesArray.sort((h,f)=>h.zIndex-f.zIndex);e.some(h=>h.layer instanceof cv&&h.layer.getDeclutter())&&(t.declutter={});const a=t.viewState;this.children_.length=0;const o=[];let c=null;for(let h=0,f=e.length;h<f;++h){const g=e[h];t.layerIndex=h;const m=g.layer,y=m.getSourceState();if(!Kg(g,a)||y!="ready"&&y!="undefined"){m.unrender();continue}const p=m.render(t,c);p&&(p!==c&&(this.children_.push(p),c=p),o.push(g))}this.declutter(t,o),Bw(this.element_,this.children_),this.dispatchRenderEvent(Tn.POSTCOMPOSE,t),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(t)}declutter(t,e){if(t.declutter){for(let i=e.length-1;i>=0;--i){const a=e[i],o=a.layer;o.getDeclutter()&&o.renderDeclutter(t,a)}e.forEach(i=>i.layer.renderDeferred(t))}}}function fv(s){if(s instanceof Gc){s.setMapInternal(null);return}s instanceof Ma&&s.getLayers().forEach(fv)}function dv(s,t){if(s instanceof Gc){s.setMapInternal(t);return}if(s instanceof Ma){const e=s.getLayers().getArray();for(let i=0,a=e.length;i<a;++i)dv(e[i],t)}}let w2=class extends ri{constructor(t){super(),t=t||{},this.on,this.once,this.un;const e=A2(t);this.renderComplete_=!1,this.loaded_=!0,this.boundHandleBrowserEvent_=this.handleBrowserEvent.bind(this),this.maxTilesLoading_=t.maxTilesLoading!==void 0?t.maxTilesLoading:16,this.pixelRatio_=t.pixelRatio!==void 0?t.pixelRatio:fC,this.postRenderTimeoutHandle_,this.animationDelayKey_,this.animationDelay_=this.animationDelay_.bind(this),this.coordinateToPixelTransform_=Bn(),this.pixelToCoordinateTransform_=Bn(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.style.position="absolute",this.overlayContainer_.style.zIndex="0",this.overlayContainer_.style.width="100%",this.overlayContainer_.style.height="100%",this.overlayContainer_.style.pointerEvents="none",this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.style.position="absolute",this.overlayContainerStopEvent_.style.zIndex="0",this.overlayContainerStopEvent_.style.width="100%",this.overlayContainerStopEvent_.style.height="100%",this.overlayContainerStopEvent_.style.pointerEvents="none",this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=null,this.moveTolerance_=t.moveTolerance,this.keyboardEventTarget_=e.keyboardEventTarget,this.targetChangeHandlerKeys_=null,this.targetElement_=null,this.resizeObserver_=new ResizeObserver(()=>this.updateSize()),this.controls=e.controls||Xw(),this.interactions=e.interactions||cA({onFocusOnly:!0}),this.overlays_=e.overlays,this.overlayIdIndex_={},this.renderer_=null,this.postRenderFunctions_=[],this.tileQueue_=new mC(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.addChangeListener(ze.LAYERGROUP,this.handleLayerGroupChanged_),this.addChangeListener(ze.VIEW,this.handleViewChanged_),this.addChangeListener(ze.SIZE,this.handleSizeChanged_),this.addChangeListener(ze.TARGET,this.handleTargetChanged_),this.setProperties(e.values);const i=this;t.view&&!(t.view instanceof ti)&&t.view.then(function(a){i.setView(new ti(a))}),this.controls.addEventListener(Ve.ADD,a=>{a.element.setMap(this)}),this.controls.addEventListener(Ve.REMOVE,a=>{a.element.setMap(null)}),this.interactions.addEventListener(Ve.ADD,a=>{a.element.setMap(this)}),this.interactions.addEventListener(Ve.REMOVE,a=>{a.element.setMap(null)}),this.overlays_.addEventListener(Ve.ADD,a=>{this.addOverlayInternal_(a.element)}),this.overlays_.addEventListener(Ve.REMOVE,a=>{const o=a.element.getId();o!==void 0&&delete this.overlayIdIndex_[o.toString()],a.element.setMap(null)}),this.controls.forEach(a=>{a.setMap(this)}),this.interactions.forEach(a=>{a.setMap(this)}),this.overlays_.forEach(this.addOverlayInternal_.bind(this))}addControl(t){this.getControls().push(t)}addInteraction(t){this.getInteractions().push(t)}addLayer(t){this.getLayerGroup().getLayers().push(t)}handleLayerAdd_(t){dv(t.layer,this)}addOverlay(t){this.getOverlays().push(t)}addOverlayInternal_(t){const e=t.getId();e!==void 0&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)}disposeInternal(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),super.disposeInternal()}forEachFeatureAtPixel(t,e,i){if(!this.frameState_||!this.renderer_)return;const a=this.getCoordinateFromPixelInternal(t);i=i!==void 0?i:{};const o=i.hitTolerance!==void 0?i.hitTolerance:0,c=i.layerFilter!==void 0?i.layerFilter:Vl,h=i.checkWrapped!==!1;return this.renderer_.forEachFeatureAtCoordinate(a,this.frameState_,o,h,e,null,c,null)}getFeaturesAtPixel(t,e){const i=[];return this.forEachFeatureAtPixel(t,function(a){i.push(a)},e),i}getAllLayers(){const t=[];function e(i){i.forEach(function(a){a instanceof Ma?e(a.getLayers()):t.push(a)})}return e(this.getLayers()),t}hasFeatureAtPixel(t,e){if(!this.frameState_||!this.renderer_)return!1;const i=this.getCoordinateFromPixelInternal(t);e=e!==void 0?e:{};const a=e.layerFilter!==void 0?e.layerFilter:Vl,o=e.hitTolerance!==void 0?e.hitTolerance:0,c=e.checkWrapped!==!1;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,o,c,a,null)}getEventCoordinate(t){return this.getCoordinateFromPixel(this.getEventPixel(t))}getEventCoordinateInternal(t){return this.getCoordinateFromPixelInternal(this.getEventPixel(t))}getEventPixel(t){const i=this.viewport_.getBoundingClientRect(),a=this.getSize(),o=i.width/a[0],c=i.height/a[1],h="changedTouches"in t?t.changedTouches[0]:t;return[(h.clientX-i.left)/o,(h.clientY-i.top)/c]}getTarget(){return this.get(ze.TARGET)}getTargetElement(){return this.targetElement_}getCoordinateFromPixel(t){return rg(this.getCoordinateFromPixelInternal(t),this.getView().getProjection())}getCoordinateFromPixelInternal(t){const e=this.frameState_;return e?Re(e.pixelToCoordinateTransform,t.slice()):null}getControls(){return this.controls}getOverlays(){return this.overlays_}getOverlayById(t){const e=this.overlayIdIndex_[t.toString()];return e!==void 0?e:null}getInteractions(){return this.interactions}getLayerGroup(){return this.get(ze.LAYERGROUP)}setLayers(t){const e=this.getLayerGroup();if(t instanceof ni){e.setLayers(t);return}const i=e.getLayers();i.clear(),i.extend(t)}getLayers(){return this.getLayerGroup().getLayers()}getLoadingOrNotReady(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,i=t.length;e<i;++e){const a=t[e];if(!a.visible)continue;const o=a.layer.getRenderer();if(o&&!o.ready)return!0;const c=a.layer.getSource();if(c&&c.loading)return!0}return!1}getPixelFromCoordinate(t){const e=wi(t,this.getView().getProjection());return this.getPixelFromCoordinateInternal(e)}getPixelFromCoordinateInternal(t){const e=this.frameState_;return e?Re(e.coordinateToPixelTransform,t.slice(0,2)):null}getRenderer(){return this.renderer_}getSize(){return this.get(ze.SIZE)}getView(){return this.get(ze.VIEW)}getViewport(){return this.viewport_}getOverlayContainer(){return this.overlayContainer_}getOverlayContainerStopEvent(){return this.overlayContainerStopEvent_}getOwnerDocument(){const t=this.getTargetElement();return t?t.ownerDocument:document}getTilePriority(t,e,i,a){return _C(this.frameState_,t,e,i,a)}handleBrowserEvent(t,e){e=e||t.type;const i=new ps(e,this,t);this.handleMapBrowserEvent(i)}handleMapBrowserEvent(t){if(!this.frameState_)return;const e=t.originalEvent,i=e.type;if(i===Qd.POINTERDOWN||i===vt.WHEEL||i===vt.KEYDOWN){const a=this.getOwnerDocument(),o=this.viewport_.getRootNode?this.viewport_.getRootNode():a,c=e.target,h=o instanceof ShadowRoot?o.host===c?o.host.ownerDocument:o:o===a?a.documentElement:o;if(this.overlayContainerStopEvent_.contains(c)||!h.contains(c))return}if(t.frameState=this.frameState_,this.dispatchEvent(t)!==!1){const a=this.getInteractions().getArray().slice();for(let o=a.length-1;o>=0;o--){const c=a[o];if(c.getMap()!==this||!c.getActive()||!this.getTargetElement())continue;if(!c.handleEvent(t)||t.propagationStopped)break}}}handlePostRender(){const t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){let a=this.maxTilesLoading_,o=a;if(t){const c=t.viewHints;if(c[ke.ANIMATING]||c[ke.INTERACTING]){const h=Date.now()-t.time>8;a=h?0:8,o=h?0:2}}e.getTilesLoading()<a&&(e.reprioritize(),e.loadMoreTiles(a,o))}t&&this.renderer_&&!t.animate&&(this.renderComplete_?(this.hasListener(Tn.RENDERCOMPLETE)&&this.renderer_.dispatchRenderEvent(Tn.RENDERCOMPLETE,t),this.loaded_===!1&&(this.loaded_=!0,this.dispatchEvent(new aa(Es.LOADEND,this,t)))):this.loaded_===!0&&(this.loaded_=!1,this.dispatchEvent(new aa(Es.LOADSTART,this,t))));const i=this.postRenderFunctions_;if(t)for(let a=0,o=i.length;a<o;++a)i[a](this,t);i.length=0}handleSizeChanged_(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}handleTargetChanged_(){if(this.mapBrowserEventHandler_){for(let i=0,a=this.targetChangeHandlerKeys_.length;i<a;++i)Jt(this.targetChangeHandlerKeys_[i]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(vt.CONTEXTMENU,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(vt.WHEEL,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);const i=this.targetElement_.getRootNode();i instanceof ShadowRoot&&this.resizeObserver_.unobserve(i.host),this.setSize(void 0)}const t=this.getTarget(),e=typeof t=="string"?document.getElementById(t):t;if(this.targetElement_=e,!e)this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);else{e.appendChild(this.viewport_),this.renderer_||(this.renderer_=new C2(this)),this.mapBrowserEventHandler_=new dC(this,this.moveTolerance_);for(const o in re)this.mapBrowserEventHandler_.addEventListener(re[o],this.handleMapBrowserEvent.bind(this));this.viewport_.addEventListener(vt.CONTEXTMENU,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(vt.WHEEL,this.boundHandleBrowserEvent_,p1?{passive:!1}:!1);let i;if(this.keyboardEventTarget_)i=this.keyboardEventTarget_;else{const o=e.getRootNode();i=o instanceof ShadowRoot?o.host:e}this.targetChangeHandlerKeys_=[zt(i,vt.KEYDOWN,this.handleBrowserEvent,this),zt(i,vt.KEYPRESS,this.handleBrowserEvent,this)];const a=e.getRootNode();a instanceof ShadowRoot&&this.resizeObserver_.observe(a.host),this.resizeObserver_.observe(e)}this.updateSize()}handleTileChange_(){this.render()}handleViewPropertyChanged_(){this.render()}handleViewChanged_(){this.viewPropertyListenerKey_&&(Jt(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(Jt(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);const t=this.getView();t&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=zt(t,ya.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=zt(t,vt.CHANGE,this.handleViewPropertyChanged_,this),t.resolveConstraints(0)),this.render()}handleLayerGroupChanged_(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(Jt),this.layerGroupPropertyListenerKeys_=null);const t=this.getLayerGroup();t&&(this.handleLayerAdd_(new vs("addlayer",t)),this.layerGroupPropertyListenerKeys_=[zt(t,ya.PROPERTYCHANGE,this.render,this),zt(t,vt.CHANGE,this.render,this),zt(t,"addlayer",this.handleLayerAdd_,this),zt(t,"removelayer",this.handleLayerRemove_,this)]),this.render()}isRendered(){return!!this.frameState_}animationDelay_(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}renderSync(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}redrawText(){const t=this.getLayerGroup().getLayerStatesArray();for(let e=0,i=t.length;e<i;++e){const a=t[e].layer;a.hasRenderer()&&a.getRenderer().handleFontsChanged()}}render(){this.renderer_&&this.animationDelayKey_===void 0&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}removeControl(t){return this.getControls().remove(t)}removeInteraction(t){return this.getInteractions().remove(t)}removeLayer(t){return this.getLayerGroup().getLayers().remove(t)}handleLayerRemove_(t){fv(t.layer)}removeOverlay(t){return this.getOverlays().remove(t)}renderFrame_(t){const e=this.getSize(),i=this.getView(),a=this.frameState_;let o=null;if(e!==void 0&&Jp(e)&&i&&i.isDef()){const c=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),h=i.getState();if(o={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:eg(h.center,h.resolution,h.rotation,e),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:e,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:h,viewHints:c,wantedTiles:{},mapId:jt(this),renderTargets:{}},h.nextCenter&&h.nextResolution){const f=isNaN(h.nextRotation)?h.rotation:h.nextRotation;o.nextExtent=eg(h.nextCenter,h.nextResolution,f,e)}}this.frameState_=o,this.renderer_.renderFrame(o),o&&(o.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,o.postRenderFunctions),a&&(!this.previousExtent_||!Nc(this.previousExtent_)&&!Wl(o.extent,this.previousExtent_))&&(this.dispatchEvent(new aa(Es.MOVESTART,this,a)),this.previousExtent_=Mc(this.previousExtent_)),this.previousExtent_&&!o.viewHints[ke.ANIMATING]&&!o.viewHints[ke.INTERACTING]&&!Wl(o.extent,this.previousExtent_)&&(this.dispatchEvent(new aa(Es.MOVEEND,this,o)),E1(o.extent,this.previousExtent_))),this.dispatchEvent(new aa(Es.POSTRENDER,this,o)),this.renderComplete_=(this.hasListener(Es.LOADSTART)||this.hasListener(Es.LOADEND)||this.hasListener(Tn.RENDERCOMPLETE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout(()=>{this.postRenderTimeoutHandle_=void 0,this.handlePostRender()},0))}setLayerGroup(t){const e=this.getLayerGroup();e&&this.handleLayerRemove_(new vs("removelayer",e)),this.set(ze.LAYERGROUP,t)}setSize(t){this.set(ze.SIZE,t)}setTarget(t){this.set(ze.TARGET,t)}setView(t){if(!t||t instanceof ti){this.set(ze.VIEW,t);return}this.set(ze.VIEW,new ti);const e=this;t.then(function(i){e.setView(new ti(i))})}updateSize(){const t=this.getTargetElement();let e;if(t){const a=getComputedStyle(t),o=t.offsetWidth-parseFloat(a.borderLeftWidth)-parseFloat(a.paddingLeft)-parseFloat(a.paddingRight)-parseFloat(a.borderRightWidth),c=t.offsetHeight-parseFloat(a.borderTopWidth)-parseFloat(a.paddingTop)-parseFloat(a.paddingBottom)-parseFloat(a.borderBottomWidth);!isNaN(o)&&!isNaN(c)&&(e=[Math.max(0,o),Math.max(0,c)],!Jp(e)&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)&&M1("No map visible because the map container's width or height are 0."))}const i=this.getSize();e&&(!i||!As(e,i))&&(this.setSize(e),this.updateViewportSize_(e))}updateViewportSize_(t){const e=this.getView();e&&e.setViewportSize(t)}};function A2(s){let t=null;s.keyboardEventTarget!==void 0&&(t=typeof s.keyboardEventTarget=="string"?document.getElementById(s.keyboardEventTarget):s.keyboardEventTarget);const e={},i=s.layers&&typeof s.layers.getLayers=="function"?s.layers:new Ma({layers:s.layers});e[ze.LAYERGROUP]=i,e[ze.TARGET]=s.target,e[ze.VIEW]=s.view instanceof ti?s.view:new ti;let a;s.controls!==void 0&&(Array.isArray(s.controls)?a=new ni(s.controls.slice()):(Bt(typeof s.controls.getArray=="function","Expected `controls` to be an array or an `ol/Collection.js`"),a=s.controls));let o;s.interactions!==void 0&&(Array.isArray(s.interactions)?o=new ni(s.interactions.slice()):(Bt(typeof s.interactions.getArray=="function","Expected `interactions` to be an array or an `ol/Collection.js`"),o=s.interactions));let c;return s.overlays!==void 0?Array.isArray(s.overlays)?c=new ni(s.overlays.slice()):(Bt(typeof s.overlays.getArray=="function","Expected `overlays` to be an array or an `ol/Collection.js`"),c=s.overlays):c=new ni,{controls:a,interactions:o,keyboardEventTarget:t,overlays:c,values:e}}class im extends wc{constructor(t,e,i){super(),i=i||{},this.tileCoord=t,this.state=e,this.key="",this.transition_=i.transition===void 0?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(vt.CHANGE)}release(){this.setState(mt.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==mt.EMPTY){if(this.state!==mt.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}}load(){It()}getAlpha(t,e){if(!this.transition_)return 1;let i=this.transitionStarts_[t];if(!i)i=e,this.transitionStarts_[t]=i;else if(i===-1)return 1;const a=e-i+1e3/60;return a>=this.transition_?1:A1(a/this.transition_)}inTransition(t){return this.transition_?this.transitionStarts_[t]!==-1:!1}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}function hg(s){return s instanceof Image||s instanceof HTMLCanvasElement||s instanceof HTMLVideoElement||s instanceof ImageBitmap?s:null}const M2=new Error("disposed"),O2=[256,256];class cE extends im{constructor(t){const e=mt.IDLE;super(t.tileCoord,e,{transition:t.transition,interpolate:t.interpolate}),this.loader_=t.loader,this.data_=null,this.error_=null,this.size_=t.size||null,this.controller_=t.controller||null}getSize(){if(this.size_)return this.size_;const t=hg(this.data_);return t?[t.width,t.height]:O2}getData(){return this.data_}getError(){return this.error_}load(){if(this.state!==mt.IDLE&&this.state!==mt.ERROR)return;this.state=mt.LOADING,this.changed();const t=this;this.loader_().then(function(e){t.data_=e,t.state=mt.LOADED,t.changed()}).catch(function(e){t.error_=e,t.state=mt.ERROR,t.changed()})}disposeInternal(){this.controller_&&(this.controller_.abort(M2),this.controller_=null),super.disposeInternal()}}class gv extends im{constructor(t,e,i,a,o,c){super(t,e,c),this.crossOrigin_=a,this.src_=i,this.key=i,this.image_=new Image,a!==null&&(this.image_.crossOrigin=a),this.unlisten_=null,this.tileLoadFunction_=o}getImage(){return this.image_}setImage(t){this.image_=t,this.state=mt.LOADED,this.unlistenImage_(),this.changed()}handleImageError_(){this.state=mt.ERROR,this.unlistenImage_(),this.image_=D2(),this.changed()}handleImageLoad_(){const t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=mt.LOADED:this.state=mt.EMPTY,this.unlistenImage_(),this.changed()}load(){this.state==mt.ERROR&&(this.state=mt.IDLE,this.image_=new Image,this.crossOrigin_!==null&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==mt.IDLE&&(this.state=mt.LOADING,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=QA(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}unlistenImage_(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}disposeInternal(){this.unlistenImage_(),this.image_=null,super.disposeInternal()}}function D2(){const s=_e(1,1);return s.fillStyle="rgba(0,0,0,0)",s.fillRect(0,0,1,1),s.canvas}class sm{constructor(t,e,i,a){this.minX=t,this.maxX=e,this.minY=i,this.maxY=a}contains(t){return this.containsXY(t[1],t[2])}containsTileRange(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY}containsXY(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY}equals(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY}extend(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)}getHeight(){return this.maxY-this.minY+1}getSize(){return[this.getWidth(),this.getHeight()]}getWidth(){return this.maxX-this.minX+1}intersects(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY}}function ia(s,t,e,i,a){return a!==void 0?(a.minX=s,a.maxX=t,a.minY=e,a.maxY=i,a):new sm(s,t,e,i)}let zd;const _a=[];function hE(s,t,e,i,a){s.beginPath(),s.moveTo(0,0),s.lineTo(t,e),s.lineTo(i,a),s.closePath(),s.save(),s.clip(),s.fillRect(0,0,Math.max(t,i)+1,Math.max(e,a)),s.restore()}function kd(s,t){return Math.abs(s[t*4]-210)>2||Math.abs(s[t*4+3]-.75*255)>2}function L2(){if(zd===void 0){const s=_e(6,6,_a);s.globalCompositeOperation="lighter",s.fillStyle="rgba(210, 0, 0, 0.75)",hE(s,4,5,4,0),hE(s,4,5,0,5);const t=s.getImageData(0,0,3,3).data;zd=kd(t,0)||kd(t,4)||kd(t,8),Bc(s),_a.push(s.canvas)}return zd}function fE(s,t,e,i){const a=Ig(e,t,s);let o=zp(t,i,e);const c=t.getMetersPerUnit();c!==void 0&&(o*=c);const h=s.getMetersPerUnit();h!==void 0&&(o/=h);const f=s.getExtent();if(!f||Ea(f,a)){const g=zp(s,o,a)/o;isFinite(g)&&g>0&&(o/=g)}return o}function N2(s,t,e,i){const a=lr(e);let o=fE(s,t,a,i);return(!isFinite(o)||o<=0)&&b1(e,function(c){return o=fE(s,t,c,i),isFinite(o)&&o>0}),o}function I2(s,t,e,i,a,o,c,h,f,g,m,y,p,x){const E=_e(Math.round(e*s),Math.round(e*t),_a);if(y||(E.imageSmoothingEnabled=!1),f.length===0)return E.canvas;E.scale(e,e);function R(A){return Math.round(A*e)/e}E.globalCompositeOperation="lighter";const S=An();f.forEach(function(A,G,H){vC(S,A.extent)});let T;const C=e/i,w=(y?1:1+Math.pow(2,-24))/C;T=_e(Math.round(Xt(S)*C),Math.round(Ge(S)*C),_a),y||(T.imageSmoothingEnabled=!1),f.forEach(function(A,G,H){if(A.image.width>0&&A.image.height>0){if(A.clipExtent){T.save();const nt=(A.clipExtent[0]-S[0])*C,st=-(A.clipExtent[3]-S[3])*C,ot=Xt(A.clipExtent)*C,ft=Ge(A.clipExtent)*C;T.rect(y?nt:Math.round(nt),y?st:Math.round(st),y?ot:Math.round(nt+ot)-Math.round(nt),y?ft:Math.round(st+ft)-Math.round(st)),T.clip()}const Z=(A.extent[0]-S[0])*C,K=-(A.extent[3]-S[3])*C,et=Xt(A.extent)*C,ut=Ge(A.extent)*C;T.drawImage(A.image,g,g,A.image.width-2*g,A.image.height-2*g,y?Z:Math.round(Z),y?K:Math.round(K),y?et:Math.round(Z+et)-Math.round(Z),y?ut:Math.round(K+ut)-Math.round(K)),A.clipExtent&&T.restore()}});const L=hr(c);return h.getTriangles().forEach(function(A,G,H){const Z=A.source,K=A.target;let et=Z[0][0],ut=Z[0][1],nt=Z[1][0],st=Z[1][1],ot=Z[2][0],ft=Z[2][1];const z=R((K[0][0]-L[0])/o),Q=R(-(K[0][1]-L[1])/o),$=R((K[1][0]-L[0])/o),rt=R(-(K[1][1]-L[1])/o),O=R((K[2][0]-L[0])/o),X=R(-(K[2][1]-L[1])/o),j=et,tt=ut;et=0,ut=0,nt-=j,st-=tt,ot-=j,ft-=tt;const at=[[nt,st,0,0,$-z],[ot,ft,0,0,O-z],[0,0,nt,st,rt-Q],[0,0,ot,ft,X-Q]],dt=pC(at);if(!dt)return;if(E.save(),E.beginPath(),L2()||!y){E.moveTo($,rt);const Ut=4,Ot=z-$,ce=Q-rt;for(let Te=0;Te<Ut;Te++)E.lineTo($+R((Te+1)*Ot/Ut),rt+R(Te*ce/(Ut-1))),Te!=Ut-1&&E.lineTo($+R((Te+1)*Ot/Ut),rt+R((Te+1)*ce/(Ut-1)));E.lineTo(O,X)}else E.moveTo($,rt),E.lineTo(z,Q),E.lineTo(O,X);E.clip(),E.transform(dt[0],dt[2],dt[1],dt[3],z,Q),E.translate(S[0]-j,S[3]-tt);let ct;if(T)ct=T.canvas,E.scale(w,-w);else{const Ut=f[0],Ot=Ut.extent;ct=Ut.image,E.scale(Xt(Ot)/ct.width,-Ge(Ot)/ct.height)}E.drawImage(ct,0,0),E.restore()}),T&&(Bc(T),_a.push(T.canvas)),m&&(E.save(),E.globalCompositeOperation="source-over",E.strokeStyle="black",E.lineWidth=1,h.getTriangles().forEach(function(A,G,H){const Z=A.target,K=(Z[0][0]-L[0])/o,et=-(Z[0][1]-L[1])/o,ut=(Z[1][0]-L[0])/o,nt=-(Z[1][1]-L[1])/o,st=(Z[2][0]-L[0])/o,ot=-(Z[2][1]-L[1])/o;E.beginPath(),E.moveTo(ut,nt),E.lineTo(K,et),E.lineTo(st,ot),E.closePath(),E.stroke()}),E.restore()),E.canvas}const z2=10,dE=.25;class k2{constructor(t,e,i,a,o,c,h){this.sourceProj_=t,this.targetProj_=e;let f={};const g=h?iw(w=>Re(h,Ig(w,this.targetProj_,this.sourceProj_))):sc(this.targetProj_,this.sourceProj_);this.transformInv_=function(w){const L=w[0]+"/"+w[1];return f[L]||(f[L]=g(w)),f[L]},this.maxSourceExtent_=a,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!a&&!!this.sourceProj_.getExtent()&&Xt(a)>=Xt(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Xt(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Xt(this.targetProj_.getExtent()):null;const m=hr(i),y=Lc(i),p=Dc(i),x=Oc(i),E=this.transformInv_(m),R=this.transformInv_(y),S=this.transformInv_(p),T=this.transformInv_(x),C=z2+(c?Math.max(0,Math.ceil(Math.log2(tg(i)/(c*c*256*256)))):0);if(this.addQuad_(m,y,p,x,E,R,S,T,C),this.wrapsXInSource_){let w=1/0;this.triangles_.forEach(function(L,A,G){w=Math.min(w,L.source[0][0],L.source[1][0],L.source[2][0])}),this.triangles_.forEach(L=>{if(Math.max(L.source[0][0],L.source[1][0],L.source[2][0])-w>this.sourceWorldWidth_/2){const A=[[L.source[0][0],L.source[0][1]],[L.source[1][0],L.source[1][1]],[L.source[2][0],L.source[2][1]]];A[0][0]-w>this.sourceWorldWidth_/2&&(A[0][0]-=this.sourceWorldWidth_),A[1][0]-w>this.sourceWorldWidth_/2&&(A[1][0]-=this.sourceWorldWidth_),A[2][0]-w>this.sourceWorldWidth_/2&&(A[2][0]-=this.sourceWorldWidth_);const G=Math.min(A[0][0],A[1][0],A[2][0]);Math.max(A[0][0],A[1][0],A[2][0])-G<this.sourceWorldWidth_/2&&(L.source=A)}})}f={}}addTriangle_(t,e,i,a,o,c){this.triangles_.push({source:[a,o,c],target:[t,e,i]})}addQuad_(t,e,i,a,o,c,h,f,g){const m=Cp([o,c,h,f]),y=this.sourceWorldWidth_?Xt(m)/this.sourceWorldWidth_:null,p=this.sourceWorldWidth_,x=this.sourceProj_.canWrapX()&&y>.5&&y<1;let E=!1;if(g>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const S=Cp([t,e,i,a]);E=Xt(S)/this.targetWorldWidth_>dE||E}!x&&this.sourceProj_.isGlobal()&&y&&(E=y>dE||E)}if(!E&&this.maxSourceExtent_&&isFinite(m[0])&&isFinite(m[1])&&isFinite(m[2])&&isFinite(m[3])&&!Qe(m,this.maxSourceExtent_))return;let R=0;if(!E&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(c[0])||!isFinite(c[1])||!isFinite(h[0])||!isFinite(h[1])||!isFinite(f[0])||!isFinite(f[1]))){if(g>0)E=!0;else if(R=(!isFinite(o[0])||!isFinite(o[1])?8:0)+(!isFinite(c[0])||!isFinite(c[1])?4:0)+(!isFinite(h[0])||!isFinite(h[1])?2:0)+(!isFinite(f[0])||!isFinite(f[1])?1:0),R!=1&&R!=2&&R!=4&&R!=8)return}if(g>0){if(!E){const S=[(t[0]+i[0])/2,(t[1]+i[1])/2],T=this.transformInv_(S);let C;x?C=(da(o[0],p)+da(h[0],p))/2-da(T[0],p):C=(o[0]+h[0])/2-T[0];const w=(o[1]+h[1])/2-T[1];E=C*C+w*w>this.errorThresholdSquared_}if(E){if(Math.abs(t[0]-i[0])<=Math.abs(t[1]-i[1])){const S=[(e[0]+i[0])/2,(e[1]+i[1])/2],T=this.transformInv_(S),C=[(a[0]+t[0])/2,(a[1]+t[1])/2],w=this.transformInv_(C);this.addQuad_(t,e,S,C,o,c,T,w,g-1),this.addQuad_(C,S,i,a,w,T,h,f,g-1)}else{const S=[(t[0]+e[0])/2,(t[1]+e[1])/2],T=this.transformInv_(S),C=[(i[0]+a[0])/2,(i[1]+a[1])/2],w=this.transformInv_(C);this.addQuad_(t,S,C,a,o,T,w,f,g-1),this.addQuad_(S,e,i,C,T,c,h,w,g-1)}return}}if(x){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}(R&11)==0&&this.addTriangle_(t,i,a,o,h,f),(R&14)==0&&this.addTriangle_(t,i,e,o,h,c),R&&((R&13)==0&&this.addTriangle_(e,a,t,c,f,o),(R&7)==0&&this.addTriangle_(e,a,i,c,f,h))}calculateSourceExtent(){const t=An();return this.triangles_.forEach(function(e,i,a){const o=e.source;Xl(t,o[0]),Xl(t,o[1]),Xl(t,o[2])}),t}getTriangles(){return this.triangles_}}const F2=.5;class mv extends im{constructor(t,e,i,a,o,c,h,f,g,m,y,p){super(o,mt.IDLE,p),this.renderEdges_=y!==void 0?y:!1,this.pixelRatio_=h,this.gutter_=f,this.canvas_=null,this.sourceTileGrid_=e,this.targetTileGrid_=a,this.wrappedTileCoord_=c||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0,this.clipExtent_=t.canWrapX()?t.getExtent():void 0;const x=a.getTileCoordExtent(this.wrappedTileCoord_),E=this.targetTileGrid_.getExtent();let R=this.sourceTileGrid_.getExtent();const S=E?sr(x,E):x;if(tg(S)===0){this.state=mt.EMPTY;return}const T=t.getExtent();T&&(R?R=sr(R,T):R=T);const C=a.getResolution(this.wrappedTileCoord_[0]),w=N2(t,i,S,C);if(!isFinite(w)||w<=0){this.state=mt.EMPTY;return}const L=m!==void 0?m:F2;if(this.triangulation_=new k2(t,i,S,R,w*L,C),this.triangulation_.getTriangles().length===0){this.state=mt.EMPTY;return}this.sourceZ_=e.getZForResolution(w);let A=this.triangulation_.calculateSourceExtent();if(R&&(t.canWrapX()?(A[1]=te(A[1],R[1],R[3]),A[3]=te(A[3],R[1],R[3])):A=sr(A,R)),!tg(A))this.state=mt.EMPTY;else{let G=0,H=0;t.canWrapX()&&(G=Xt(T),H=Math.floor((A[0]-T[0])/G)),C1(A.slice(),t,!0).forEach(K=>{const et=e.getTileRangeForExtentAndZ(K,this.sourceZ_);for(let ut=et.minX;ut<=et.maxX;ut++)for(let nt=et.minY;nt<=et.maxY;nt++){const st=g(this.sourceZ_,ut,nt,h);if(st){const ot=H*G;this.sourceTiles_.push({tile:st,offset:ot})}}++H}),this.sourceTiles_.length===0&&(this.state=mt.EMPTY)}}getImage(){return this.canvas_}reproject_(){const t=[];if(this.sourceTiles_.forEach(e=>{var a;const i=e.tile;if(i&&i.getState()==mt.LOADED){const o=this.sourceTileGrid_.getTileCoordExtent(i.tileCoord);o[0]+=e.offset,o[2]+=e.offset;const c=(a=this.clipExtent_)==null?void 0:a.slice();c&&(c[0]+=e.offset,c[2]+=e.offset),t.push({extent:o,clipExtent:c,image:i.getImage()})}}),this.sourceTiles_.length=0,t.length===0)this.state=mt.ERROR;else{const e=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(e),a=typeof i=="number"?i:i[0],o=typeof i=="number"?i:i[1],c=this.targetTileGrid_.getResolution(e),h=this.sourceTileGrid_.getResolution(this.sourceZ_),f=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=I2(a,o,this.pixelRatio_,h,this.sourceTileGrid_.getExtent(),c,f,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=mt.LOADED}this.changed()}load(){if(this.state==mt.IDLE){this.state=mt.LOADING,this.changed();let t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(({tile:e})=>{const i=e.getState();if(i==mt.IDLE||i==mt.LOADING){t++;const a=zt(e,vt.CHANGE,o=>{const c=e.getState();(c==mt.LOADED||c==mt.ERROR||c==mt.EMPTY)&&(Jt(a),t--,t===0&&(this.unlistenSources_(),this.reproject_()))});this.sourcesListenerKeys_.push(a)}}),t===0?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach(function({tile:e},i,a){e.getState()==mt.IDLE&&e.load()})}}unlistenSources_(){this.sourcesListenerKeys_.forEach(Jt),this.sourcesListenerKeys_=null}release(){this.canvas_&&(Bc(this.canvas_.getContext("2d")),_a.push(this.canvas_),this.canvas_=null),super.release()}}class j2{constructor(t){this.highWaterMark=t!==void 0?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}deleteOldest(){const t=this.pop();t instanceof Rc&&t.dispose()}canExpireCache(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}expireCache(t){for(;this.canExpireCache();)this.deleteOldest()}clear(){for(;this.oldest_;)this.deleteOldest()}containsKey(t){return this.entries_.hasOwnProperty(t)}forEach(t){let e=this.oldest_;for(;e;)t(e.value_,e.key_,this),e=e.newer}get(t,e){const i=this.entries_[t];return Bt(i!==void 0,"Tried to get a value for a key that does not exist in the cache"),i===this.newest_||(i===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(i.newer.older=i.older,i.older.newer=i.newer),i.newer=null,i.older=this.newest_,this.newest_.newer=i,this.newest_=i),i.value_}remove(t){const e=this.entries_[t];return Bt(e!==void 0,"Tried to get a value for a key that does not exist in the cache"),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_}getCount(){return this.count_}getKeys(){const t=new Array(this.count_);let e=0,i;for(i=this.newest_;i;i=i.older)t[e++]=i.key_;return t}getValues(){const t=new Array(this.count_);let e=0,i;for(i=this.newest_;i;i=i.older)t[e++]=i.value_;return t}peekLast(){return this.oldest_.value_}peekLastKey(){return this.oldest_.key_}peekFirstKey(){return this.newest_.key_}peek(t){var e;return(e=this.entries_[t])==null?void 0:e.value_}pop(){const t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_}replace(t,e){this.get(t),this.entries_[t].value_=e}set(t,e){Bt(!(t in this.entries_),"Tried to set a value for a key that is used already");const i={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=i:this.oldest_=i,this.newest_=i,this.entries_[t]=i,++this.count_}setSize(t){this.highWaterMark=t}}function hc(s,t,e,i){return i!==void 0?(i[0]=s,i[1]=t,i[2]=e,i):[s,t,e]}function U2(s,t,e){return s+"/"+t+"/"+e}function B2(s){return G2(s[0],s[1],s[2])}function G2(s,t,e){return(t<<s)+e}function P2(s,t){const e=s[0],i=s[1],a=s[2];if(t.getMinZoom()>e||e>t.getMaxZoom())return!1;const o=t.getFullTileRange(e);return o?o.containsXY(i,a):!0}class _v{constructor(){H0(this,"pushMethodArgs_",(...t)=>(this.push_(t),this));this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(ac(),{get:(t,e)=>{if(typeof ac()[e]=="function")return this.push_(e),this.pushMethodArgs_},set:(t,e,i)=>(this.push_(e,i),!0)})}push_(...t){const e=this.instructions_,i=this.zIndex+this.offset_;e[i]||(e[i]=[]),e[i].push(...t)}pushFunction(t){this.push_(t)}getContext(){return this.context_}draw(t){this.instructions_.forEach(e=>{for(let i=0,a=e.length;i<a;++i){const o=e[i];if(typeof o=="function"){o(t);continue}const c=e[++i];if(typeof t[o]=="function")t[o](...c);else{if(typeof c=="function"){t[o]=c(t);continue}t[o]=c}}})}clear(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}offset(){this.offset_=this.instructions_.length,this.zIndex=0}}const Y2=5;class X2 extends fo{constructor(t){super(),this.ready=!0,this.boundHandleImageChange_=this.handleImageChange_.bind(this),this.layer_=t,this.staleKeys_=new Array,this.maxStaleKeys=Y2}getStaleKeys(){return this.staleKeys_}prependStaleKey(t){this.staleKeys_.unshift(t),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}getFeatures(t){return It()}getData(t){return null}prepareFrame(t){return It()}renderFrame(t,e){return It()}forEachFeatureAtCoordinate(t,e,i,a,o){}getLayer(){return this.layer_}handleFontsChanged(){}handleImageChange_(t){const e=t.target;(e.getState()===Rt.LOADED||e.getState()===Rt.ERROR)&&this.renderIfReadyAndVisible()}loadImage(t){let e=t.getState();return e!=Rt.LOADED&&e!=Rt.ERROR&&t.addEventListener(vt.CHANGE,this.boundHandleImageChange_),e==Rt.IDLE&&(t.load(),e=t.getState()),e==Rt.LOADED}renderIfReadyAndVisible(){const t=this.getLayer();t&&t.getVisible()&&t.getSourceState()==="ready"&&t.changed()}renderDeferred(t){}disposeInternal(){delete this.layer_,super.disposeInternal()}}const gE=[];let ua=null;function H2(){ua=_e(1,1,void 0,{willReadFrequently:!0})}class yv extends X2{constructor(t){super(t),this.container=null,this.renderedResolution,this.tempTransform=Bn(),this.pixelTransform=Bn(),this.inversePixelTransform=Bn(),this.context=null,this.deferredContext_=null,this.containerReused=!1,this.frameState=null}getImageData(t,e,i){ua||H2(),ua.clearRect(0,0,1,1);let a;try{ua.drawImage(t,e,i,1,1,0,0,1,1),a=ua.getImageData(0,0,1,1).data}catch{return ua=null,null}return a}getBackground(t){let i=this.getLayer().getBackground();return typeof i=="function"&&(i=i(t.viewState.resolution)),i||void 0}useContainer(t,e,i){const a=this.getLayer().getClassName();let o,c;if(t&&t.className===a&&(!i||t&&t.style.backgroundColor&&As(xa(t.style.backgroundColor),xa(i)))){const h=t.firstElementChild;h instanceof HTMLCanvasElement&&(c=h.getContext("2d"))}if(c&&uw(c.canvas.style.transform,e)?(this.container=t,this.context=c,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){o=document.createElement("div"),o.className=a;let h=o.style;h.position="absolute",h.width="100%",h.height="100%",c=_e();const f=c.canvas;o.appendChild(f),h=f.style,h.position="absolute",h.left="0",h.transformOrigin="top left",this.container=o,this.context=c}!this.containerReused&&i&&!this.container.style.backgroundColor&&(this.container.style.backgroundColor=i)}clipUnrotated(t,e,i){const a=hr(i),o=Lc(i),c=Dc(i),h=Oc(i);Re(e.coordinateToPixelTransform,a),Re(e.coordinateToPixelTransform,o),Re(e.coordinateToPixelTransform,c),Re(e.coordinateToPixelTransform,h);const f=this.inversePixelTransform;Re(f,a),Re(f,o),Re(f,c),Re(f,h),t.save(),t.beginPath(),t.moveTo(Math.round(a[0]),Math.round(a[1])),t.lineTo(Math.round(o[0]),Math.round(o[1])),t.lineTo(Math.round(c[0]),Math.round(c[1])),t.lineTo(Math.round(h[0]),Math.round(h[1])),t.clip()}prepareContainer(t,e){const i=t.extent,a=t.viewState.resolution,o=t.viewState.rotation,c=t.pixelRatio,h=Math.round(Xt(i)/a*c),f=Math.round(Ge(i)/a*c);zi(this.pixelTransform,t.size[0]/2,t.size[1]/2,1/c,1/c,o,-h/2,-f/2),F1(this.inversePixelTransform,this.pixelTransform);const g=ow(this.pixelTransform);if(this.useContainer(e,g,this.getBackground(t)),!this.containerReused){const m=this.context.canvas;m.width!=h||m.height!=f?(m.width=h,m.height=f):this.context.clearRect(0,0,h,f),g!==m.style.transform&&(m.style.transform=g)}}dispatchRenderEvent_(t,e,i){const a=this.getLayer();if(a.hasListener(t)){const o=new hv(t,this.inversePixelTransform,i,e);a.dispatchEvent(o)}}preRender(t,e){this.frameState=e,!e.declutter&&this.dispatchRenderEvent_(Tn.PRERENDER,t,e)}postRender(t,e){e.declutter||this.dispatchRenderEvent_(Tn.POSTRENDER,t,e)}renderDeferredInternal(t){}getRenderContext(t){return t.declutter&&!this.deferredContext_&&(this.deferredContext_=new _v),t.declutter?this.deferredContext_.getContext():this.context}renderDeferred(t){t.declutter&&(this.dispatchRenderEvent_(Tn.PRERENDER,this.context,t),t.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(t),this.dispatchRenderEvent_(Tn.POSTRENDER,this.context,t))}getRenderTransform(t,e,i,a,o,c,h){const f=o/2,g=c/2,m=a/e,y=-m,p=-t[0]+h,x=-t[1];return zi(this.tempTransform,f,g,m,y,-i,p,x)}disposeInternal(){delete this.frameState,super.disposeInternal()}}function Fd(s,t,e,i){return`${s},${U2(t,e,i)}`}function jd(s,t,e){if(!(e in s))return s[e]=new Set([t]),!0;const i=s[e],a=i.has(t);return a||i.add(t),!a}function q2(s,t,e){const i=s[e];return i?i.delete(t):!1}function mE(s,t){const e=s.layerStatesArray[s.layerIndex];e.extent&&(t=sr(t,xs(e.extent,s.viewState.projection)));const i=e.layer.getRenderSource();if(!i.getWrapX()){const a=i.getTileGridForProjection(s.viewState.projection).getExtent();a&&(t=sr(t,a))}return t}class Z2 extends yv{constructor(t,e){super(t),e=e||{},this.extentChanged=!0,this.renderComplete=!1,this.renderedExtent_=null,this.renderedPixelRatio,this.renderedProjection=null,this.renderedRevision_,this.renderedTiles=[],this.renderedSourceKey_,this.renderedSourceRevision_,this.tempExtent=An(),this.tempTileRange_=new sm(0,0,0,0),this.tempTileCoord_=hc(0,0,0);const i=e.cacheSize!==void 0?e.cacheSize:512;this.tileCache_=new j2(i),this.maxStaleKeys=i*.5}getTileCache(){return this.tileCache_}getOrCreateTile(t,e,i,a){const o=this.tileCache_,h=this.getLayer().getSource(),f=Fd(h.getKey(),t,e,i);let g;if(o.containsKey(f))g=o.get(f);else{if(g=h.getTile(t,e,i,a.pixelRatio,a.viewState.projection),!g)return null;o.set(f,g)}return g}getTile(t,e,i,a){const o=this.getOrCreateTile(t,e,i,a);return o||null}getData(t){const e=this.frameState;if(!e)return null;const i=this.getLayer(),a=Re(e.pixelToCoordinateTransform,t.slice()),o=i.getExtent();if(o&&!Ea(o,a))return null;const c=e.viewState,h=i.getRenderSource(),f=h.getTileGridForProjection(c.projection),g=h.getTilePixelRatio(e.pixelRatio);for(let m=f.getZForResolution(c.resolution);m>=f.getMinZoom();--m){const y=f.getTileCoordForCoordAndZ(a,m),p=this.getTile(m,y[1],y[2],e);if(!p||p.getState()!==mt.LOADED)continue;const x=f.getOrigin(m),E=$e(f.getTileSize(m)),R=f.getResolution(m);let S;if(p instanceof gv||p instanceof mv)S=p.getImage();else if(p instanceof cE){if(S=hg(p.getData()),!S)continue}else continue;const T=Math.floor(g*((a[0]-x[0])/R-y[1]*E[0])),C=Math.floor(g*((x[1]-a[1])/R-y[2]*E[1])),w=Math.round(g*h.getGutterForProjection(c.projection));return this.getImageData(S,T+w,C+w)}return null}prepareFrame(t){this.renderedProjection?t.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=t.viewState.projection):this.renderedProjection=t.viewState.projection;const e=this.getLayer().getSource();if(!e)return!1;const i=e.getRevision();return this.renderedRevision_?this.renderedRevision_!==i&&(this.renderedRevision_=i,this.renderedSourceKey_===e.getKey()&&this.tileCache_.clear()):this.renderedRevision_=i,!0}enqueueTiles(t,e,i,a,o){const c=t.viewState,h=this.getLayer(),f=h.getRenderSource(),g=f.getTileGridForProjection(c.projection),m=jt(f);m in t.wantedTiles||(t.wantedTiles[m]={});const y=t.wantedTiles[m],p=h.getMapInternal(),x=Math.max(i-o,g.getMinZoom(),g.getZForResolution(Math.min(h.getMaxResolution(),p?p.getView().getResolutionForZoom(Math.max(h.getMinZoom(),0)):g.getResolution(0)),f.zDirection)),E=c.rotation,R=E?R1(c.center,c.resolution,E,t.size):void 0;for(let S=i;S>=x;--S){const T=g.getTileRangeForExtentAndZ(e,S,this.tempTileRange_),C=g.getResolution(S);for(let w=T.minX;w<=T.maxX;++w)for(let L=T.minY;L<=T.maxY;++L){if(E&&!g.tileCoordIntersectsViewport([S,w,L],R))continue;const A=this.getTile(S,w,L,t);if(!A||!jd(a,A,S))continue;const H=A.getKey();if(y[H]=!0,A.getState()===mt.IDLE&&!t.tileQueue.isKeyQueued(H)){const Z=hc(S,w,L,this.tempTileCoord_);t.tileQueue.enqueue([A,m,g.getTileCoordCenter(Z),C])}}}}findStaleTile_(t,e){const i=this.tileCache_,a=t[0],o=t[1],c=t[2],h=this.getStaleKeys();for(let f=0;f<h.length;++f){const g=Fd(h[f],a,o,c);if(i.containsKey(g)){const m=i.peek(g);if(m.getState()===mt.LOADED)return m.endTransition(jt(this)),jd(e,m,a),!0}}return!1}findAltTiles_(t,e,i,a){const o=t.getTileRangeForTileCoordAndZ(e,i,this.tempTileRange_);if(!o)return!1;let c=!0;const h=this.tileCache_,g=this.getLayer().getRenderSource().getKey();for(let m=o.minX;m<=o.maxX;++m)for(let y=o.minY;y<=o.maxY;++y){const p=Fd(g,i,m,y);let x=!1;if(h.containsKey(p)){const E=h.peek(p);E.getState()===mt.LOADED&&(jd(a,E,i),x=!0)}x||(c=!1)}return c}renderFrame(t,e){this.renderComplete=!0;const i=t.layerStatesArray[t.layerIndex],a=t.viewState,o=a.projection,c=a.resolution,h=a.center,f=t.pixelRatio,g=this.getLayer(),m=g.getSource(),y=m.getTileGridForProjection(o),p=y.getZForResolution(c,m.zDirection),x=y.getResolution(p),E=m.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==E&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=E):this.renderedSourceKey_=E;let R=t.extent;const S=m.getTilePixelRatio(f);this.prepareContainer(t,e);const T=this.context.canvas.width,C=this.context.canvas.height,w=i.extent&&xs(i.extent);w&&(R=sr(R,xs(i.extent)));const L=x*T/2/S,A=x*C/2/S,G=[h[0]-L,h[1]-A,h[0]+L,h[1]+A],H={};this.renderedTiles.length=0;const Z=g.getPreload();if(t.nextExtent){const $=y.getZForResolution(a.nextResolution,m.zDirection),rt=mE(t,t.nextExtent);this.enqueueTiles(t,rt,$,H,Z)}const K=mE(t,R);if(this.enqueueTiles(t,K,p,H,0),Z>0&&setTimeout(()=>{this.enqueueTiles(t,K,p-1,H,Z-1)},0),!(p in H))return this.container;const et=jt(this),ut=t.time;for(const $ of H[p]){const rt=$.getState();if(rt===mt.EMPTY)continue;const O=$.tileCoord;if(rt===mt.LOADED&&$.getAlpha(et,ut)===1){$.endTransition(et);continue}if(rt!==mt.ERROR&&(this.renderComplete=!1),this.findStaleTile_(O,H)){q2(H,$,p),t.animate=!0;continue}if(this.findAltTiles_(y,O,p+1,H))continue;const tt=y.getMinZoom();for(let at=p-1;at>=tt&&!this.findAltTiles_(y,O,at,H);--at);}const nt=x/c*f/S,st=this.getRenderContext(t);zi(this.tempTransform,T/2,C/2,nt,nt,0,-T/2,-C/2),i.extent&&this.clipUnrotated(st,t,w),m.getInterpolate()||(st.imageSmoothingEnabled=!1),this.preRender(st,t);const ot=Object.keys(H).map(Number);ot.sort(Di);let ft;const z=[],Q=[];for(let $=ot.length-1;$>=0;--$){const rt=ot[$],O=m.getTilePixelSize(rt,f,o),j=y.getResolution(rt)/x,tt=O[0]*j*nt,at=O[1]*j*nt,dt=y.getTileCoordForCoordAndZ(hr(G),rt),ct=y.getTileCoordExtent(dt),Ut=Re(this.tempTransform,[S*(ct[0]-G[0])/x,S*(G[3]-ct[3])/x]),Ot=S*m.getGutterForProjection(o);for(const ce of H[rt]){if(ce.getState()!==mt.LOADED)continue;const Te=ce.tileCoord,ai=dt[1]-Te[1],Ms=Math.round(Ut[0]-(ai-1)*tt),li=dt[2]-Te[2],Mn=Math.round(Ut[1]-(li-1)*at),Pe=Math.round(Ut[0]-ai*tt),gn=Math.round(Ut[1]-li*at),Ce=Ms-Pe,Ui=Mn-gn,Bi=ot.length===1;let Xn=!1;ft=[Pe,gn,Pe+Ce,gn,Pe+Ce,gn+Ui,Pe,gn+Ui];for(let On=0,Gi=z.length;On<Gi;++On)if(!Bi&&rt<Q[On]){const ae=z[On];Qe([Pe,gn,Pe+Ce,gn+Ui],[ae[0],ae[3],ae[4],ae[7]])&&(Xn||(st.save(),Xn=!0),st.beginPath(),st.moveTo(ft[0],ft[1]),st.lineTo(ft[2],ft[3]),st.lineTo(ft[4],ft[5]),st.lineTo(ft[6],ft[7]),st.moveTo(ae[6],ae[7]),st.lineTo(ae[4],ae[5]),st.lineTo(ae[2],ae[3]),st.lineTo(ae[0],ae[1]),st.clip())}z.push(ft),Q.push(rt),this.drawTile(ce,t,Pe,gn,Ce,Ui,Ot,Bi),Xn&&st.restore(),this.renderedTiles.unshift(ce),this.updateUsedTiles(t.usedTiles,m,ce)}}if(this.renderedResolution=x,this.extentChanged=!this.renderedExtent_||!Wl(this.renderedExtent_,G),this.renderedExtent_=G,this.renderedPixelRatio=f,this.postRender(this.context,t),i.extent&&st.restore(),st.imageSmoothingEnabled=!0,this.renderComplete){const $=(rt,O)=>{const X=jt(m),j=O.wantedTiles[X],tt=j?Object.keys(j).length:0;this.updateCacheSize(tt),this.tileCache_.expireCache()};t.postRenderFunctions.push($)}return this.container}updateCacheSize(t){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,t*2)}drawTile(t,e,i,a,o,c,h,f){let g;if(t instanceof cE){if(g=hg(t.getData()),!g)throw new Error("Rendering array data is not yet supported")}else g=this.getTileImage(t);if(!g)return;const m=this.getRenderContext(e),y=jt(this),p=e.layerStatesArray[e.layerIndex],x=p.opacity*(f?t.getAlpha(y,e.time):1),E=x!==m.globalAlpha;E&&(m.save(),m.globalAlpha=x),m.drawImage(g,h,h,g.width-2*h,g.height-2*h,i,a,o,c),E&&m.restore(),x!==p.opacity?e.animate=!0:f&&t.endTransition(y)}getImage(){const t=this.context;return t?t.canvas:null}getTileImage(t){return t.getImage()}updateUsedTiles(t,e,i){const a=jt(e);a in t||(t[a]={}),t[a][i.getKey()]=!0}}const Yu={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};class V2 extends Gc{constructor(t){t=t||{};const e=Object.assign({},t),i=t.cacheSize;delete t.cacheSize,delete e.preload,delete e.useInterimTilesOnError,super(e),this.on,this.once,this.un,this.cacheSize_=i,this.setPreload(t.preload!==void 0?t.preload:0),this.setUseInterimTilesOnError(t.useInterimTilesOnError!==void 0?t.useInterimTilesOnError:!0)}getCacheSize(){return this.cacheSize_}getPreload(){return this.get(Yu.PRELOAD)}setPreload(t){this.set(Yu.PRELOAD,t)}getUseInterimTilesOnError(){return this.get(Yu.USE_INTERIM_TILES_ON_ERROR)}setUseInterimTilesOnError(t){this.set(Yu.USE_INTERIM_TILES_ON_ERROR,t)}getData(t){return super.getData(t)}}class K2 extends V2{constructor(t){super(t)}createRenderer(){return new Z2(this,{cacheSize:this.getCacheSize()})}}const sa=[0,0,0],gs=5;class pv{constructor(t){this.minZoom=t.minZoom!==void 0?t.minZoom:0,this.resolutions_=t.resolutions,Bt(aC(this.resolutions_,(a,o)=>o-a),"`resolutions` must be sorted in descending order");let e;if(!t.origins){for(let a=0,o=this.resolutions_.length-1;a<o;++a)if(!e)e=this.resolutions_[a]/this.resolutions_[a+1];else if(this.resolutions_[a]/this.resolutions_[a+1]!==e){e=void 0;break}}this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=t.origin!==void 0?t.origin:null,this.origins_=null,t.origins!==void 0&&(this.origins_=t.origins,Bt(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));const i=t.extent;i!==void 0&&!this.origin_&&!this.origins_&&(this.origin_=hr(i)),Bt(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,t.tileSizes!==void 0&&(this.tileSizes_=t.tileSizes,Bt(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=t.tileSize!==void 0?t.tileSize:this.tileSizes_?null:Xg,Bt(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=i!==void 0?i:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],t.sizes!==void 0?this.fullTileRanges_=t.sizes.map((a,o)=>{const c=new sm(Math.min(0,a[0]),Math.max(a[0]-1,-1),Math.min(0,a[1]),Math.max(a[1]-1,-1));if(i){const h=this.getTileRangeForExtentAndZ(i,o);c.minX=Math.max(h.minX,c.minX),c.maxX=Math.min(h.maxX,c.maxX),c.minY=Math.max(h.minY,c.minY),c.maxY=Math.min(h.maxY,c.maxY)}return c}):i&&this.calculateTileRanges_(i)}forEachTileCoord(t,e,i){const a=this.getTileRangeForExtentAndZ(t,e);for(let o=a.minX,c=a.maxX;o<=c;++o)for(let h=a.minY,f=a.maxY;h<=f;++h)i([e,o,h])}forEachTileCoordParentTileRange(t,e,i,a){let o,c,h,f=null,g=t[0]-1;for(this.zoomFactor_===2?(c=t[1],h=t[2]):f=this.getTileCoordExtent(t,a);g>=this.minZoom;){if(c!==void 0&&h!==void 0?(c=Math.floor(c/2),h=Math.floor(h/2),o=ia(c,c,h,h,i)):o=this.getTileRangeForExtentAndZ(f,g,i),e(g,o))return!0;--g}return!1}getExtent(){return this.extent_}getMaxZoom(){return this.maxZoom}getMinZoom(){return this.minZoom}getOrigin(t){return this.origin_?this.origin_:this.origins_[t]}getResolution(t){return this.resolutions_[t]}getResolutions(){return this.resolutions_}getTileCoordChildTileRange(t,e,i){if(t[0]<this.maxZoom){if(this.zoomFactor_===2){const o=t[1]*2,c=t[2]*2;return ia(o,o+1,c,c+1,e)}const a=this.getTileCoordExtent(t,i||this.tmpExtent_);return this.getTileRangeForExtentAndZ(a,t[0]+1,e)}return null}getTileRangeForTileCoordAndZ(t,e,i){if(e>this.maxZoom||e<this.minZoom)return null;const a=t[0],o=t[1],c=t[2];if(e===a)return ia(o,c,o,c,i);if(this.zoomFactor_){const f=Math.pow(this.zoomFactor_,e-a),g=Math.floor(o*f),m=Math.floor(c*f);if(e<a)return ia(g,g,m,m,i);const y=Math.floor(f*(o+1))-1,p=Math.floor(f*(c+1))-1;return ia(g,y,m,p,i)}const h=this.getTileCoordExtent(t,this.tmpExtent_);return this.getTileRangeForExtentAndZ(h,e,i)}getTileRangeForExtentAndZ(t,e,i){this.getTileCoordForXYAndZ_(t[0],t[3],e,!1,sa);const a=sa[1],o=sa[2];this.getTileCoordForXYAndZ_(t[2],t[1],e,!0,sa);const c=sa[1],h=sa[2];return ia(a,c,o,h,i)}getTileCoordCenter(t){const e=this.getOrigin(t[0]),i=this.getResolution(t[0]),a=$e(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*a[0]*i,e[1]-(t[2]+.5)*a[1]*i]}getTileCoordExtent(t,e){const i=this.getOrigin(t[0]),a=this.getResolution(t[0]),o=$e(this.getTileSize(t[0]),this.tmpSize_),c=i[0]+t[1]*o[0]*a,h=i[1]-(t[2]+1)*o[1]*a,f=c+o[0]*a,g=h+o[1]*a;return Cs(c,h,f,g,e)}getTileCoordForCoordAndResolution(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)}getTileCoordForXYAndResolution_(t,e,i,a,o){const c=this.getZForResolution(i),h=i/this.getResolution(c),f=this.getOrigin(c),g=$e(this.getTileSize(c),this.tmpSize_);let m=h*(t-f[0])/i/g[0],y=h*(f[1]-e)/i/g[1];return a?(m=zu(m,gs)-1,y=zu(y,gs)-1):(m=Iu(m,gs),y=Iu(y,gs)),hc(c,m,y,o)}getTileCoordForXYAndZ_(t,e,i,a,o){const c=this.getOrigin(i),h=this.getResolution(i),f=$e(this.getTileSize(i),this.tmpSize_);let g=(t-c[0])/h/f[0],m=(c[1]-e)/h/f[1];return a?(g=zu(g,gs)-1,m=zu(m,gs)-1):(g=Iu(g,gs),m=Iu(m,gs)),hc(i,g,m,o)}getTileCoordForCoordAndZ(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)}getTileCoordResolution(t){return this.resolutions_[t[0]]}getTileSize(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]}getFullTileRange(t){return this.fullTileRanges_?this.fullTileRanges_[t]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,t):null}getZForResolution(t,e){const i=Sg(this.resolutions_,t,e||0);return te(i,this.minZoom,this.maxZoom)}tileCoordIntersectsViewport(t,e){return Y1(e,0,e.length,2,this.getTileCoordExtent(t))}calculateTileRanges_(t){const e=this.resolutions_.length,i=new Array(e);for(let a=this.minZoom;a<e;++a)i[a]=this.getTileRangeForExtentAndZ(t,a);this.fullTileRanges_=i}}function Ev(s){let t=s.getDefaultTileGrid();return t||(t=$2(s),s.setDefaultTileGrid(t)),t}function W2(s,t,e){const i=t[0],a=s.getTileCoordCenter(t),o=rm(e);if(!Ea(o,a)){const c=Xt(o),h=Math.ceil((o[0]-a[0])/c);return a[0]+=c*h,s.getTileCoordForCoordAndZ(a,i)}return t}function Q2(s,t,e,i){i=i!==void 0?i:"top-left";const a=vv(s,t,e);return new pv({extent:s,origin:SC(s,i),resolutions:a,tileSize:e})}function J2(s){const t=s||{},e=t.extent||en("EPSG:3857").getExtent(),i={extent:e,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:vv(e,t.maxZoom,t.tileSize,t.maxResolution)};return new pv(i)}function vv(s,t,e,i){t=t!==void 0?t:Nw,e=$e(e!==void 0?e:Xg);const a=Ge(s),o=Xt(s);i=i>0?i:Math.max(o/e[0],a/e[1]);const c=t+1,h=new Array(c);for(let f=0;f<c;++f)h[f]=i/Math.pow(2,f);return h}function $2(s,t,e,i){const a=rm(s);return Q2(a,t,e,i)}function rm(s){s=en(s);let t=s.getExtent();if(!t){const e=180*wg.degrees/s.getMetersPerUnit();t=Cs(-e,-e,e,e)}return t}const tM=/\{z\}/g,eM=/\{x\}/g,nM=/\{y\}/g,iM=/\{-y\}/g;function sM(s,t,e,i,a){return s.replace(tM,t.toString()).replace(eM,e.toString()).replace(nM,i.toString()).replace(iM,function(){if(a===void 0)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(a-i).toString()})}function rM(s){const t=[];let e=/\{([a-z])-([a-z])\}/.exec(s);if(e){const i=e[1].charCodeAt(0),a=e[2].charCodeAt(0);let o;for(o=i;o<=a;++o)t.push(s.replace(e[0],String.fromCharCode(o)));return t}if(e=/\{(\d+)-(\d+)\}/.exec(s),e){const i=parseInt(e[2],10);for(let a=parseInt(e[1],10);a<=i;a++)t.push(s.replace(e[0],a.toString()));return t}return t.push(s),t}function aM(s,t){return function(e,i,a){if(!e)return;let o;const c=e[0];if(t){const h=t.getFullTileRange(c);h&&(o=h.getHeight()-1)}return sM(s,c,e[1],e[2],o)}}function lM(s,t){const e=s.length,i=new Array(e);for(let a=0;a<e;++a)i[a]=aM(s[a],t);return oM(i)}function oM(s){return s.length===1?s[0]:function(t,e,i){if(!t)return;const a=B2(t),o=da(a,s.length);return s[o](t,e,i)}}class xv extends ri{constructor(t){super(),this.projection=en(t.projection),this.attributions_=_E(t.attributions),this.attributionsCollapsible_=t.attributionsCollapsible??!0,this.loading=!1,this.state_=t.state!==void 0?t.state:"ready",this.wrapX_=t.wrapX!==void 0?t.wrapX:!1,this.interpolate_=!!t.interpolate,this.viewResolver=null,this.viewRejector=null;const e=this;this.viewPromise_=new Promise(function(i,a){e.viewResolver=i,e.viewRejector=a})}getAttributions(){return this.attributions_}getAttributionsCollapsible(){return this.attributionsCollapsible_}getProjection(){return this.projection}getResolutions(t){return null}getView(){return this.viewPromise_}getState(){return this.state_}getWrapX(){return this.wrapX_}getInterpolate(){return this.interpolate_}refresh(){this.changed()}setAttributions(t){this.attributions_=_E(t),this.changed()}setState(t){this.state_=t,this.changed()}}function _E(s){return s?typeof s=="function"?s:(Array.isArray(s)||(s=[s]),t=>s):null}class uM extends xv{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX,interpolate:t.interpolate}),this.on,this.once,this.un,this.tilePixelRatio_=t.tilePixelRatio!==void 0?t.tilePixelRatio:1,this.tileGrid=t.tileGrid!==void 0?t.tileGrid:null;const e=[256,256];this.tileGrid&&$e(this.tileGrid.getTileSize(this.tileGrid.getMinZoom()),e),this.tmpSize=[0,0],this.key_=t.key||jt(this),this.tileOptions={transition:t.transition,interpolate:t.interpolate},this.zDirection=t.zDirection?t.zDirection:0}getGutterForProjection(t){return 0}getKey(){return this.key_}setKey(t){this.key_!==t&&(this.key_=t,this.changed())}getResolutions(t){const e=t?this.getTileGridForProjection(t):this.tileGrid;return e?e.getResolutions():null}getTile(t,e,i,a,o){return It()}getTileGrid(){return this.tileGrid}getTileGridForProjection(t){return this.tileGrid?this.tileGrid:Ev(t)}getTilePixelRatio(t){return this.tilePixelRatio_}getTilePixelSize(t,e,i){const a=this.getTileGridForProjection(i),o=this.getTilePixelRatio(e),c=$e(a.getTileSize(t),this.tmpSize);return o==1?c:CA(c,o,this.tmpSize)}getTileCoordForTileUrlFunction(t,e){const i=e!==void 0?e:this.getProjection(),a=e!==void 0?this.getTileGridForProjection(i):this.tileGrid||this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=W2(a,t,i)),P2(t,a)?t:null}clear(){}refresh(){this.clear(),super.refresh()}}class cM extends Fi{constructor(t,e){super(t),this.tile=e}}const Ud={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"};class am extends uM{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===am.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,i=jt(e),a=e.getState();let o;a==mt.LOADING?(this.tileLoadingKeys_[i]=!0,o=Ud.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=a==mt.ERROR?Ud.TILELOADERROR:a==mt.LOADED?Ud.TILELOADEND:void 0),o!=null&&this.dispatchEvent(new cM(o,e))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,typeof e<"u"?this.setKey(e):this.changed()}setUrl(t){const e=rM(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join(`
`);this.generateTileUrlFunction_?this.setTileUrlFunction(lM(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,i){}}class hM extends am{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:fM,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate!==void 0?t.interpolate:!0,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=t.crossOrigin!==void 0?t.crossOrigin:null,this.tileClass=t.tileClass!==void 0?t.tileClass:gv,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!yd(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){const e=this.getProjection();if(this.tileGrid&&(!e||yd(e,t)))return this.tileGrid;const i=jt(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=Ev(t)),this.tileGridForProjection[i]}createTile_(t,e,i,a,o,c){const h=[t,e,i],f=this.getTileCoordForTileUrlFunction(h,o),g=f?this.tileUrlFunction(f,a,o):void 0,m=new this.tileClass(h,g!==void 0?mt.IDLE:mt.EMPTY,g!==void 0?g:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return m.key=c,m.addEventListener(vt.CHANGE,this.handleTileChange.bind(this)),m}getTile(t,e,i,a,o){const c=this.getProjection();if(!c||!o||yd(c,o))return this.getTileInternal(t,e,i,a,c||o);const h=[t,e,i],f=this.getKey(),g=this.getTileGridForProjection(c),m=this.getTileGridForProjection(o),y=this.getTileCoordForTileUrlFunction(h,o),p=new mv(c,g,o,m,h,y,this.getTilePixelRatio(a),this.getGutter(),(x,E,R,S)=>this.getTileInternal(x,E,R,S,c),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return p.key=f,p}getTileInternal(t,e,i,a,o){const c=this.getKey();return this.createTile_(t,e,i,a,o,c)}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,e){const i=en(t);if(i){const a=jt(i);a in this.tileGridForProjection||(this.tileGridForProjection[a]=e)}}}function fM(s,t){s.getImage().src=t}class dM extends hM{constructor(t){t=t||{};const e=t.projection!==void 0?t.projection:"EPSG:3857",i=t.tileGrid!==void 0?t.tileGrid:J2({extent:rm(e),maxResolution:t.maxResolution,maxZoom:t.maxZoom,minZoom:t.minZoom,tileSize:t.tileSize});super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:e,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileGrid:i,tileLoadFunction:t.tileLoadFunction,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX!==void 0?t.wrapX:!0,transition:t.transition,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.gutter_=t.gutter!==void 0?t.gutter:0}getGutter(){return this.gutter_}}class fc extends ri{constructor(t){if(super(),this.on,this.once,this.un,this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),t)if(typeof t.getSimplifiedGeometry=="function"){const e=t;this.setGeometry(e)}else{const e=t;this.setProperties(e)}}clone(){const t=new fc(this.hasProperties()?this.getProperties():null);t.setGeometryName(this.getGeometryName());const e=this.getGeometry();e&&t.setGeometry(e.clone());const i=this.getStyle();return i&&t.setStyle(i),t}getGeometry(){return this.get(this.geometryName_)}getId(){return this.id_}getGeometryName(){return this.geometryName_}getStyle(){return this.style_}getStyleFunction(){return this.styleFunction_}handleGeometryChange_(){this.changed()}handleGeometryChanged_(){this.geometryChangeKey_&&(Jt(this.geometryChangeKey_),this.geometryChangeKey_=null);const t=this.getGeometry();t&&(this.geometryChangeKey_=zt(t,vt.CHANGE,this.handleGeometryChange_,this)),this.changed()}setGeometry(t){this.set(this.geometryName_,t)}setStyle(t){this.style_=t,this.styleFunction_=t?gM(t):void 0,this.changed()}setId(t){this.id_=t,this.changed()}setGeometryName(t){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=t,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()}}function gM(s){if(typeof s=="function")return s;let t;return Array.isArray(s)?t=s:(Bt(typeof s.getZIndex=="function","Expected an `ol/style/Style` or an array of `ol/style/Style.js`"),t=[s]),function(){return t}}function fg(s,t,e,i,a,o,c){let h,f;const g=(e-t)/i;if(g===1)h=t;else if(g===2)h=t,f=a;else if(g!==0){let m=s[t],y=s[t+1],p=0;const x=[0];for(let S=t+i;S<e;S+=i){const T=s[S],C=s[S+1];p+=Math.sqrt((T-m)*(T-m)+(C-y)*(C-y)),x.push(p),m=T,y=C}const E=a*p,R=iC(x,E);R<0?(f=(E-x[-R-2])/(x[-R-1]-x[-R-2]),h=t+(-R-2)*i):h=t+R*i}c=c>1?c:2,o=o||new Array(c);for(let m=0;m<c;++m)o[m]=h===void 0?NaN:f===void 0?s[h+m]:fn(s[h+m],s[h+i+m],f);return o}function mM(s,t,e,i,a,o){if(e==t)return null;let c;if(a<s[t+i-1])return o?(c=s.slice(t,t+i),c[i-1]=a,c):null;if(s[e-1]<a)return o?(c=s.slice(e-i,e),c[i-1]=a,c):null;if(a==s[t+i-1])return s.slice(t,t+i);let h=t/i,f=e/i;for(;h<f;){const p=h+f>>1;a<s[(p+1)*i-1]?f=p:h=p+1}const g=s[h*i-1];if(a==g)return s.slice((h-1)*i,(h-1)*i+i);const m=s[(h+1)*i-1],y=(a-g)/(m-g);c=[];for(let p=0;p<i-1;++p)c.push(fn(s[(h-1)*i+p],s[h*i+p],y));return c.push(a),c}function Sv(s,t,e,i){let a=s[t],o=s[t+1],c=0;for(let h=t+i;h<e;h+=i){const f=s[h],g=s[h+1];c+=Math.sqrt((f-a)*(f-a)+(g-o)*(g-o)),a=f,o=g}return c}class dc extends kc{constructor(t,e){super(),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,e!==void 0&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}appendCoordinate(t){Tc(this.flatCoordinates,t),this.changed()}clone(){const t=new dc(this.flatCoordinates.slice(),this.layout);return t.applyProperties(this),t}closestPointXY(t,e,i,a){return a<Rg(this.getExtent(),t,e)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(zg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),kg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,i,a))}forEachSegment(t){return P1(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)}getCoordinateAtM(t,e){return this.layout!="XYM"&&this.layout!="XYZM"?null:(e=e!==void 0?e:!1,mM(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e))}getCoordinates(){return $s(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getCoordinateAt(t,e){return fg(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,this.stride)}getLength(){return Sv(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}getFlatMidpoint(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_??void 0),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_}getSimplifiedGeometryInternal(t){const e=[];return e.length=Fc(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new dc(e,"XY")}getType(){return"LineString"}intersectsExtent(t){return Ug(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,this.getExtent())}setCoordinates(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Fg(this.flatCoordinates,0,t,this.stride),this.changed()}}class bv{drawCustom(t,e,i,a,o){}drawGeometry(t){}setStyle(t){}drawCircle(t,e,i){}drawFeature(t,e,i){}drawGeometryCollection(t,e,i){}drawLineString(t,e,i){}drawMultiLineString(t,e,i){}drawMultiPoint(t,e,i){}drawMultiPolygon(t,e,i){}drawPoint(t,e,i){}drawPolygon(t,e,i){}drawText(t,e,i){}setFillStrokeStyle(t,e){}setImageStyle(t,e){}setTextStyle(t,e){}}class _M extends bv{constructor(t,e,i,a,o,c,h){super(),this.context_=t,this.pixelRatio_=e,this.extent_=i,this.transform_=a,this.transformRotation_=a?Ac(Math.atan2(a[1],a[0]),10):0,this.viewRotation_=o,this.squaredTolerance_=c,this.userTransform_=h,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=[0,0],this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=[0,0],this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Bn()}drawImages_(t,e,i,a){if(!this.image_)return;const o=Ts(t,e,i,a,this.transform_,this.pixelCoordinates_),c=this.context_,h=this.tmpLocalTransform_,f=c.globalAlpha;this.imageOpacity_!=1&&(c.globalAlpha=f*this.imageOpacity_);let g=this.imageRotation_;this.transformRotation_===0&&(g-=this.viewRotation_),this.imageRotateWithView_&&(g+=this.viewRotation_);for(let m=0,y=o.length;m<y;m+=2){const p=o[m]-this.imageAnchorX_,x=o[m+1]-this.imageAnchorY_;if(g!==0||this.imageScale_[0]!=1||this.imageScale_[1]!=1){const E=p+this.imageAnchorX_,R=x+this.imageAnchorY_;zi(h,E,R,1,1,g,-E,-R),c.save(),c.transform.apply(c,h),c.translate(E,R),c.scale(this.imageScale_[0],this.imageScale_[1]),c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,-this.imageAnchorX_,-this.imageAnchorY_,this.imageWidth_,this.imageHeight_),c.restore()}else c.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,p,x,this.imageWidth_,this.imageHeight_)}this.imageOpacity_!=1&&(c.globalAlpha=f)}drawText_(t,e,i,a){if(!this.textState_||this.text_==="")return;this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);const o=Ts(t,e,i,a,this.transform_,this.pixelCoordinates_),c=this.context_;let h=this.textRotation_;for(this.transformRotation_===0&&(h-=this.viewRotation_),this.textRotateWithView_&&(h+=this.viewRotation_);e<i;e+=a){const f=o[e]+this.textOffsetX_,g=o[e+1]+this.textOffsetY_;h!==0||this.textScale_[0]!=1||this.textScale_[1]!=1?(c.save(),c.translate(f-this.textOffsetX_,g-this.textOffsetY_),c.rotate(h),c.translate(this.textOffsetX_,this.textOffsetY_),c.scale(this.textScale_[0],this.textScale_[1]),this.textStrokeState_&&c.strokeText(this.text_,0,0),this.textFillState_&&c.fillText(this.text_,0,0),c.restore()):(this.textStrokeState_&&c.strokeText(this.text_,f,g),this.textFillState_&&c.fillText(this.text_,f,g))}}moveToLineTo_(t,e,i,a,o){const c=this.context_,h=Ts(t,e,i,a,this.transform_,this.pixelCoordinates_);c.moveTo(h[0],h[1]);let f=h.length;o&&(f-=2);for(let g=2;g<f;g+=2)c.lineTo(h[g],h[g+1]);return o&&c.closePath(),i}drawRings_(t,e,i,a){for(let o=0,c=i.length;o<c;++o)e=this.moveToLineTo_(t,e,i[o],a,!0);return e}drawCircle(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Qe(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=mw(t,this.transform_,this.pixelCoordinates_),i=e[2]-e[0],a=e[3]-e[1],o=Math.sqrt(i*i+a*a),c=this.context_;c.beginPath(),c.arc(e[0],e[1],o,0,2*Math.PI),this.fillState_&&c.fill(),this.strokeState_&&c.stroke()}this.text_!==""&&this.drawText_(t.getCenter(),0,2,2)}}setStyle(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())}setTransform(t){this.transform_=t}drawGeometry(t){switch(t.getType()){case"Point":this.drawPoint(t);break;case"LineString":this.drawLineString(t);break;case"Polygon":this.drawPolygon(t);break;case"MultiPoint":this.drawMultiPoint(t);break;case"MultiLineString":this.drawMultiLineString(t);break;case"MultiPolygon":this.drawMultiPolygon(t);break;case"GeometryCollection":this.drawGeometryCollection(t);break;case"Circle":this.drawCircle(t);break}}drawFeature(t,e){const i=e.getGeometryFunction()(t);i&&(this.setStyle(e),this.drawGeometry(i))}drawGeometryCollection(t){const e=t.getGeometriesArray();for(let i=0,a=e.length;i<a;++i)this.drawGeometry(e[i])}drawPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),this.text_!==""&&this.drawText_(e,0,e.length,i)}drawMultiPoint(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),this.text_!==""&&this.drawText_(e,0,e.length,i)}drawLineString(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Qe(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const e=this.context_,i=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(i,0,i.length,t.getStride(),!1),e.stroke()}if(this.text_!==""){const e=t.getFlatMidpoint();this.drawText_(e,0,2,2)}}}drawMultiLineString(t){this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_));const e=t.getExtent();if(Qe(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);const i=this.context_,a=t.getFlatCoordinates();let o=0;const c=t.getEnds(),h=t.getStride();i.beginPath();for(let f=0,g=c.length;f<g;++f)o=this.moveToLineTo_(a,o,c[f],h,!1);i.stroke()}if(this.text_!==""){const i=t.getFlatMidpoints();this.drawText_(i,0,i.length,2)}}}drawPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Qe(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(this.text_!==""){const e=t.getFlatInteriorPoint();this.drawText_(e,0,2,2)}}}drawMultiPolygon(t){if(this.squaredTolerance_&&(t=t.simplifyTransformed(this.squaredTolerance_,this.userTransform_)),!!Qe(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);const e=this.context_,i=t.getOrientedFlatCoordinates();let a=0;const o=t.getEndss(),c=t.getStride();e.beginPath();for(let h=0,f=o.length;h<f;++h){const g=o[h];a=this.drawRings_(i,a,g,c)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(this.text_!==""){const e=t.getFlatInteriorPoints();this.drawText_(e,0,e.length,2)}}}setContextFillState_(t){const e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=t.fillStyle,e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})}setContextStrokeState_(t){const e=this.context_,i=this.contextStrokeState_;i?(i.lineCap!=t.lineCap&&(i.lineCap=t.lineCap,e.lineCap=t.lineCap),As(i.lineDash,t.lineDash)||e.setLineDash(i.lineDash=t.lineDash),i.lineDashOffset!=t.lineDashOffset&&(i.lineDashOffset=t.lineDashOffset,e.lineDashOffset=t.lineDashOffset),i.lineJoin!=t.lineJoin&&(i.lineJoin=t.lineJoin,e.lineJoin=t.lineJoin),i.lineWidth!=t.lineWidth&&(i.lineWidth=t.lineWidth,e.lineWidth=t.lineWidth),i.miterLimit!=t.miterLimit&&(i.miterLimit=t.miterLimit,e.miterLimit=t.miterLimit),i.strokeStyle!=t.strokeStyle&&(i.strokeStyle=t.strokeStyle,e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset,e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})}setContextTextState_(t){const e=this.context_,i=this.contextTextState_,a=t.textAlign?t.textAlign:no;i?(i.font!=t.font&&(i.font=t.font,e.font=t.font),i.textAlign!=a&&(i.textAlign=a,e.textAlign=a),i.textBaseline!=t.textBaseline&&(i.textBaseline=t.textBaseline,e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=a,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:a,textBaseline:t.textBaseline})}setFillStrokeStyle(t,e){if(!t)this.fillState_=null;else{const i=t.getColor();this.fillState_={fillStyle:ii(i||We)}}if(!e)this.strokeState_=null;else{const i=e.getColor(),a=e.getLineCap(),o=e.getLineDash(),c=e.getLineDashOffset(),h=e.getLineJoin(),f=e.getWidth(),g=e.getMiterLimit(),m=o||Li;this.strokeState_={lineCap:a!==void 0?a:Sa,lineDash:this.pixelRatio_===1?m:m.map(y=>y*this.pixelRatio_),lineDashOffset:(c||Ni)*this.pixelRatio_,lineJoin:h!==void 0?h:ba,lineWidth:(f!==void 0?f:io)*this.pixelRatio_,miterLimit:g!==void 0?g:to,strokeStyle:ii(i||eo)}}}setImageStyle(t){let e;if(!t||!(e=t.getSize())){this.image_=null;return}const i=t.getPixelRatio(this.pixelRatio_),a=t.getAnchor(),o=t.getOrigin();this.image_=t.getImage(this.pixelRatio_),this.imageAnchorX_=a[0]*i,this.imageAnchorY_=a[1]*i,this.imageHeight_=e[1]*i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=o[0],this.imageOriginY_=o[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation();const c=t.getScaleArray();this.imageScale_=[c[0]*this.pixelRatio_/i,c[1]*this.pixelRatio_/i],this.imageWidth_=e[0]*i}setTextStyle(t){if(!t)this.text_="";else{const e=t.getFill();if(!e)this.textFillState_=null;else{const x=e.getColor();this.textFillState_={fillStyle:ii(x||We)}}const i=t.getStroke();if(!i)this.textStrokeState_=null;else{const x=i.getColor(),E=i.getLineCap(),R=i.getLineDash(),S=i.getLineDashOffset(),T=i.getLineJoin(),C=i.getWidth(),w=i.getMiterLimit();this.textStrokeState_={lineCap:E!==void 0?E:Sa,lineDash:R||Li,lineDashOffset:S||Ni,lineJoin:T!==void 0?T:ba,lineWidth:C!==void 0?C:io,miterLimit:w!==void 0?w:to,strokeStyle:ii(x||eo)}}const a=t.getFont(),o=t.getOffsetX(),c=t.getOffsetY(),h=t.getRotateWithView(),f=t.getRotation(),g=t.getScaleArray(),m=t.getText(),y=t.getTextAlign(),p=t.getTextBaseline();this.textState_={font:a!==void 0?a:iv,textAlign:y!==void 0?y:no,textBaseline:p!==void 0?p:lc},this.text_=m!==void 0?Array.isArray(m)?m.reduce((x,E,R)=>x+=R%2?" ":E,""):m:"",this.textOffsetX_=o!==void 0?this.pixelRatio_*o:0,this.textOffsetY_=c!==void 0?this.pixelRatio_*c:0,this.textRotateWithView_=h!==void 0?h:!1,this.textRotation_=f!==void 0?f:0,this.textScale_=[this.pixelRatio_*g[0],this.pixelRatio_*g[1]]}}}const yM=.5,Rv={Point:TM,LineString:SM,Polygon:wM,MultiPoint:CM,MultiLineString:bM,MultiPolygon:RM,GeometryCollection:xM,Circle:EM};function pM(s,t){return parseInt(jt(s),10)-parseInt(jt(t),10)}function yE(s,t){const e=Tv(s,t);return e*e}function Tv(s,t){return yM*s/t}function EM(s,t,e,i,a){const o=e.getFill(),c=e.getStroke();if(o||c){const f=s.getBuilder(e.getZIndex(),"Circle");f.setFillStrokeStyle(o,c),f.drawCircle(t,i,a)}const h=e.getText();if(h&&h.getText()){const f=s.getBuilder(e.getZIndex(),"Text");f.setTextStyle(h),f.drawText(t,i)}}function pE(s,t,e,i,a,o,c,h){const f=[],g=e.getImage();if(g){let p=!0;const x=g.getImageState();x==Rt.LOADED||x==Rt.ERROR?p=!1:x==Rt.IDLE&&g.load(),p&&f.push(g.ready())}const m=e.getFill();m&&m.loading()&&f.push(m.ready());const y=f.length>0;return y&&Promise.all(f).then(()=>a(null)),vM(s,t,e,i,o,c,h),y}function vM(s,t,e,i,a,o,c){const h=e.getGeometryFunction()(t);if(!h)return;const f=h.simplifyTransformed(i,a);if(e.getRenderer())Cv(s,f,e,t,c);else{const m=Rv[f.getType()];m(s,f,e,t,c,o)}}function Cv(s,t,e,i,a){if(t.getType()=="GeometryCollection"){const c=t.getGeometries();for(let h=0,f=c.length;h<f;++h)Cv(s,c[h],e,i,a);return}s.getBuilder(e.getZIndex(),"Default").drawCustom(t,i,e.getRenderer(),e.getHitDetectionRenderer(),a)}function xM(s,t,e,i,a,o){const c=t.getGeometriesArray();let h,f;for(h=0,f=c.length;h<f;++h){const g=Rv[c[h].getType()];g(s,c[h],e,i,a,o)}}function SM(s,t,e,i,a){const o=e.getStroke();if(o){const h=s.getBuilder(e.getZIndex(),"LineString");h.setFillStrokeStyle(null,o),h.drawLineString(t,i,a)}const c=e.getText();if(c&&c.getText()){const h=s.getBuilder(e.getZIndex(),"Text");h.setTextStyle(c),h.drawText(t,i,a)}}function bM(s,t,e,i,a){const o=e.getStroke();if(o){const h=s.getBuilder(e.getZIndex(),"LineString");h.setFillStrokeStyle(null,o),h.drawMultiLineString(t,i,a)}const c=e.getText();if(c&&c.getText()){const h=s.getBuilder(e.getZIndex(),"Text");h.setTextStyle(c),h.drawText(t,i,a)}}function RM(s,t,e,i,a){const o=e.getFill(),c=e.getStroke();if(c||o){const f=s.getBuilder(e.getZIndex(),"Polygon");f.setFillStrokeStyle(o,c),f.drawMultiPolygon(t,i,a)}const h=e.getText();if(h&&h.getText()){const f=s.getBuilder(e.getZIndex(),"Text");f.setTextStyle(h),f.drawText(t,i,a)}}function TM(s,t,e,i,a,o){const c=e.getImage(),h=e.getText(),f=h&&h.getText(),g=o&&c&&f?{}:void 0;if(c){if(c.getImageState()!=Rt.LOADED)return;const m=s.getBuilder(e.getZIndex(),"Image");m.setImageStyle(c,g),m.drawPoint(t,i,a)}if(f){const m=s.getBuilder(e.getZIndex(),"Text");m.setTextStyle(h,g),m.drawText(t,i,a)}}function CM(s,t,e,i,a,o){const c=e.getImage(),h=c&&c.getOpacity()!==0,f=e.getText(),g=f&&f.getText(),m=o&&h&&g?{}:void 0;if(h){if(c.getImageState()!=Rt.LOADED)return;const y=s.getBuilder(e.getZIndex(),"Image");y.setImageStyle(c,m),y.drawMultiPoint(t,i,a)}if(g){const y=s.getBuilder(e.getZIndex(),"Text");y.setTextStyle(f,m),y.drawText(t,i,a)}}function wM(s,t,e,i,a){const o=e.getFill(),c=e.getStroke();if(o||c){const f=s.getBuilder(e.getZIndex(),"Polygon");f.setFillStrokeStyle(o,c),f.drawPolygon(t,i,a)}const h=e.getText();if(h&&h.getText()){const f=s.getBuilder(e.getZIndex(),"Text");f.setTextStyle(h),f.drawText(t,i,a)}}let AM=!1;function MM(s,t,e,i,a,o,c){const h=new XMLHttpRequest;h.open("GET",typeof s=="function"?s(e,i,a):s,!0),t.getType()=="arraybuffer"&&(h.responseType="arraybuffer"),h.withCredentials=AM,h.onload=function(f){if(!h.status||h.status>=200&&h.status<300){const g=t.getType();try{let m;g=="text"||g=="json"?m=h.responseText:g=="xml"?m=h.responseXML||h.responseText:g=="arraybuffer"&&(m=h.response),m?o(t.readFeatures(m,{extent:e,featureProjection:a}),t.readProjection(m)):c()}catch{c()}}else c()},h.onerror=c,h.send()}function EE(s,t){return function(e,i,a,o,c){MM(s,t,e,i,a,(h,f)=>{this.addFeatures(h),o!==void 0&&o(h)},()=>{this.changed(),c!==void 0&&c()})}}function OM(s,t){return[[-1/0,-1/0,1/0,1/0]]}function DM(s,t,e,i){const a=[];let o=An();for(let c=0,h=e.length;c<h;++c){const f=e[c];o=Tg(s,t,f[0],i),a.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=f[f.length-1]}return a}const vE=Bn();class Fn{constructor(t,e,i,a,o,c){this.styleFunction,this.extent_,this.id_=c,this.type_=t,this.flatCoordinates_=e,this.flatInteriorPoints_=null,this.flatMidpoints_=null,this.ends_=i||null,this.properties_=o,this.squaredTolerance_,this.stride_=a,this.simplifiedGeometry_}get(t){return this.properties_[t]}getExtent(){return this.extent_||(this.extent_=this.type_==="Point"?x1(this.flatCoordinates_):Tg(this.flatCoordinates_,0,this.flatCoordinates_.length,2)),this.extent_}getFlatInteriorPoint(){if(!this.flatInteriorPoints_){const t=lr(this.getExtent());this.flatInteriorPoints_=jg(this.flatCoordinates_,0,this.ends_,2,t,0)}return this.flatInteriorPoints_}getFlatInteriorPoints(){if(!this.flatInteriorPoints_){const t=Aw(this.flatCoordinates_,this.ends_),e=DM(this.flatCoordinates_,0,t,2);this.flatInteriorPoints_=Rw(this.flatCoordinates_,0,t,2,e)}return this.flatInteriorPoints_}getFlatMidpoint(){return this.flatMidpoints_||(this.flatMidpoints_=fg(this.flatCoordinates_,0,this.flatCoordinates_.length,2,.5)),this.flatMidpoints_}getFlatMidpoints(){if(!this.flatMidpoints_){this.flatMidpoints_=[];const t=this.flatCoordinates_;let e=0;const i=this.ends_;for(let a=0,o=i.length;a<o;++a){const c=i[a],h=fg(t,e,c,2,.5);Tc(this.flatMidpoints_,h),e=c}}return this.flatMidpoints_}getId(){return this.id_}getOrientedFlatCoordinates(){return this.flatCoordinates_}getGeometry(){return this}getSimplifiedGeometry(t){return this}simplifyTransformed(t,e){return this}getProperties(){return this.properties_}getPropertiesInternal(){return this.properties_}getStride(){return this.stride_}getStyleFunction(){return this.styleFunction}getType(){return this.type_}transform(t){t=en(t);const e=t.getExtent(),i=t.getWorldExtent();if(e&&i){const a=Ge(i)/Ge(e);zi(vE,i[0],i[3],a,-a,0,0,0),Ts(this.flatCoordinates_,0,this.flatCoordinates_.length,2,vE,this.flatCoordinates_)}}applyTransform(t){t(this.flatCoordinates_,this.flatCoordinates_,this.stride_)}clone(){var t;return new Fn(this.type_,this.flatCoordinates_.slice(),(t=this.ends_)==null?void 0:t.slice(),this.stride_,Object.assign({},this.properties_),this.id_)}getEnds(){return this.ends_}enableSimplifyTransformed(){return this.simplifyTransformed=g1((t,e)=>{if(t===this.squaredTolerance_)return this.simplifiedGeometry_;this.simplifiedGeometry_=this.clone(),e&&this.simplifiedGeometry_.applyTransform(e);const i=this.simplifiedGeometry_.getFlatCoordinates();let a;switch(this.type_){case"LineString":i.length=Fc(i,0,this.simplifiedGeometry_.flatCoordinates_.length,this.simplifiedGeometry_.stride_,t,i,0),a=[i.length];break;case"MultiLineString":a=[],i.length=xw(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,t,i,0,a);break;case"Polygon":a=[],i.length=B1(i,0,this.simplifiedGeometry_.ends_,this.simplifiedGeometry_.stride_,Math.sqrt(t),i,0,a);break}return a&&(this.simplifiedGeometry_=new Fn(this.type_,i,a,2,this.properties_,this.id_)),this.squaredTolerance_=t,this.simplifiedGeometry_}),this}}Fn.prototype.getFlatCoordinates=Fn.prototype.getOrientedFlatCoordinates;class xE{constructor(t){this.rbush_=new Q1(t),this.items_={}}insert(t,e){const i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(i),this.items_[jt(e)]=i}load(t,e){const i=new Array(e.length);for(let a=0,o=e.length;a<o;a++){const c=t[a],h=e[a],f={minX:c[0],minY:c[1],maxX:c[2],maxY:c[3],value:h};i[a]=f,this.items_[jt(h)]=f}this.rbush_.load(i)}remove(t){const e=jt(t),i=this.items_[e];return delete this.items_[e],this.rbush_.remove(i)!==null}update(t,e){const i=this.items_[jt(e)],a=[i.minX,i.minY,i.maxX,i.maxY];Wl(a,t)||(this.remove(e),this.insert(t,e))}getAll(){return this.rbush_.all().map(function(e){return e.value})}getInExtent(t){const e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(a){return a.value})}forEach(t){return this.forEach_(this.getAll(),t)}forEachInExtent(t,e){return this.forEach_(this.getInExtent(t),e)}forEach_(t,e){let i;for(let a=0,o=t.length;a<o;a++)if(i=e(t[a]),i)return i;return i}isEmpty(){return pa(this.items_)}clear(){this.rbush_.clear(),this.items_={}}getExtent(t){const e=this.rbush_.toJSON();return Cs(e.minX,e.minY,e.maxX,e.maxY,t)}concat(t){this.rbush_.load(t.rbush_.all());for(const e in t.items_)this.items_[e]=t.items_[e]}}const Rn={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature",FEATURESLOADSTART:"featuresloadstart",FEATURESLOADEND:"featuresloadend",FEATURESLOADERROR:"featuresloaderror"};class ms extends Fi{constructor(t,e,i){super(t),this.feature=e,this.features=i}}class LM extends xv{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:!0,projection:void 0,state:"ready",wrapX:t.wrapX!==void 0?t.wrapX:!0}),this.on,this.once,this.un,this.loader_=Kl,this.format_=t.format||null,this.overlaps_=t.overlaps===void 0?!0:t.overlaps,this.url_=t.url,t.loader!==void 0?this.loader_=t.loader:this.url_!==void 0&&(Bt(this.format_,"`format` must be set when `url` is set"),this.loader_=EE(this.url_,this.format_)),this.strategy_=t.strategy!==void 0?t.strategy:OM;const e=t.useSpatialIndex!==void 0?t.useSpatialIndex:!0;this.featuresRtree_=e?new xE:null,this.loadedExtentsRtree_=new xE,this.loadingExtentsCount_=0,this.nullGeometryFeatures_={},this.idIndex_={},this.uidIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;let i,a;Array.isArray(t.features)?a=t.features:t.features&&(i=t.features,a=i.getArray()),!e&&i===void 0&&(i=new ni(a)),a!==void 0&&this.addFeaturesInternal(a),i!==void 0&&this.bindFeaturesCollection_(i)}addFeature(t){this.addFeatureInternal(t),this.changed()}addFeatureInternal(t){const e=jt(t);if(!this.addToIndex_(e,t)){this.featuresCollection_&&this.featuresCollection_.remove(t);return}this.setupChangeEvents_(e,t);const i=t.getGeometry();if(i){const a=i.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(a,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new ms(Rn.ADDFEATURE,t))}setupChangeEvents_(t,e){e instanceof Fn||(this.featureChangeKeys_[t]=[zt(e,vt.CHANGE,this.handleFeatureChange_,this),zt(e,ya.PROPERTYCHANGE,this.handleFeatureChange_,this)])}addToIndex_(t,e){let i=!0;if(e.getId()!==void 0){const a=String(e.getId());if(!(a in this.idIndex_))this.idIndex_[a]=e;else if(e instanceof Fn){const o=this.idIndex_[a];o instanceof Fn?Array.isArray(o)?o.push(e):this.idIndex_[a]=[o,e]:i=!1}else i=!1}return i&&(Bt(!(t in this.uidIndex_),"The passed `feature` was already added to the source"),this.uidIndex_[t]=e),i}addFeatures(t){this.addFeaturesInternal(t),this.changed()}addFeaturesInternal(t){const e=[],i=[],a=[];for(let o=0,c=t.length;o<c;o++){const h=t[o],f=jt(h);this.addToIndex_(f,h)&&i.push(h)}for(let o=0,c=i.length;o<c;o++){const h=i[o],f=jt(h);this.setupChangeEvents_(f,h);const g=h.getGeometry();if(g){const m=g.getExtent();e.push(m),a.push(h)}else this.nullGeometryFeatures_[f]=h}if(this.featuresRtree_&&this.featuresRtree_.load(e,a),this.hasListener(Rn.ADDFEATURE))for(let o=0,c=i.length;o<c;o++)this.dispatchEvent(new ms(Rn.ADDFEATURE,i[o]))}bindFeaturesCollection_(t){let e=!1;this.addEventListener(Rn.ADDFEATURE,function(i){e||(e=!0,t.push(i.feature),e=!1)}),this.addEventListener(Rn.REMOVEFEATURE,function(i){e||(e=!0,t.remove(i.feature),e=!1)}),t.addEventListener(Ve.ADD,i=>{e||(e=!0,this.addFeature(i.element),e=!1)}),t.addEventListener(Ve.REMOVE,i=>{e||(e=!0,this.removeFeature(i.element),e=!1)}),this.featuresCollection_=t}clear(t){if(t){for(const i in this.featureChangeKeys_)this.featureChangeKeys_[i].forEach(Jt);this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(i=>{this.removeFeatureInternal(i)});for(const i in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[i])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};const e=new ms(Rn.CLEAR);this.dispatchEvent(e),this.changed()}forEachFeature(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)}forEachFeatureAtCoordinateDirect(t,e){const i=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(i,function(a){const o=a.getGeometry();if(o instanceof Fn||o.intersectsCoordinate(t))return e(a)})}forEachFeatureInExtent(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)}forEachFeatureIntersectingExtent(t,e){return this.forEachFeatureInExtent(t,function(i){const a=i.getGeometry();if(a instanceof Fn||a.intersectsExtent(t)){const o=e(i);if(o)return o}})}getFeaturesCollection(){return this.featuresCollection_}getFeatures(){let t;return this.featuresCollection_?t=this.featuresCollection_.getArray().slice(0):this.featuresRtree_&&(t=this.featuresRtree_.getAll(),pa(this.nullGeometryFeatures_)||Tc(t,Object.values(this.nullGeometryFeatures_))),t}getFeaturesAtCoordinate(t){const e=[];return this.forEachFeatureAtCoordinateDirect(t,function(i){e.push(i)}),e}getFeaturesInExtent(t,e){if(this.featuresRtree_){if(!(e&&e.canWrapX()&&this.getWrapX()))return this.featuresRtree_.getInExtent(t);const a=C1(t,e);return[].concat(...a.map(o=>this.featuresRtree_.getInExtent(o)))}return this.featuresCollection_?this.featuresCollection_.getArray().slice(0):[]}getClosestFeatureToCoordinate(t,e){const i=t[0],a=t[1];let o=null;const c=[NaN,NaN];let h=1/0;const f=[-1/0,-1/0,1/0,1/0];return e=e||Vl,this.featuresRtree_.forEachInExtent(f,function(g){if(e(g)){const m=g.getGeometry(),y=h;if(h=m instanceof Fn?0:m.closestPointXY(i,a,c,h),h<y){o=g;const p=Math.sqrt(h);f[0]=i-p,f[1]=a-p,f[2]=i+p,f[3]=a+p}}}),o}getExtent(t){return this.featuresRtree_.getExtent(t)}getFeatureById(t){const e=this.idIndex_[t.toString()];return e!==void 0?e:null}getFeatureByUid(t){const e=this.uidIndex_[t];return e!==void 0?e:null}getFormat(){return this.format_}getOverlaps(){return this.overlaps_}getUrl(){return this.url_}handleFeatureChange_(t){const e=t.target,i=jt(e),a=e.getGeometry();if(!a)i in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[i]=e);else{const c=a.getExtent();i in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[i],this.featuresRtree_&&this.featuresRtree_.insert(c,e)):this.featuresRtree_&&this.featuresRtree_.update(c,e)}const o=e.getId();if(o!==void 0){const c=o.toString();this.idIndex_[c]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[c]=e)}else this.removeFromIdIndex_(e),this.uidIndex_[i]=e;this.changed(),this.dispatchEvent(new ms(Rn.CHANGEFEATURE,e))}hasFeature(t){const e=t.getId();return e!==void 0?e in this.idIndex_:jt(t)in this.uidIndex_}isEmpty(){return this.featuresRtree_?this.featuresRtree_.isEmpty()&&pa(this.nullGeometryFeatures_):this.featuresCollection_?this.featuresCollection_.getLength()===0:!0}loadFeatures(t,e,i){const a=this.loadedExtentsRtree_,o=this.strategy_(t,e,i);for(let c=0,h=o.length;c<h;++c){const f=o[c];a.forEachInExtent(f,function(m){return Fl(m.extent,f)})||(++this.loadingExtentsCount_,this.dispatchEvent(new ms(Rn.FEATURESLOADSTART)),this.loader_.call(this,f,e,i,m=>{--this.loadingExtentsCount_,this.dispatchEvent(new ms(Rn.FEATURESLOADEND,void 0,m))},()=>{--this.loadingExtentsCount_,this.dispatchEvent(new ms(Rn.FEATURESLOADERROR))}),a.insert(f,{extent:f.slice()}))}this.loading=this.loader_.length<4?!1:this.loadingExtentsCount_>0}refresh(){this.clear(!0),this.loadedExtentsRtree_.clear(),super.refresh()}removeLoadedExtent(t){const e=this.loadedExtentsRtree_,i=e.forEachInExtent(t,function(a){if(Wl(a.extent,t))return a});i&&e.remove(i)}removeFeatures(t){let e=!1;for(let i=0,a=t.length;i<a;++i)e=this.removeFeatureInternal(t[i])||e;e&&this.changed()}removeFeature(t){if(!t)return;this.removeFeatureInternal(t)&&this.changed()}removeFeatureInternal(t){const e=jt(t);if(!(e in this.uidIndex_))return!1;e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t);const i=this.featureChangeKeys_[e];i==null||i.forEach(Jt),delete this.featureChangeKeys_[e];const a=t.getId();if(a!==void 0){const o=a.toString(),c=this.idIndex_[o];c===t?delete this.idIndex_[o]:Array.isArray(c)&&(c.splice(c.indexOf(t),1),c.length===1&&(this.idIndex_[o]=c[0]))}return delete this.uidIndex_[e],this.hasListener(Rn.REMOVEFEATURE)&&this.dispatchEvent(new ms(Rn.REMOVEFEATURE,t)),!0}removeFromIdIndex_(t){for(const e in this.idIndex_)if(this.idIndex_[e]===t){delete this.idIndex_[e];break}}setLoader(t){this.loader_=t}setUrl(t){Bt(this.format_,"`format` must be set when `url` is set"),this.url_=t,this.setLoader(EE(t,this.format_))}setOverlaps(t){this.overlaps_=t,this.changed()}}const gt={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Xu=[gt.FILL],bs=[gt.STROKE],nr=[gt.BEGIN_PATH],SE=[gt.CLOSE_PATH];class po extends bv{constructor(t,e,i,a){super(),this.tolerance=t,this.maxExtent=e,this.pixelRatio=a,this.maxLineWidth=0,this.resolution=i,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.tmpCoordinate_=[],this.hitDetectionInstructions=[],this.state={}}applyPixelRatio(t){const e=this.pixelRatio;return e==1?t:t.map(function(i){return i*e})}appendFlatPointCoordinates(t,e){const i=this.getBufferedMaxExtent(),a=this.tmpCoordinate_,o=this.coordinates;let c=o.length;for(let h=0,f=t.length;h<f;h+=e)a[0]=t[h],a[1]=t[h+1],Ea(i,a)&&(o[c++]=a[0],o[c++]=a[1]);return c}appendFlatLineCoordinates(t,e,i,a,o,c){const h=this.coordinates;let f=h.length;const g=this.getBufferedMaxExtent();c&&(e+=a);let m=t[e],y=t[e+1];const p=this.tmpCoordinate_;let x=!0,E,R,S;for(E=e+a;E<i;E+=a)p[0]=t[E],p[1]=t[E+1],S=$d(g,p),S!==R?(x&&(h[f++]=m,h[f++]=y,x=!1),h[f++]=p[0],h[f++]=p[1]):S===be.INTERSECTING?(h[f++]=p[0],h[f++]=p[1],x=!1):x=!0,m=p[0],y=p[1],R=S;return(o&&x||E===e+a)&&(h[f++]=m,h[f++]=y),f}drawCustomCoordinates_(t,e,i,a,o){for(let c=0,h=i.length;c<h;++c){const f=i[c],g=this.appendFlatLineCoordinates(t,e,f,a,!1,!1);o.push(g),e=f}return e}drawCustom(t,e,i,a,o){this.beginGeometry(t,e,o);const c=t.getType(),h=t.getStride(),f=this.coordinates.length;let g,m,y,p,x;switch(c){case"MultiPolygon":g=t.getOrientedFlatCoordinates(),p=[];const E=t.getEndss();x=0;for(let R=0,S=E.length;R<S;++R){const T=[];x=this.drawCustomCoordinates_(g,x,E[R],h,T),p.push(T)}this.instructions.push([gt.CUSTOM,f,p,t,i,Gp,o]),this.hitDetectionInstructions.push([gt.CUSTOM,f,p,t,a||i,Gp,o]);break;case"Polygon":case"MultiLineString":y=[],g=c=="Polygon"?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),x=this.drawCustomCoordinates_(g,0,t.getEnds(),h,y),this.instructions.push([gt.CUSTOM,f,y,t,i,rc,o]),this.hitDetectionInstructions.push([gt.CUSTOM,f,y,t,a||i,rc,o]);break;case"LineString":case"Circle":g=t.getFlatCoordinates(),m=this.appendFlatLineCoordinates(g,0,g.length,h,!1,!1),this.instructions.push([gt.CUSTOM,f,m,t,i,$s,o]),this.hitDetectionInstructions.push([gt.CUSTOM,f,m,t,a||i,$s,o]);break;case"MultiPoint":g=t.getFlatCoordinates(),m=this.appendFlatPointCoordinates(g,h),m>f&&(this.instructions.push([gt.CUSTOM,f,m,t,i,$s,o]),this.hitDetectionInstructions.push([gt.CUSTOM,f,m,t,a||i,$s,o]));break;case"Point":g=t.getFlatCoordinates(),this.coordinates.push(g[0],g[1]),m=this.coordinates.length,this.instructions.push([gt.CUSTOM,f,m,t,i,void 0,o]),this.hitDetectionInstructions.push([gt.CUSTOM,f,m,t,a||i,void 0,o]);break}this.endGeometry(e)}beginGeometry(t,e,i){this.beginGeometryInstruction1_=[gt.BEGIN_GEOMETRY,e,0,t,i],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[gt.BEGIN_GEOMETRY,e,0,t,i],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)}finish(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}}reverseHitDetectionInstructions(){const t=this.hitDetectionInstructions;t.reverse();let e;const i=t.length;let a,o,c=-1;for(e=0;e<i;++e)a=t[e],o=a[0],o==gt.END_GEOMETRY?c=e:o==gt.BEGIN_GEOMETRY&&(a[2]=e,rC(this.hitDetectionInstructions,c,e),c=-1)}fillStyleToState(t,e={}){if(t){const i=t.getColor();e.fillPatternScale=i&&typeof i=="object"&&"src"in i?this.pixelRatio:1,e.fillStyle=ii(i||We)}else e.fillStyle=void 0;return e}strokeStyleToState(t,e={}){if(t){const i=t.getColor();e.strokeStyle=ii(i||eo);const a=t.getLineCap();e.lineCap=a!==void 0?a:Sa;const o=t.getLineDash();e.lineDash=o?o.slice():Li;const c=t.getLineDashOffset();e.lineDashOffset=c||Ni;const h=t.getLineJoin();e.lineJoin=h!==void 0?h:ba;const f=t.getWidth();e.lineWidth=f!==void 0?f:io;const g=t.getMiterLimit();e.miterLimit=g!==void 0?g:to,e.lineWidth>this.maxLineWidth&&(this.maxLineWidth=e.lineWidth,this.bufferedMaxExtent_=null)}else e.strokeStyle=void 0,e.lineCap=void 0,e.lineDash=null,e.lineDashOffset=void 0,e.lineJoin=void 0,e.lineWidth=void 0,e.miterLimit=void 0;return e}setFillStrokeStyle(t,e){const i=this.state;this.fillStyleToState(t,i),this.strokeStyleToState(e,i)}createFill(t){const e=t.fillStyle,i=[gt.SET_FILL_STYLE,e];return typeof e!="string"&&i.push(t.fillPatternScale),i}applyStroke(t){this.instructions.push(this.createStroke(t))}createStroke(t){return[gt.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,t.lineDash?this.applyPixelRatio(t.lineDash):null,t.lineDashOffset*this.pixelRatio]}updateFillStyle(t,e){const i=t.fillStyle;(typeof i!="string"||t.currentFillStyle!=i)&&(i!==void 0&&this.instructions.push(e.call(this,t)),t.currentFillStyle=i)}updateStrokeStyle(t,e){const i=t.strokeStyle,a=t.lineCap,o=t.lineDash,c=t.lineDashOffset,h=t.lineJoin,f=t.lineWidth,g=t.miterLimit;(t.currentStrokeStyle!=i||t.currentLineCap!=a||o!=t.currentLineDash&&!As(t.currentLineDash,o)||t.currentLineDashOffset!=c||t.currentLineJoin!=h||t.currentLineWidth!=f||t.currentMiterLimit!=g)&&(i!==void 0&&e.call(this,t),t.currentStrokeStyle=i,t.currentLineCap=a,t.currentLineDash=o,t.currentLineDashOffset=c,t.currentLineJoin=h,t.currentLineWidth=f,t.currentMiterLimit=g)}endGeometry(t){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;const e=[gt.END_GEOMETRY,t];this.instructions.push(e),this.hitDetectionInstructions.push(e)}getBufferedMaxExtent(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=E1(this.maxExtent),this.maxLineWidth>0)){const t=this.resolution*(this.maxLineWidth+1)/2;bg(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_}}class NM extends po{constructor(t,e,i,a){super(t,e,i,a),this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0,this.declutterMode_=void 0,this.declutterImageWithText_=void 0}drawPoint(t,e,i){if(!this.image_||this.maxExtent&&!Ea(this.maxExtent,t.getFlatCoordinates()))return;this.beginGeometry(t,e,i);const a=t.getFlatCoordinates(),o=t.getStride(),c=this.coordinates.length,h=this.appendFlatPointCoordinates(a,o);this.instructions.push([gt.DRAW_IMAGE,c,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([gt.DRAW_IMAGE,c,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}drawMultiPoint(t,e,i){if(!this.image_)return;this.beginGeometry(t,e,i);const a=t.getFlatCoordinates(),o=[];for(let f=0,g=a.length;f<g;f+=t.getStride())(!this.maxExtent||Ea(this.maxExtent,a.slice(f,f+2)))&&o.push(a[f],a[f+1]);const c=this.coordinates.length,h=this.appendFlatPointCoordinates(o,2);this.instructions.push([gt.DRAW_IMAGE,c,h,this.image_,this.anchorX_*this.imagePixelRatio_,this.anchorY_*this.imagePixelRatio_,Math.ceil(this.height_*this.imagePixelRatio_),this.opacity_,this.originX_*this.imagePixelRatio_,this.originY_*this.imagePixelRatio_,this.rotateWithView_,this.rotation_,[this.scale_[0]*this.pixelRatio/this.imagePixelRatio_,this.scale_[1]*this.pixelRatio/this.imagePixelRatio_],Math.ceil(this.width_*this.imagePixelRatio_),this.declutterMode_,this.declutterImageWithText_]),this.hitDetectionInstructions.push([gt.DRAW_IMAGE,c,h,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.height_,1,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_,this.declutterMode_,this.declutterImageWithText_]),this.endGeometry(e)}finish(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.imagePixelRatio_=void 0,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,super.finish()}setImageStyle(t,e){const i=t.getAnchor(),a=t.getSize(),o=t.getOrigin();this.imagePixelRatio_=t.getPixelRatio(this.pixelRatio),this.anchorX_=i[0],this.anchorY_=i[1],this.hitDetectionImage_=t.getHitDetectionImage(),this.image_=t.getImage(this.pixelRatio),this.height_=a[1],this.opacity_=t.getOpacity(),this.originX_=o[0],this.originY_=o[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScaleArray(),this.width_=a[0],this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}}class IM extends po{constructor(t,e,i,a){super(t,e,i,a)}drawFlatCoordinates_(t,e,i,a){const o=this.coordinates.length,c=this.appendFlatLineCoordinates(t,e,i,a,!1,!1),h=[gt.MOVE_TO_LINE_TO,o,c];return this.instructions.push(h),this.hitDetectionInstructions.push(h),i}drawLineString(t,e,i){const a=this.state,o=a.strokeStyle,c=a.lineWidth;if(o===void 0||c===void 0)return;this.updateStrokeStyle(a,this.applyStroke),this.beginGeometry(t,e,i),this.hitDetectionInstructions.push([gt.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth,a.lineCap,a.lineJoin,a.miterLimit,Li,Ni],nr);const h=t.getFlatCoordinates(),f=t.getStride();this.drawFlatCoordinates_(h,0,h.length,f),this.hitDetectionInstructions.push(bs),this.endGeometry(e)}drawMultiLineString(t,e,i){const a=this.state,o=a.strokeStyle,c=a.lineWidth;if(o===void 0||c===void 0)return;this.updateStrokeStyle(a,this.applyStroke),this.beginGeometry(t,e,i),this.hitDetectionInstructions.push([gt.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth,a.lineCap,a.lineJoin,a.miterLimit,Li,Ni],nr);const h=t.getEnds(),f=t.getFlatCoordinates(),g=t.getStride();let m=0;for(let y=0,p=h.length;y<p;++y)m=this.drawFlatCoordinates_(f,m,h[y],g);this.hitDetectionInstructions.push(bs),this.endGeometry(e)}finish(){const t=this.state;return t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&this.instructions.push(bs),this.reverseHitDetectionInstructions(),this.state=null,super.finish()}applyStroke(t){t.lastStroke!=null&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(bs),t.lastStroke=this.coordinates.length),t.lastStroke=0,super.applyStroke(t),this.instructions.push(nr)}}class bE extends po{constructor(t,e,i,a){super(t,e,i,a)}drawFlatCoordinatess_(t,e,i,a){const o=this.state,c=o.fillStyle!==void 0,h=o.strokeStyle!==void 0,f=i.length;this.instructions.push(nr),this.hitDetectionInstructions.push(nr);for(let g=0;g<f;++g){const m=i[g],y=this.coordinates.length,p=this.appendFlatLineCoordinates(t,e,m,a,!0,!h),x=[gt.MOVE_TO_LINE_TO,y,p];this.instructions.push(x),this.hitDetectionInstructions.push(x),h&&(this.instructions.push(SE),this.hitDetectionInstructions.push(SE)),e=m}return c&&(this.instructions.push(Xu),this.hitDetectionInstructions.push(Xu)),h&&(this.instructions.push(bs),this.hitDetectionInstructions.push(bs)),e}drawCircle(t,e,i){const a=this.state,o=a.fillStyle,c=a.strokeStyle;if(o===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,i),a.fillStyle!==void 0&&this.hitDetectionInstructions.push([gt.SET_FILL_STYLE,We]),a.strokeStyle!==void 0&&this.hitDetectionInstructions.push([gt.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth,a.lineCap,a.lineJoin,a.miterLimit,Li,Ni]);const h=t.getFlatCoordinates(),f=t.getStride(),g=this.coordinates.length;this.appendFlatLineCoordinates(h,0,h.length,f,!1,!1);const m=[gt.CIRCLE,g];this.instructions.push(nr,m),this.hitDetectionInstructions.push(nr,m),a.fillStyle!==void 0&&(this.instructions.push(Xu),this.hitDetectionInstructions.push(Xu)),a.strokeStyle!==void 0&&(this.instructions.push(bs),this.hitDetectionInstructions.push(bs)),this.endGeometry(e)}drawPolygon(t,e,i){const a=this.state,o=a.fillStyle,c=a.strokeStyle;if(o===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,i),a.fillStyle!==void 0&&this.hitDetectionInstructions.push([gt.SET_FILL_STYLE,We]),a.strokeStyle!==void 0&&this.hitDetectionInstructions.push([gt.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth,a.lineCap,a.lineJoin,a.miterLimit,Li,Ni]);const h=t.getEnds(),f=t.getOrientedFlatCoordinates(),g=t.getStride();this.drawFlatCoordinatess_(f,0,h,g),this.endGeometry(e)}drawMultiPolygon(t,e,i){const a=this.state,o=a.fillStyle,c=a.strokeStyle;if(o===void 0&&c===void 0)return;this.setFillStrokeStyles_(),this.beginGeometry(t,e,i),a.fillStyle!==void 0&&this.hitDetectionInstructions.push([gt.SET_FILL_STYLE,We]),a.strokeStyle!==void 0&&this.hitDetectionInstructions.push([gt.SET_STROKE_STYLE,a.strokeStyle,a.lineWidth,a.lineCap,a.lineJoin,a.miterLimit,Li,Ni]);const h=t.getEndss(),f=t.getOrientedFlatCoordinates(),g=t.getStride();let m=0;for(let y=0,p=h.length;y<p;++y)m=this.drawFlatCoordinatess_(f,m,h[y],g);this.endGeometry(e)}finish(){this.reverseHitDetectionInstructions(),this.state=null;const t=this.tolerance;if(t!==0){const e=this.coordinates;for(let i=0,a=e.length;i<a;++i)e[i]=Ws(e[i],t)}return super.finish()}setFillStrokeStyles_(){const t=this.state;t.fillStyle!==void 0&&this.updateFillStyle(t,this.createFill),t.strokeStyle!==void 0&&this.updateStrokeStyle(t,this.applyStroke)}}function zM(s,t,e,i,a){const o=[];let c=e,h=0,f=t.slice(e,2);for(;h<s&&c+a<i;){const[g,m]=f.slice(-2),y=t[c+a],p=t[c+a+1],x=Math.sqrt((y-g)*(y-g)+(p-m)*(p-m));if(h+=x,h>=s){const E=(s-h+x)/x,R=fn(g,y,E),S=fn(m,p,E);f.push(R,S),o.push(f),f=[R,S],h==s&&(c+=a),h=0}else if(h<s)f.push(t[c+a],t[c+a+1]),c+=a;else{const E=x-h,R=fn(g,y,E/x),S=fn(m,p,E/x);f.push(R,S),o.push(f),f=[R,S],h=0,c+=a}}return h>0&&o.push(f),o}function kM(s,t,e,i,a){let o=e,c=e,h=0,f=0,g=e,m,y,p,x,E,R,S,T,C,w;for(y=e;y<i;y+=a){const L=t[y],A=t[y+1];E!==void 0&&(C=L-E,w=A-R,x=Math.sqrt(C*C+w*w),S!==void 0&&(f+=p,m=Math.acos((S*C+T*w)/(p*x)),m>s&&(f>h&&(h=f,o=g,c=y),f=0,g=y-a)),p=x,S=C,T=w),E=L,R=A}return f+=x,f>h?[g,y]:[o,c]}const gc={left:0,center:.5,right:1,top:0,middle:.5,hanging:.2,alphabetic:.8,ideographic:.8,bottom:1};class FM extends po{constructor(t,e,i,a){super(t,e,i,a),this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textKeepUpright_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.fillStates[We]={fillStyle:We},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.declutterMode_=void 0,this.declutterImageWithText_=void 0}finish(){const t=super.finish();return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t}drawText(t,e,i){const a=this.textFillState_,o=this.textStrokeState_,c=this.textState_;if(this.text_===""||!c||!a&&!o)return;const h=this.coordinates;let f=h.length;const g=t.getType();let m=null,y=t.getStride();if(c.placement==="line"&&(g=="LineString"||g=="MultiLineString"||g=="Polygon"||g=="MultiPolygon")){if(!Qe(this.maxExtent,t.getExtent()))return;let p;if(m=t.getFlatCoordinates(),g=="LineString")p=[m.length];else if(g=="MultiLineString")p=t.getEnds();else if(g=="Polygon")p=t.getEnds().slice(0,1);else if(g=="MultiPolygon"){const S=t.getEndss();p=[];for(let T=0,C=S.length;T<C;++T)p.push(S[T][0])}this.beginGeometry(t,e,i);const x=c.repeat,E=x?void 0:c.textAlign;let R=0;for(let S=0,T=p.length;S<T;++S){let C;x?C=zM(x*this.resolution,m,R,p[S],y):C=[m.slice(R,p[S])];for(let w=0,L=C.length;w<L;++w){const A=C[w];let G=0,H=A.length;if(E==null){const K=kM(c.maxAngle,A,0,A.length,2);G=K[0],H=K[1]}for(let K=G;K<H;K+=y)h.push(A[K],A[K+1]);const Z=h.length;R=p[S],this.drawChars_(f,Z),f=Z}}this.endGeometry(e)}else{let p=c.overflow?null:[];switch(g){case"Point":case"MultiPoint":m=t.getFlatCoordinates();break;case"LineString":m=t.getFlatMidpoint();break;case"Circle":m=t.getCenter();break;case"MultiLineString":m=t.getFlatMidpoints(),y=2;break;case"Polygon":m=t.getFlatInteriorPoint(),c.overflow||p.push(m[2]/this.resolution),y=3;break;case"MultiPolygon":const L=t.getFlatInteriorPoints();m=[];for(let A=0,G=L.length;A<G;A+=3)c.overflow||p.push(L[A+2]/this.resolution),m.push(L[A],L[A+1]);if(m.length===0)return;y=2;break}const x=this.appendFlatPointCoordinates(m,y);if(x===f)return;if(p&&(x-f)/2!==m.length/y){let L=f/2;p=p.filter((A,G)=>{const H=h[(L+G)*2]===m[G*y]&&h[(L+G)*2+1]===m[G*y+1];return H||--L,H})}this.saveTextStates_();const E=c.backgroundFill?this.createFill(this.fillStyleToState(c.backgroundFill)):null,R=c.backgroundStroke?this.createStroke(this.strokeStyleToState(c.backgroundStroke)):null;this.beginGeometry(t,e,i);let S=c.padding;if(S!=er&&(c.scale[0]<0||c.scale[1]<0)){let L=c.padding[0],A=c.padding[1],G=c.padding[2],H=c.padding[3];c.scale[0]<0&&(A=-A,H=-H),c.scale[1]<0&&(L=-L,G=-G),S=[L,A,G,H]}const T=this.pixelRatio;this.instructions.push([gt.DRAW_IMAGE,f,x,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[1,1],NaN,this.declutterMode_,this.declutterImageWithText_,S==er?er:S.map(function(L){return L*T}),E,R,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,p]);const C=1/T,w=E?E.slice(0):null;w&&(w[1]=We),this.hitDetectionInstructions.push([gt.DRAW_IMAGE,f,x,null,NaN,NaN,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,[C,C],NaN,this.declutterMode_,this.declutterImageWithText_,S,w,R,this.text_,this.textKey_,this.strokeKey_,this.fillKey_?We:this.fillKey_,this.textOffsetX_,this.textOffsetY_,p]),this.endGeometry(e)}}saveTextStates_(){const t=this.textStrokeState_,e=this.textState_,i=this.textFillState_,a=this.strokeKey_;t&&(a in this.strokeStates||(this.strokeStates[a]={strokeStyle:t.strokeStyle,lineCap:t.lineCap,lineDashOffset:t.lineDashOffset,lineWidth:t.lineWidth,lineJoin:t.lineJoin,miterLimit:t.miterLimit,lineDash:t.lineDash}));const o=this.textKey_;o in this.textStates||(this.textStates[o]={font:e.font,textAlign:e.textAlign||no,justify:e.justify,textBaseline:e.textBaseline||lc,scale:e.scale});const c=this.fillKey_;i&&(c in this.fillStates||(this.fillStates[c]={fillStyle:i.fillStyle}))}drawChars_(t,e){const i=this.textStrokeState_,a=this.textState_,o=this.strokeKey_,c=this.textKey_,h=this.fillKey_;this.saveTextStates_();const f=this.pixelRatio,g=gc[a.textBaseline],m=this.textOffsetY_*f,y=this.text_,p=i?i.lineWidth*Math.abs(a.scale[0])/2:0;this.instructions.push([gt.DRAW_CHARS,t,e,g,a.overflow,h,a.maxAngle,f,m,o,p*f,y,c,1,this.declutterMode_,this.textKeepUpright_]),this.hitDetectionInstructions.push([gt.DRAW_CHARS,t,e,g,a.overflow,h&&We,a.maxAngle,f,m,o,p*f,y,c,1/f,this.declutterMode_,this.textKeepUpright_])}setTextStyle(t,e){let i,a,o;if(!t)this.text_="";else{const c=t.getFill();c?(a=this.textFillState_,a||(a={},this.textFillState_=a),a.fillStyle=ii(c.getColor()||We)):(a=null,this.textFillState_=a);const h=t.getStroke();if(!h)o=null,this.textStrokeState_=o;else{o=this.textStrokeState_,o||(o={},this.textStrokeState_=o);const R=h.getLineDash(),S=h.getLineDashOffset(),T=h.getWidth(),C=h.getMiterLimit();o.lineCap=h.getLineCap()||Sa,o.lineDash=R?R.slice():Li,o.lineDashOffset=S===void 0?Ni:S,o.lineJoin=h.getLineJoin()||ba,o.lineWidth=T===void 0?io:T,o.miterLimit=C===void 0?to:C,o.strokeStyle=ii(h.getColor()||eo)}i=this.textState_;const f=t.getFont()||iv;n2(f);const g=t.getScaleArray();i.overflow=t.getOverflow(),i.font=f,i.maxAngle=t.getMaxAngle(),i.placement=t.getPlacement(),i.textAlign=t.getTextAlign(),i.repeat=t.getRepeat(),i.justify=t.getJustify(),i.textBaseline=t.getTextBaseline()||lc,i.backgroundFill=t.getBackgroundFill(),i.backgroundStroke=t.getBackgroundStroke(),i.padding=t.getPadding()||er,i.scale=g===void 0?[1,1]:g;const m=t.getOffsetX(),y=t.getOffsetY(),p=t.getRotateWithView(),x=t.getKeepUpright(),E=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=m===void 0?0:m,this.textOffsetY_=y===void 0?0:y,this.textRotateWithView_=p===void 0?!1:p,this.textKeepUpright_=x===void 0?!0:x,this.textRotation_=E===void 0?0:E,this.strokeKey_=o?(typeof o.strokeStyle=="string"?o.strokeStyle:jt(o.strokeStyle))+o.lineCap+o.lineDashOffset+"|"+o.lineWidth+o.lineJoin+o.miterLimit+"["+o.lineDash.join()+"]":"",this.textKey_=i.font+i.scale+(i.textAlign||"?")+(i.repeat||"?")+(i.justify||"?")+(i.textBaseline||"?"),this.fillKey_=a&&a.fillStyle?typeof a.fillStyle=="string"?a.fillStyle:"|"+jt(a.fillStyle):""}this.declutterMode_=t.getDeclutterMode(),this.declutterImageWithText_=e}}const jM={Circle:bE,Default:po,Image:NM,LineString:IM,Polygon:bE,Text:FM};class UM{constructor(t,e,i,a){this.tolerance_=t,this.maxExtent_=e,this.pixelRatio_=a,this.resolution_=i,this.buildersByZIndex_={}}finish(){const t={};for(const e in this.buildersByZIndex_){t[e]=t[e]||{};const i=this.buildersByZIndex_[e];for(const a in i){const o=i[a].finish();t[e][a]=o}}return t}getBuilder(t,e){const i=t!==void 0?t.toString():"0";let a=this.buildersByZIndex_[i];a===void 0&&(a={},this.buildersByZIndex_[i]=a);let o=a[e];if(o===void 0){const c=jM[e];o=new c(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),a[e]=o}return o}}function BM(s,t,e,i,a,o,c,h,f,g,m,y,p=!0){let x=s[t],E=s[t+1],R=0,S=0,T=0,C=0;function w(){R=x,S=E,t+=i,x=s[t],E=s[t+1],C+=T,T=Math.sqrt((x-R)*(x-R)+(E-S)*(E-S))}do w();while(t<e-i&&C+T<o);let L=T===0?0:(o-C)/T;const A=fn(R,x,L),G=fn(S,E,L),H=t-i,Z=C,K=o+h*f(g,a,m);for(;t<e-i&&C+T<K;)w();L=T===0?0:(K-C)/T;const et=fn(R,x,L),ut=fn(S,E,L);let nt=!1;if(p)if(y){const Q=[A,G,et,ut];j1(Q,0,4,2,y,Q,Q),nt=Q[0]>Q[2]}else nt=A>et;const st=Math.PI,ot=[],ft=H+i===t;t=H,T=0,C=Z,x=s[t],E=s[t+1];let z;if(ft){w(),z=Math.atan2(E-S,x-R),nt&&(z+=z>0?-st:st);const Q=(et+A)/2,$=(ut+G)/2;return ot[0]=[Q,$,(K-o)/2,z,a],ot}a=a.replace(/\n/g," ");for(let Q=0,$=a.length;Q<$;){w();let rt=Math.atan2(E-S,x-R);if(nt&&(rt+=rt>0?-st:st),z!==void 0){let dt=rt-z;if(dt+=dt>st?-2*st:dt<-st?2*st:0,Math.abs(dt)>c)return null}z=rt;const O=Q;let X=0;for(;Q<$;++Q){const dt=nt?$-Q-1:Q,ct=h*f(g,a[dt],m);if(t+i<e&&C+T<o+X+ct/2)break;X+=ct}if(Q===O)continue;const j=nt?a.substring($-O,$-Q):a.substring(O,Q);L=T===0?0:(o+X/2-C)/T;const tt=fn(R,x,L),at=fn(S,E,L);ot.push([tt,at,X/2,rt,j]),o+=X}return ot}const ra=An(),_s=[],Ti=[],Ci=[],ys=[];function RE(s){return s[3].declutterBox}const TE=new RegExp("[-----]");function Bd(s,t){return t==="start"?t=TE.test(s)?"right":"left":t==="end"&&(t=TE.test(s)?"left":"right"),gc[t]}function GM(s,t,e){return e>0&&s.push(`
`,""),s.push(t,""),s}function PM(s,t,e){return e%2===0&&(s+=t),s}class YM{constructor(t,e,i,a,o){this.overlaps=i,this.pixelRatio=e,this.resolution=t,this.alignAndScaleFill_,this.instructions=a.instructions,this.coordinates=a.coordinates,this.coordinateCache_={},this.renderedTransform_=Bn(),this.hitDetectionInstructions=a.hitDetectionInstructions,this.pixelCoordinates_=null,this.viewRotation_=0,this.fillStates=a.fillStates||{},this.strokeStates=a.strokeStates||{},this.textStates=a.textStates||{},this.widths_={},this.labels_={},this.zIndexContext_=o?new _v:null}getZIndexContext(){return this.zIndexContext_}createLabel(t,e,i,a){const o=t+e+i+a;if(this.labels_[o])return this.labels_[o];const c=a?this.strokeStates[a]:null,h=i?this.fillStates[i]:null,f=this.textStates[e],g=this.pixelRatio,m=[f.scale[0]*g,f.scale[1]*g],y=f.justify?gc[f.justify]:Bd(Array.isArray(t)?t[0]:t,f.textAlign||no),p=a&&c.lineWidth?c.lineWidth:0,x=Array.isArray(t)?t:String(t).split(`
`).reduce(GM,[]),{width:E,height:R,widths:S,heights:T,lineWidths:C}=s2(f,x),w=E+p,L=[],A=(w+2)*m[0],G=(R+p)*m[1],H={width:A<0?Math.floor(A):Math.ceil(A),height:G<0?Math.floor(G):Math.ceil(G),contextInstructions:L};(m[0]!=1||m[1]!=1)&&L.push("scale",m),a&&(L.push("strokeStyle",c.strokeStyle),L.push("lineWidth",p),L.push("lineCap",c.lineCap),L.push("lineJoin",c.lineJoin),L.push("miterLimit",c.miterLimit),L.push("setLineDash",[c.lineDash]),L.push("lineDashOffset",c.lineDashOffset)),i&&L.push("fillStyle",h.fillStyle),L.push("textBaseline","middle"),L.push("textAlign","center");const Z=.5-y;let K=y*w+Z*p;const et=[],ut=[];let nt=0,st=0,ot=0,ft=0,z;for(let Q=0,$=x.length;Q<$;Q+=2){const rt=x[Q];if(rt===`
`){st+=nt,nt=0,K=y*w+Z*p,++ft;continue}const O=x[Q+1]||f.font;O!==z&&(a&&et.push("font",O),i&&ut.push("font",O),z=O),nt=Math.max(nt,T[ot]);const X=[rt,K+Z*S[ot]+y*(S[ot]-C[ft]),.5*(p+nt)+st];K+=S[ot],a&&et.push("strokeText",X),i&&ut.push("fillText",X),++ot}return Array.prototype.push.apply(L,et),Array.prototype.push.apply(L,ut),this.labels_[o]=H,H}replayTextBackground_(t,e,i,a,o,c,h){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,a),t.lineTo.apply(t,o),t.lineTo.apply(t,e),c&&(this.alignAndScaleFill_=c[2],t.fillStyle=c[1],this.fill_(t)),h&&(this.setStrokeStyle_(t,h),t.stroke())}calculateImageOrLabelDimensions_(t,e,i,a,o,c,h,f,g,m,y,p,x,E,R,S){h*=p[0],f*=p[1];let T=i-h,C=a-f;const w=o+g>t?t-g:o,L=c+m>e?e-m:c,A=E[3]+w*p[0]+E[1],G=E[0]+L*p[1]+E[2],H=T-E[3],Z=C-E[0];(R||y!==0)&&(_s[0]=H,ys[0]=H,_s[1]=Z,Ti[1]=Z,Ti[0]=H+A,Ci[0]=Ti[0],Ci[1]=Z+G,ys[1]=Ci[1]);let K;return y!==0?(K=zi(Bn(),i,a,1,1,y,-i,-a),Re(K,_s),Re(K,Ti),Re(K,Ci),Re(K,ys),Cs(Math.min(_s[0],Ti[0],Ci[0],ys[0]),Math.min(_s[1],Ti[1],Ci[1],ys[1]),Math.max(_s[0],Ti[0],Ci[0],ys[0]),Math.max(_s[1],Ti[1],Ci[1],ys[1]),ra)):Cs(Math.min(H,H+A),Math.min(Z,Z+G),Math.max(H,H+A),Math.max(Z,Z+G),ra),x&&(T=Math.round(T),C=Math.round(C)),{drawImageX:T,drawImageY:C,drawImageW:w,drawImageH:L,originX:g,originY:m,declutterBox:{minX:ra[0],minY:ra[1],maxX:ra[2],maxY:ra[3],value:S},canvasTransform:K,scale:p}}replayImageOrLabel_(t,e,i,a,o,c,h){const f=!!(c||h),g=a.declutterBox,m=h?h[2]*a.scale[0]/2:0;return g.minX-m<=e[0]&&g.maxX+m>=0&&g.minY-m<=e[1]&&g.maxY+m>=0&&(f&&this.replayTextBackground_(t,_s,Ti,Ci,ys,c,h),r2(t,a.canvasTransform,o,i,a.originX,a.originY,a.drawImageW,a.drawImageH,a.drawImageX,a.drawImageY,a.scale)),!0}fill_(t){const e=this.alignAndScaleFill_;if(e){const i=Re(this.renderedTransform_,[0,0]),a=512*this.pixelRatio;t.save(),t.translate(i[0]%a,i[1]%a),e!==1&&t.scale(e,e),t.rotate(this.viewRotation_)}t.fill(),e&&t.restore()}setStrokeStyle_(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],t.lineDashOffset=e[7],t.setLineDash(e[6])}drawLabelWithPointPlacement_(t,e,i,a){const o=this.textStates[e],c=this.createLabel(t,e,a,i),h=this.strokeStates[i],f=this.pixelRatio,g=Bd(Array.isArray(t)?t[0]:t,o.textAlign||no),m=gc[o.textBaseline||lc],y=h&&h.lineWidth?h.lineWidth:0,p=c.width/f-2*o.scale[0],x=g*p+2*(.5-g)*y,E=m*c.height/f+2*(.5-m)*y;return{label:c,anchorX:x,anchorY:E}}execute_(t,e,i,a,o,c,h,f){const g=this.zIndexContext_;let m;this.pixelCoordinates_&&As(i,this.renderedTransform_)?m=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),m=Ts(this.coordinates,0,this.coordinates.length,2,i,this.pixelCoordinates_),rw(this.renderedTransform_,i));let y=0;const p=a.length;let x=0,E,R,S,T,C,w,L,A,G,H,Z,K,et,ut=0,nt=0;const st=this.coordinateCache_,ot=this.viewRotation_,ft=Math.round(Math.atan2(-i[1],i[0])*1e12)/1e12,z={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:ot},Q=this.instructions!=a||this.overlaps?0:200;let $,rt,O,X;for(;y<p;){const j=a[y];switch(j[0]){case gt.BEGIN_GEOMETRY:$=j[1],X=j[3],$.getGeometry()?h!==void 0&&!Qe(h,X.getExtent())?y=j[2]+1:++y:y=j[2],g&&(g.zIndex=j[4]);break;case gt.BEGIN_PATH:ut>Q&&(this.fill_(t),ut=0),nt>Q&&(t.stroke(),nt=0),!ut&&!nt&&(t.beginPath(),C=NaN,w=NaN),++y;break;case gt.CIRCLE:x=j[1];const at=m[x],dt=m[x+1],ct=m[x+2],Ut=m[x+3],Ot=ct-at,ce=Ut-dt,Te=Math.sqrt(Ot*Ot+ce*ce);t.moveTo(at+Te,dt),t.arc(at,dt,Te,0,2*Math.PI,!0),++y;break;case gt.CLOSE_PATH:t.closePath(),++y;break;case gt.CUSTOM:x=j[1],E=j[2];const ai=j[3],Ms=j[4],li=j[5];z.geometry=ai,z.feature=$,y in st||(st[y]=[]);const Mn=st[y];li?li(m,x,E,2,Mn):(Mn[0]=m[x],Mn[1]=m[x+1],Mn.length=2),g&&(g.zIndex=j[6]),Ms(Mn,z),++y;break;case gt.DRAW_IMAGE:x=j[1],E=j[2],G=j[3],R=j[4],S=j[5];let Pe=j[6];const gn=j[7],Ce=j[8],Ui=j[9],Bi=j[10];let Xn=j[11];const On=j[12];let Gi=j[13];T=j[14]||"declutter";const ae=j[15];if(!G&&j.length>=20){H=j[19],Z=j[20],K=j[21],et=j[22];const je=this.drawLabelWithPointPlacement_(H,Z,K,et);G=je.label,j[3]=G;const Ln=j[23];R=(je.anchorX-Ln)*this.pixelRatio,j[4]=R;const Le=j[24];S=(je.anchorY-Le)*this.pixelRatio,j[5]=S,Pe=G.height,j[6]=Pe,Gi=G.width,j[13]=Gi}let Oa;j.length>25&&(Oa=j[25]);let Da,Hn,ye;j.length>17?(Da=j[16],Hn=j[17],ye=j[18]):(Da=er,Hn=null,ye=null),Bi&&ft?Xn+=ot:!Bi&&!ft&&(Xn-=ot);let qn=0;for(;x<E;x+=2){if(Oa&&Oa[qn++]<Gi/this.pixelRatio)continue;const je=this.calculateImageOrLabelDimensions_(G.width,G.height,m[x],m[x+1],Gi,Pe,R,S,Ce,Ui,Xn,On,o,Da,!!Hn||!!ye,$),Ln=[t,e,G,je,gn,Hn,ye];if(f){let Le,nn,Ye;if(ae){const wt=E-x;if(!ae[wt]){ae[wt]={args:Ln,declutterMode:T};continue}const ne=ae[wt];Le=ne.args,nn=ne.declutterMode,delete ae[wt],Ye=RE(Le)}let pe,Kt;if(Le&&(nn!=="declutter"||!f.collides(Ye))&&(pe=!0),(T!=="declutter"||!f.collides(je.declutterBox))&&(Kt=!0),nn==="declutter"&&T==="declutter"){const wt=pe&&Kt;pe=wt,Kt=wt}pe&&(nn!=="none"&&f.insert(Ye),this.replayImageOrLabel_.apply(this,Le)),Kt&&(T!=="none"&&f.insert(je.declutterBox),this.replayImageOrLabel_.apply(this,Ln))}else this.replayImageOrLabel_.apply(this,Ln)}++y;break;case gt.DRAW_CHARS:const De=j[1],Eo=j[2],La=j[3],Zc=j[4];et=j[5];const dr=j[6],Os=j[7],Zn=j[8];K=j[9];const Pi=j[10];H=j[11],Array.isArray(H)&&(H=H.reduce(PM,"")),Z=j[12];const Yi=[j[13],j[13]];T=j[14]||"declutter";const Vc=j[15],gr=this.textStates[Z],Xi=gr.font,oi=[gr.scale[0]*Os,gr.scale[1]*Os];let Dn;Xi in this.widths_?Dn=this.widths_[Xi]:(Dn={},this.widths_[Xi]=Dn);const vo=Sv(m,De,Eo,2),Na=Math.abs(oi[0])*nE(Xi,H,Dn);if(Zc||Na<=vo){const je=this.textStates[Z].textAlign,Ln=(vo-Na)*Bd(H,je),Le=BM(m,De,Eo,2,H,Ln,dr,Math.abs(oi[0]),nE,Xi,Dn,ft?0:this.viewRotation_,Vc);t:if(Le){const nn=[];let Ye,pe,Kt,wt,ne;if(K)for(Ye=0,pe=Le.length;Ye<pe;++Ye){ne=Le[Ye],Kt=ne[4],wt=this.createLabel(Kt,Z,"",K),R=ne[2]+(oi[0]<0?-Pi:Pi),S=La*wt.height+(.5-La)*2*Pi*oi[1]/oi[0]-Zn;const sn=this.calculateImageOrLabelDimensions_(wt.width,wt.height,ne[0],ne[1],wt.width,wt.height,R,S,0,0,ne[3],Yi,!1,er,!1,$);if(f&&T==="declutter"&&f.collides(sn.declutterBox))break t;nn.push([t,e,wt,sn,1,null,null])}if(et)for(Ye=0,pe=Le.length;Ye<pe;++Ye){ne=Le[Ye],Kt=ne[4],wt=this.createLabel(Kt,Z,et,""),R=ne[2],S=La*wt.height-Zn;const sn=this.calculateImageOrLabelDimensions_(wt.width,wt.height,ne[0],ne[1],wt.width,wt.height,R,S,0,0,ne[3],Yi,!1,er,!1,$);if(f&&T==="declutter"&&f.collides(sn.declutterBox))break t;nn.push([t,e,wt,sn,1,null,null])}f&&T!=="none"&&f.load(nn.map(RE));for(let sn=0,Kc=nn.length;sn<Kc;++sn)this.replayImageOrLabel_.apply(this,nn[sn])}}++y;break;case gt.END_GEOMETRY:if(c!==void 0){$=j[1];const je=c($,X,T);if(je)return je}++y;break;case gt.FILL:Q?ut++:this.fill_(t),++y;break;case gt.MOVE_TO_LINE_TO:for(x=j[1],E=j[2],rt=m[x],O=m[x+1],t.moveTo(rt,O),C=rt+.5|0,w=O+.5|0,x+=2;x<E;x+=2)rt=m[x],O=m[x+1],L=rt+.5|0,A=O+.5|0,(x==E-2||L!==C||A!==w)&&(t.lineTo(rt,O),C=L,w=A);++y;break;case gt.SET_FILL_STYLE:this.alignAndScaleFill_=j[2],ut&&(this.fill_(t),ut=0,nt&&(t.stroke(),nt=0)),t.fillStyle=j[1],++y;break;case gt.SET_STROKE_STYLE:nt&&(t.stroke(),nt=0),this.setStrokeStyle_(t,j),++y;break;case gt.STROKE:Q?nt++:t.stroke(),++y;break;default:++y;break}}ut&&this.fill_(t),nt&&t.stroke()}execute(t,e,i,a,o,c){this.viewRotation_=a,this.execute_(t,e,i,this.instructions,o,void 0,void 0,c)}executeHitDetection(t,e,i,a,o){return this.viewRotation_=i,this.execute_(t,[t.canvas.width,t.canvas.height],e,this.hitDetectionInstructions,!0,a,o)}}const ha=["Polygon","Circle","LineString","Image","Text","Default"],wv=["Image","Text"],XM=ha.filter(s=>!wv.includes(s));class HM{constructor(t,e,i,a,o,c,h){this.maxExtent_=t,this.overlaps_=a,this.pixelRatio_=i,this.resolution_=e,this.renderBuffer_=c,this.executorsByZIndex_={},this.hitDetectionContext_=null,this.hitDetectionTransform_=Bn(),this.renderedContext_=null,this.deferredZIndexContexts_={},this.createExecutors_(o,h)}clip(t,e){const i=this.getClipCoords(e);t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(i[2],i[3]),t.lineTo(i[4],i[5]),t.lineTo(i[6],i[7]),t.clip()}createExecutors_(t,e){for(const i in t){let a=this.executorsByZIndex_[i];a===void 0&&(a={},this.executorsByZIndex_[i]=a);const o=t[i];for(const c in o){const h=o[c];a[c]=new YM(this.resolution_,this.pixelRatio_,this.overlaps_,h,e)}}}hasExecutors(t){for(const e in this.executorsByZIndex_){const i=this.executorsByZIndex_[e];for(let a=0,o=t.length;a<o;++a)if(t[a]in i)return!0}return!1}forEachFeatureAtCoordinate(t,e,i,a,o,c){a=Math.round(a);const h=a*2+1,f=zi(this.hitDetectionTransform_,a+.5,a+.5,1/e,-1/e,-i,-t[0],-t[1]),g=!this.hitDetectionContext_;g&&(this.hitDetectionContext_=_e(h,h));const m=this.hitDetectionContext_;m.canvas.width!==h||m.canvas.height!==h?(m.canvas.width=h,m.canvas.height=h):g||m.clearRect(0,0,h,h);let y;this.renderBuffer_!==void 0&&(y=An(),Xl(y,t),bg(y,e*(this.renderBuffer_+a),y));const p=qM(a);let x;function E(A,G,H){const Z=m.getImageData(0,0,h,h).data;for(let K=0,et=p.length;K<et;K++)if(Z[p[K]]>0){if(!c||H==="none"||x!=="Image"&&x!=="Text"||c.includes(A)){const ut=(p[K]-3)/4,nt=a-ut%h,st=a-(ut/h|0),ot=o(A,G,nt*nt+st*st);if(ot)return ot}m.clearRect(0,0,h,h);break}}const R=Object.keys(this.executorsByZIndex_).map(Number);R.sort(Di);let S,T,C,w,L;for(S=R.length-1;S>=0;--S){const A=R[S].toString();for(C=this.executorsByZIndex_[A],T=ha.length-1;T>=0;--T)if(x=ha[T],w=C[x],w!==void 0&&(L=w.executeHitDetection(m,f,i,E,y),L))return L}}getClipCoords(t){const e=this.maxExtent_;if(!e)return null;const i=e[0],a=e[1],o=e[2],c=e[3],h=[i,a,i,c,o,c,o,a];return Ts(h,0,8,2,t,h),h}isEmpty(){return pa(this.executorsByZIndex_)}execute(t,e,i,a,o,c,h){const f=Object.keys(this.executorsByZIndex_).map(Number);f.sort(h?sC:Di),c=c||ha;const g=ha.length;for(let m=0,y=f.length;m<y;++m){const p=f[m].toString(),x=this.executorsByZIndex_[p];for(let E=0,R=c.length;E<R;++E){const S=c[E],T=x[S];if(T!==void 0){const C=h===null?void 0:T.getZIndexContext(),w=C?C.getContext():t,L=this.maxExtent_&&S!=="Image"&&S!=="Text";if(L&&(w.save(),this.clip(w,i)),!C||S==="Text"||S==="Image"?T.execute(w,e,i,a,o,h):C.pushFunction(A=>T.execute(A,e,i,a,o,h)),L&&w.restore(),C){C.offset();const A=f[m]*g+E;this.deferredZIndexContexts_[A]||(this.deferredZIndexContexts_[A]=[]),this.deferredZIndexContexts_[A].push(C)}}}}this.renderedContext_=t}getDeferredZIndexContexts(){return this.deferredZIndexContexts_}getRenderedContext(){return this.renderedContext_}renderDeferred(){const t=this.deferredZIndexContexts_,e=Object.keys(t).map(Number).sort(Di);for(let i=0,a=e.length;i<a;++i)t[e[i]].forEach(o=>{o.draw(this.renderedContext_),o.clear()}),t[e[i]].length=0}}const Gd={};function qM(s){if(Gd[s]!==void 0)return Gd[s];const t=s*2+1,e=s*s,i=new Array(e+1);for(let o=0;o<=s;++o)for(let c=0;c<=s;++c){const h=o*o+c*c;if(h>e)break;let f=i[h];f||(f=[],i[h]=f),f.push(((s+o)*t+(s+c))*4+3),o>0&&f.push(((s-o)*t+(s+c))*4+3),c>0&&(f.push(((s+o)*t+(s-c))*4+3),o>0&&f.push(((s-o)*t+(s-c))*4+3))}const a=[];for(let o=0,c=i.length;o<c;++o)i[o]&&a.push(...i[o]);return Gd[s]=a,a}const ei=.5;function ZM(s,t,e,i,a,o,c,h,f){const g=a,m=s[0]*ei,y=s[1]*ei,p=_e(m,y);p.imageSmoothingEnabled=!1;const x=p.canvas,E=new _M(p,ei,a,null,c,h,null),R=e.length,S=Math.floor((256*256*256-1)/R),T={};for(let w=1;w<=R;++w){const L=e[w-1],A=L.getStyleFunction()||i;if(!A)continue;let G=A(L,o);if(!G)continue;Array.isArray(G)||(G=[G]);const Z=(w*S).toString(16).padStart(7,"#00000");for(let K=0,et=G.length;K<et;++K){const ut=G[K],nt=ut.getGeometryFunction()(L);if(!nt||!Qe(g,nt.getExtent()))continue;const st=ut.clone(),ot=st.getFill();ot&&ot.setColor(Z);const ft=st.getStroke();ft&&(ft.setColor(Z),ft.setLineDash(null)),st.setText(void 0);const z=ut.getImage();if(z){const O=z.getImageSize();if(!O)continue;const X=_e(O[0],O[1],void 0,{alpha:!1}),j=X.canvas;X.fillStyle=Z,X.fillRect(0,0,j.width,j.height),st.setImage(new Xc({img:j,anchor:z.getAnchor(),anchorXUnits:"pixels",anchorYUnits:"pixels",offset:z.getOrigin(),opacity:1,size:z.getSize(),scale:z.getScale(),rotation:z.getRotation(),rotateWithView:z.getRotateWithView()}))}const Q=st.getZIndex()||0;let $=T[Q];$||($={},T[Q]=$,$.Polygon=[],$.Circle=[],$.LineString=[],$.Point=[]);const rt=nt.getType();if(rt==="GeometryCollection"){const O=nt.getGeometriesArrayRecursive();for(let X=0,j=O.length;X<j;++X){const tt=O[X];$[tt.getType().replace("Multi","")].push(tt,st)}}else $[rt.replace("Multi","")].push(nt,st)}}const C=Object.keys(T).map(Number).sort(Di);for(let w=0,L=C.length;w<L;++w){const A=T[C[w]];for(const G in A){const H=A[G];for(let Z=0,K=H.length;Z<K;Z+=2){E.setStyle(H[Z+1]);for(let et=0,ut=t.length;et<ut;++et)E.setTransform(t[et]),E.drawGeometry(H[Z])}}}return p.getImageData(0,0,x.width,x.height)}function VM(s,t,e){const i=[];if(e){const a=Math.floor(Math.round(s[0])*ei),o=Math.floor(Math.round(s[1])*ei),c=(te(a,0,e.width-1)+te(o,0,e.height-1)*e.width)*4,h=e.data[c],f=e.data[c+1],m=e.data[c+2]+256*(f+256*h),y=Math.floor((256*256*256-1)/t.length);m&&m%y===0&&i.push(t[m/y-1])}return i}class KM extends yv{constructor(t){super(t),this.boundHandleStyleImageChange_=this.handleStyleImageChange_.bind(this),this.animatingOrInteracting_,this.hitDetectionImageData_=null,this.clipped_=!1,this.renderedFeatures_=null,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=An(),this.wrappedRenderedExtent_=An(),this.renderedRotation_,this.renderedCenter_=null,this.renderedProjection_=null,this.renderedPixelRatio_=1,this.renderedRenderOrder_=null,this.renderedFrameDeclutter_,this.replayGroup_=null,this.replayGroupChanged=!0,this.clipping=!0,this.targetContext_=null,this.opacity_=1}renderWorlds(t,e,i){const a=e.extent,o=e.viewState,c=o.center,h=o.resolution,f=o.projection,g=o.rotation,m=f.getExtent(),y=this.getLayer().getSource(),p=this.getLayer().getDeclutter(),x=e.pixelRatio,E=e.viewHints,R=!(E[ke.ANIMATING]||E[ke.INTERACTING]),S=this.context,T=Math.round(Xt(a)/h*x),C=Math.round(Ge(a)/h*x),w=y.getWrapX()&&f.canWrapX(),L=w?Xt(m):null,A=w?Math.ceil((a[2]-m[2])/L)+1:1;let G=w?Math.floor((a[0]-m[0])/L):0;do{let H=this.getRenderTransform(c,h,0,x,T,C,G*L);e.declutter&&(H=H.slice(0)),t.execute(S,[S.canvas.width,S.canvas.height],H,g,R,i===void 0?ha:i?wv:XM,i?p&&e.declutter[p]:void 0)}while(++G<A)}setDrawContext_(){this.opacity_!==1&&(this.targetContext_=this.context,this.context=_e(this.context.canvas.width,this.context.canvas.height,gE))}resetDrawContext_(){if(this.opacity_!==1){const t=this.targetContext_.globalAlpha;this.targetContext_.globalAlpha=this.opacity_,this.targetContext_.drawImage(this.context.canvas,0,0),this.targetContext_.globalAlpha=t,Bc(this.context),gE.push(this.context.canvas),this.context=this.targetContext_,this.targetContext_=null}}renderDeclutter(t){!this.replayGroup_||!this.getLayer().getDeclutter()||this.renderWorlds(this.replayGroup_,t,!0)}renderDeferredInternal(t){this.replayGroup_&&(this.replayGroup_.renderDeferred(),this.clipped_&&this.context.restore(),this.resetDrawContext_())}renderFrame(t,e){const i=t.layerStatesArray[t.layerIndex];this.opacity_=i.opacity;const a=t.viewState;this.prepareContainer(t,e);const o=this.context,c=this.replayGroup_;let h=c&&!c.isEmpty();if(!h&&!(this.getLayer().hasListener(Tn.PRERENDER)||this.getLayer().hasListener(Tn.POSTRENDER)))return this.container;if(this.setDrawContext_(),this.preRender(o,t),a.projection,this.clipped_=!1,h&&i.extent&&this.clipping){const f=xs(i.extent);h=Qe(f,t.extent),this.clipped_=h&&!Fl(f,t.extent),this.clipped_&&this.clipUnrotated(o,t,f)}return h&&this.renderWorlds(c,t,this.getLayer().getDeclutter()?!1:void 0),!t.declutter&&this.clipped_&&o.restore(),this.postRender(o,t),this.renderedRotation_!==a.rotation&&(this.renderedRotation_=a.rotation,this.hitDetectionImageData_=null),t.declutter||this.resetDrawContext_(),this.container}getFeatures(t){return new Promise(e=>{if(this.frameState&&!this.hitDetectionImageData_&&!this.animatingOrInteracting_){const i=this.frameState.size.slice(),a=this.renderedCenter_,o=this.renderedResolution_,c=this.renderedRotation_,h=this.renderedProjection_,f=this.wrappedRenderedExtent_,g=this.getLayer(),m=[],y=i[0]*ei,p=i[1]*ei;m.push(this.getRenderTransform(a,o,c,ei,y,p,0).slice());const x=g.getSource(),E=h.getExtent();if(x.getWrapX()&&h.canWrapX()&&!Fl(E,f)){let R=f[0];const S=Xt(E);let T=0,C;for(;R<E[0];)--T,C=S*T,m.push(this.getRenderTransform(a,o,c,ei,y,p,C).slice()),R+=S;for(T=0,R=f[2];R>E[2];)++T,C=S*T,m.push(this.getRenderTransform(a,o,c,ei,y,p,C).slice()),R-=S}this.hitDetectionImageData_=ZM(i,m,this.renderedFeatures_,g.getStyleFunction(),f,o,c,yE(o,this.renderedPixelRatio_))}e(VM(t,this.renderedFeatures_,this.hitDetectionImageData_))})}forEachFeatureAtCoordinate(t,e,i,a,o){var p,x;if(!this.replayGroup_)return;const c=e.viewState.resolution,h=e.viewState.rotation,f=this.getLayer(),g={},m=function(E,R,S){const T=jt(E),C=g[T];if(C){if(C!==!0&&S<C.distanceSq){if(S===0)return g[T]=!0,o.splice(o.lastIndexOf(C),1),a(E,f,R);C.geometry=R,C.distanceSq=S}}else{if(S===0)return g[T]=!0,a(E,f,R);o.push(g[T]={feature:E,layer:f,geometry:R,distanceSq:S,callback:a})}},y=this.getLayer().getDeclutter();return this.replayGroup_.forEachFeatureAtCoordinate(t,c,h,i,m,y?(x=(p=e.declutter)==null?void 0:p[y])==null?void 0:x.all().map(E=>E.value):null)}handleFontsChanged(){const t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()}handleStyleImageChange_(t){this.renderIfReadyAndVisible()}prepareFrame(t){const e=this.getLayer(),i=e.getSource();if(!i)return!1;const a=t.viewHints[ke.ANIMATING],o=t.viewHints[ke.INTERACTING],c=e.getUpdateWhileAnimating(),h=e.getUpdateWhileInteracting();if(this.ready&&!c&&a||!h&&o)return this.animatingOrInteracting_=!0,!0;this.animatingOrInteracting_=!1;const f=t.extent,g=t.viewState,m=g.projection,y=g.resolution,p=t.pixelRatio,x=e.getRevision(),E=e.getRenderBuffer();let R=e.getRenderOrder();R===void 0&&(R=pM);const S=g.center.slice(),T=bg(f,E*y),C=T.slice(),w=[T.slice()],L=m.getExtent();if(i.getWrapX()&&m.canWrapX()&&!Fl(L,t.extent)){const ot=Xt(L),ft=Math.max(Xt(T)/2,ot);T[0]=L[0]-ft,T[2]=L[2]+ft,w1(S,m);const z=T1(w[0],m);z[0]<L[0]&&z[2]<L[2]?w.push([z[0]+ot,z[1],z[2]+ot,z[3]]):z[0]>L[0]&&z[2]>L[2]&&w.push([z[0]-ot,z[1],z[2]-ot,z[3]])}if(this.ready&&this.renderedResolution_==y&&this.renderedRevision_==x&&this.renderedRenderOrder_==R&&this.renderedFrameDeclutter_===!!t.declutter&&Fl(this.wrappedRenderedExtent_,T))return As(this.renderedExtent_,C)||(this.hitDetectionImageData_=null,this.renderedExtent_=C),this.renderedCenter_=S,this.replayGroupChanged=!1,!0;this.replayGroup_=null;const A=new UM(Tv(y,p),T,y,p);let G;for(let ot=0,ft=w.length;ot<ft;++ot)i.loadFeatures(w[ot],y,m);const H=yE(y,p);let Z=!0;const K=(ot,ft)=>{let z;const Q=ot.getStyleFunction()||e.getStyleFunction();if(Q&&(z=Q(ot,y)),z){const $=this.renderFeature(ot,H,z,A,G,this.getLayer().getDeclutter(),ft);Z=Z&&!$}},et=k1(T),ut=i.getFeaturesInExtent(et);R&&ut.sort(R);for(let ot=0,ft=ut.length;ot<ft;++ot)K(ut[ot],ot);this.renderedFeatures_=ut,this.ready=Z;const nt=A.finish(),st=new HM(T,y,p,i.getOverlaps(),nt,e.getRenderBuffer(),!!t.declutter);return this.renderedResolution_=y,this.renderedRevision_=x,this.renderedRenderOrder_=R,this.renderedFrameDeclutter_=!!t.declutter,this.renderedExtent_=C,this.wrappedRenderedExtent_=T,this.renderedCenter_=S,this.renderedProjection_=m,this.renderedPixelRatio_=p,this.replayGroup_=st,this.hitDetectionImageData_=null,this.replayGroupChanged=!0,!0}renderFeature(t,e,i,a,o,c,h){if(!i)return!1;let f=!1;if(Array.isArray(i))for(let g=0,m=i.length;g<m;++g)f=pE(a,t,i[g],e,this.boundHandleStyleImageChange_,o,c,h)||f;else f=pE(a,t,i,e,this.boundHandleStyleImageChange_,o,c,h);return f}}class WM extends cv{constructor(t){super(t)}createRenderer(){return new KM(this)}}const Av="/portfolio/assets/shark-img-DXsnI9_q.png",QM=1e3,JM=new dM({url:"https://{a-c}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",attributions:" OpenStreetMap contributors,  CARTO"});function $M(){const s=P.useRef(),t=P.useRef(),e=P.useRef(),[i,a]=P.useState({sharks:[],paths:[]}),[o,c]=P.useState(null),[h,f]=P.useState(!0),[g,m]=P.useState(null),[y,p]=P.useState(0);return P.useCallback((x,E)=>{const R=Math.min(E+QM,x.length),S=x.slice(E,R),T={},C={};return S.forEach(w=>{if(!w.Shark||!w.Depth||!w.Length||!w.Latitude||!w.Longitude||!w.timestamp)return;const L=w.Shark;if(!T[L]&&Object.keys(T).length<10){const H=`hsla(${Object.keys(T).length*36%360}, 85%, 70%, 0.8)`;T[L]={id:L,depth:w.Depth,length:w.Length,lat:w.Latitude,lng:w.Longitude,timestamp:w.timestamp,color:H},C[L]={sharkId:L,points:[{lat:w.Latitude,lng:w.Longitude,timestamp:w.timestamp}],color:H}}else C[L]&&C[L].points.push({lat:w.Latitude,lng:w.Longitude,timestamp:w.timestamp})}),{sharks:Object.values(T),paths:Object.values(C)}},[]),P.useEffect(()=>{(async()=>{try{console.log("Attempting to fetch shark data...");const E=await ue.get("./shark_data.json");console.log("Response received:",{status:E.status,statusText:E.statusText,dataType:typeof E.data,isArray:Array.isArray(E.data),dataLength:Array.isArray(E.data)?E.data.length:"not an array"});const R=E.data;if(!Array.isArray(R))throw new Error(`Invalid data format: Expected an array of shark data, got ${typeof R}`);if(R.length===0)throw new Error("No shark data available");console.log(`Successfully loaded ${R.length} shark data points`);const S=new Set;for(const A of R)if(A.Shark&&!S.has(A.Shark)&&(S.add(A.Shark),S.size>=10))break;console.log("Unique shark IDs:",Array.from(S));const T=R.filter(A=>A.Shark&&S.has(A.Shark));console.log("Filtered data length:",T.length);const C={},w={};[...T].sort((A,G)=>new Date(G.timestamp)-new Date(A.timestamp)).forEach(A=>{if(!A.Shark||!A.Depth||!A.Length||!A.Latitude||!A.Longitude||!A.timestamp)return;const G=A.Shark;if(C[G])w[G].points.push({lat:A.Latitude,lng:A.Longitude,timestamp:A.timestamp});else{const K=`hsla(${Object.keys(C).length*36%360}, 85%, 70%, 0.8)`;C[G]={id:G,depth:A.Depth,length:A.Length,lat:A.Latitude,lng:A.Longitude,timestamp:A.timestamp,color:K},w[G]={sharkId:G,points:[{lat:A.Latitude,lng:A.Longitude,timestamp:A.timestamp}],color:K}}}),Object.values(w).forEach(A=>{A.points.sort((G,H)=>new Date(G.timestamp)-new Date(H.timestamp))}),a({sharks:Object.values(C),paths:Object.values(w)}),f(!1)}catch(E){console.error("Error fetching shark data:",E),m("The shark tracking system is currently under maintenance. Please check back later."),f(!1)}})()},[]),P.useEffect(()=>{if(h||g||s.current)return;const x=new w2({target:t.current,layers:[new K2({source:JM})],view:new ti({center:_d([-118.2615,29.1148]),zoom:10,minZoom:4,maxZoom:12})}),E=new LM,R=new WM({source:E,style:S=>{if(S.get("type")==="shark"){const C=S.get("sharkData"),w=o&&C.id===o.id;return new Un({image:new Ra({radius:w?8:6,fill:new ur({color:C.color}),stroke:new Ss({color:"#ffffff",width:w?3:2})})})}else return new Un({stroke:new Ss({color:S.get("color"),width:2})})}});e.current=R,x.addLayer(R),x.on("click",S=>{const T=x.forEachFeatureAtPixel(S.pixel,w=>w),C=T==null?void 0:T.get("sharkData");c(C?w=>w&&w.id===C.id?null:C:null)}),s.current=x},[h,g,o]),P.useEffect(()=>{var E,R;if(!e.current||h)return;const x=e.current.getSource();x.clear(),(E=i.paths)==null||E.forEach(S=>{const T=S.points.map(w=>_d([w.lng,w.lat])),C=new fc({geometry:new dc(T),sharkId:S.sharkId,color:S.color,type:"path"});x.addFeature(C)}),(R=i.sharks)==null||R.forEach(S=>{const T=new fc({geometry:new jc(_d([S.lng,S.lat])),sharkData:S,type:"shark"});x.addFeature(T)}),s.current&&s.current.render()},[i,h]),P.useEffect(()=>{if(!e.current)return;e.current.setStyle(E=>{const R=E.get("type");if(R==="shark"){const S=E.get("sharkData"),T=o&&S.id===o.id;return new Un({image:new Ra({radius:T?8:6,fill:new ur({color:o?T?S.color:"rgba(128, 128, 128, 0.6)":S.color}),stroke:new Ss({color:"#ffffff",width:T?3:2})})})}else if(R==="path"){const S=E.get("sharkId"),T=o&&S===o.id;return new Un({stroke:new Ss({color:o?T?E.get("color"):"rgba(128, 128, 128, 0.6)":E.get("color"),width:T?3:2})})}}),s.current&&s.current.render()},[o]),g?M.jsxs("div",{style:{padding:"2rem",textAlign:"center",backgroundColor:"rgba(26, 26, 26, 0.8)",borderRadius:"8px",border:"1px solid rgba(45, 95, 138, 0.3)",color:"#646cff",fontSize:"1.2rem",margin:"2rem auto",maxWidth:"600px"},children:[M.jsx("h2",{style:{color:"#2d5f8a",marginBottom:"1rem"},children:"Shark Tracker Status"}),M.jsx("p",{children:g})]}):h?M.jsxs("div",{className:"loading-container",children:[M.jsx("img",{src:Av,alt:"Loading...",className:"loading-shark",style:{width:"100px",height:"100px",objectFit:"contain",marginBottom:"1rem",animation:"spin 2s linear infinite"}}),M.jsx("div",{style:{width:"200px",height:"4px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"2px",marginBottom:"1rem"},children:M.jsx("div",{style:{width:`${y}%`,height:"100%",backgroundColor:"#646cff",borderRadius:"2px",transition:"width 0.3s ease"}})}),M.jsxs("p",{children:["Loading shark data... ",Math.round(y),"%"]})]}):M.jsxs("div",{style:{position:"relative",width:"100%",height:"auto",minHeight:"100vh",overflowY:"auto"},children:[M.jsxs("div",{style:{width:"100%",height:"600px",marginBottom:o?"20px":"0",borderRadius:"8px",overflow:"hidden",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.3)",border:"1px solid rgba(45, 95, 138, 0.3)"},children:[M.jsx("div",{ref:t,style:{width:"100%",height:"100%"}}),o&&M.jsxs("div",{style:{position:"absolute",top:"20px",left:"20px",background:"rgba(26, 26, 26, 0.8)",padding:"20px",borderRadius:"8px",color:"white",maxWidth:"300px",border:"1px solid rgba(45, 95, 138, 0.3)",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[M.jsxs("h3",{style:{color:"#2d5f8a",marginTop:0},children:["Shark ",o.id]}),M.jsxs("div",{style:{marginTop:"15px"},children:[M.jsxs("p",{children:[M.jsx("strong",{children:"Depth:"})," ",o.depth,"m"]}),M.jsxs("p",{children:[M.jsx("strong",{children:"Length:"})," ",o.length,"m"]}),M.jsx("p",{children:M.jsx("strong",{children:"Location:"})}),M.jsxs("p",{children:["Latitude: ",o.lat.toFixed(4),""]}),M.jsxs("p",{children:["Longitude: ",o.lng.toFixed(4),""]}),M.jsx("p",{children:M.jsx("strong",{children:"Last Updated:"})}),M.jsx("p",{children:new Date(o.timestamp).toLocaleString()})]}),M.jsx("button",{onClick:()=>c(null),style:{marginTop:"15px",padding:"8px 15px",background:"#2d5f8a",border:"none",borderRadius:"4px",color:"white",cursor:"pointer",transition:"background-color 0.2s ease"},onMouseOver:x=>x.target.style.backgroundColor="#1a4a7a",onMouseOut:x=>x.target.style.backgroundColor="#2d5f8a",children:"Clear Selection"})]}),M.jsxs("div",{style:{position:"absolute",top:"20px",right:"20px",background:"rgba(26, 26, 26, 0.8)",padding:"15px",borderRadius:"8px",color:"white",maxHeight:"80%",overflowY:"auto",zIndex:1e3,border:"1px solid rgba(45, 95, 138, 0.3)",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},children:[M.jsx("h3",{style:{margin:"0 0 10px 0",color:"#2d5f8a"},children:"Shark Tracking"}),M.jsx("p",{style:{fontSize:"14px",marginBottom:"10px"},children:"Click on a shark to view details"}),[...i.sharks||[]].sort((x,E)=>{const R=parseInt(x.id.replace("WS","")),S=parseInt(E.id.replace("WS",""));return R-S}).map(x=>M.jsxs("div",{onClick:()=>c(E=>(E==null?void 0:E.id)===x.id?null:x),style:{display:"flex",alignItems:"center",marginBottom:"8px",fontSize:"14px",opacity:o?o.id===x.id?1:.5:1,cursor:"pointer",transition:"opacity 0.2s ease"},children:[M.jsx("div",{style:{width:"12px",height:"12px",borderRadius:"50%",backgroundColor:o&&o.id!==x.id?"rgba(128, 128, 128, 0.6)":x.color,marginRight:"8px",border:"2px solid white"}}),M.jsxs("span",{children:["Shark ",parseInt(x.id.replace("WS",""))]})]},`shark-${x.id}`))]})]}),o&&M.jsxs("div",{style:{width:"100%",padding:"20px",backgroundColor:"rgba(26, 26, 26, 0.8)",borderRadius:"8px",border:"1px solid rgba(45, 95, 138, 0.3)",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",marginTop:"20px",marginBottom:"40px",overflow:"hidden"},children:[M.jsxs("h2",{style:{color:"#2d5f8a",marginBottom:"20px"},children:["Movement Track for Shark ",o.id]}),M.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%",overflow:"hidden"},children:M.jsx("img",{src:`./plots/shark_${o.id}.png`,alt:`Movement track for Shark ${o.id}`,style:{maxWidth:"100%",height:"auto",borderRadius:"4px",boxShadow:"0 4px 15px rgba(45, 95, 138, 0.2)",display:"block"},onError:x=>{console.error(`Failed to load plot for shark ${o.id}`),x.target.src="./plots/shark_WS1.png",x.target.alt="Shark track visualization not available"}})})]})]})}function tO(){return M.jsxs("div",{className:"loading-container",children:[M.jsx("img",{src:Av,alt:"Loading...",className:"loading-shark",style:{width:"100px",height:"100px",objectFit:"contain"}}),M.jsx("p",{children:"Loading map data..."})]})}function eO(){const[s,t]=P.useState(!0),[e,i]=P.useState(null),a=_c();P.useEffect(()=>((async()=>{try{await new Promise(h=>setTimeout(h,2e3)),t(!1)}catch{i("Failed to load data"),t(!1)}})(),document.body.classList.add("shark-tracker-bg"),()=>{document.body.classList.remove("shark-tracker-bg")}),[]);const o=()=>{a("/",{state:{targetScene:3}})};return M.jsxs("div",{className:"shark-tracker",children:[M.jsx("h1",{children:"Shark Tracker"}),M.jsx("p",{children:"Welcome to Yali's Great White Shark Tracker Display. Shark Data provided by the SEANOE White Shark database, cleaned and visualized by yours truly. Sharks captured off the coast of Guadalupe Island."}),s?M.jsx(tO,{}):M.jsx($M,{}),e&&M.jsx("p",{className:"error",children:e}),M.jsx(YE,{onClick:o,position:"left",text:"Back to Projects"})]})}function nO(){return M.jsxs(Ub,{children:[M.jsx(Yd,{path:"/",element:M.jsx(wR,{})}),M.jsx(Yd,{path:"/shark-tracker",element:M.jsx(eO,{})})]})}KS.createRoot(document.getElementById("root")).render(M.jsx(P.StrictMode,{children:M.jsx(uR,{children:M.jsx(nO,{})})}));
